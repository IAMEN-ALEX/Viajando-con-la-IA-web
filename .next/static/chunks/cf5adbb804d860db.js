(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,70756,86536,77705,e=>{"use strict";var t=e.i(75254);let r=(0,t.default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);e.s(["Lock",()=>r],70756);let i=(0,t.default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>i],86536);let s=(0,t.default)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);e.s(["EyeOff",()=>s],77705)},75254,e=>{"use strict";var t=e.i(71645);let r=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},i=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,t.forwardRef)(({color:e="currentColor",size:r=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:a="",children:l,iconNode:c,...d},u)=>(0,t.createElement)("svg",{ref:u,...s,width:r,height:r,stroke:e,strokeWidth:o?24*Number(n)/Number(r):n,className:i("lucide",a),...!l&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(d)&&{"aria-hidden":"true"},...d},[...c.map(([e,r])=>(0,t.createElement)(e,r)),...Array.isArray(l)?l:[l]])),o=(e,s)=>{let o=(0,t.forwardRef)(({className:o,...a},l)=>(0,t.createElement)(n,{ref:l,iconNode:s,className:i(`lucide-${r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,o),...a}));return o.displayName=r(e),o};e.s(["default",()=>o],75254)},88653,e=>{"use strict";e.i(47167);var t=e.i(43476),r=e.i(71645),i=e.i(31178),s=e.i(47414),n=e.i(74008),o=e.i(21476),a=e.i(72846),l=r,c=e.i(37806);function d(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}class u extends l.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,r=(0,a.isHTMLElement)(e)&&e.offsetWidth||0,i=this.props.sizeRef.current;i.height=t.offsetHeight||0,i.width=t.offsetWidth||0,i.top=t.offsetTop,i.left=t.offsetLeft,i.right=r-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function p({children:e,isPresent:i,anchorX:s,root:n}){let o=(0,l.useId)(),a=(0,l.useRef)(null),p=(0,l.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:m}=(0,l.useContext)(c.MotionConfigContext),h=function(...e){return r.useCallback(function(...e){return t=>{let r=!1,i=e.map(e=>{let i=d(e,t);return r||"function"!=typeof i||(r=!0),i});if(r)return()=>{for(let t=0;t<i.length;t++){let r=i[t];"function"==typeof r?r():d(e[t],null)}}}}(...e),e)}(a,e.props?.ref??e?.ref);return(0,l.useInsertionEffect)(()=>{let{width:e,height:t,top:r,left:l,right:c}=p.current;if(i||!a.current||!e||!t)return;let d="left"===s?`left: ${l}`:`right: ${c}`;a.current.dataset.motionPopId=o;let u=document.createElement("style");m&&(u.nonce=m);let h=n??document.head;return h.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${t}px !important;
            ${d}px !important;
            top: ${r}px !important;
          }
        `),()=>{h.contains(u)&&h.removeChild(u)}},[i]),(0,t.jsx)(u,{isPresent:i,childRef:a,sizeRef:p,children:l.cloneElement(e,{ref:h})})}let m=({children:e,initial:i,isPresent:n,onExitComplete:a,custom:l,presenceAffectsLayout:c,mode:d,anchorX:u,root:m})=>{let f=(0,s.useConstant)(h),x=(0,r.useId)(),g=!0,y=(0,r.useMemo)(()=>(g=!1,{id:x,initial:i,isPresent:n,custom:l,onExitComplete:e=>{for(let t of(f.set(e,!0),f.values()))if(!t)return;a&&a()},register:e=>(f.set(e,!1),()=>f.delete(e))}),[n,f,a]);return c&&g&&(y={...y}),(0,r.useMemo)(()=>{f.forEach((e,t)=>f.set(t,!1))},[n]),r.useEffect(()=>{n||f.size||!a||a()},[n]),"popLayout"===d&&(e=(0,t.jsx)(p,{isPresent:n,anchorX:u,root:m,children:e})),(0,t.jsx)(o.PresenceContext.Provider,{value:y,children:e})};function h(){return new Map}var f=e.i(64978);let x=e=>e.key||"";function g(e){let t=[];return r.Children.forEach(e,e=>{(0,r.isValidElement)(e)&&t.push(e)}),t}let y=({children:e,custom:o,initial:a=!0,onExitComplete:l,presenceAffectsLayout:c=!0,mode:d="sync",propagate:u=!1,anchorX:p="left",root:h})=>{let[y,j]=(0,f.usePresence)(u),b=(0,r.useMemo)(()=>g(e),[e]),v=u&&!y?[]:b.map(x),w=(0,r.useRef)(!0),C=(0,r.useRef)(b),k=(0,s.useConstant)(()=>new Map),z=(0,r.useRef)(new Set),[S,A]=(0,r.useState)(b),[E,R]=(0,r.useState)(b);(0,n.useIsomorphicLayoutEffect)(()=>{w.current=!1,C.current=b;for(let e=0;e<E.length;e++){let t=x(E[e]);v.includes(t)?(k.delete(t),z.current.delete(t)):!0!==k.get(t)&&k.set(t,!1)}},[E,v.length,v.join("-")]);let P=[];if(b!==S){let e=[...b];for(let t=0;t<E.length;t++){let r=E[t],i=x(r);v.includes(i)||(e.splice(t,0,r),P.push(r))}return"wait"===d&&P.length&&(e=P),R(g(e)),A(b),null}let{forceRender:N}=(0,r.useContext)(i.LayoutGroupContext);return(0,t.jsx)(t.Fragment,{children:E.map(e=>{let r=x(e),i=(!u||!!y)&&(b===E||v.includes(r));return(0,t.jsx)(m,{isPresent:i,initial:(!w.current||!!a)&&void 0,custom:o,presenceAffectsLayout:c,mode:d,root:h,onExitComplete:i?void 0:()=>{if(z.current.has(r)||(z.current.add(r),!k.has(r)))return;k.set(r,!0);let e=!0;k.forEach(t=>{t||(e=!1)}),e&&(N?.(),R(C.current),u&&j?.(),l&&l())},anchorX:p,children:e},r)})})};e.s(["AnimatePresence",()=>y],88653)},72520,63209,e=>{"use strict";var t=e.i(75254);let r=(0,t.default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);e.s(["ArrowRight",()=>r],72520);let i=(0,t.default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>i],63209)},69638,e=>{"use strict";let t=(0,e.i(75254).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],69638)},83033,e=>{"use strict";var t=e.i(43476),r=e.i(18566),i=e.i(71645),s=e.i(70756),n=e.i(72520),o=e.i(63209),a=e.i(69638),l=e.i(86536),c=e.i(77705),d=e.i(46932),u=e.i(88653);let p=({token:e})=>{let p=(0,r.useRouter)(),[m,h]=(0,i.useState)(""),[f,x]=(0,i.useState)(""),[g,y]=(0,i.useState)({password:!1,confirm:!1}),[j,b]=(0,i.useState)(""),[v,w]=(0,i.useState)(!1),[C,k]=(0,i.useState)(!1),[z,S]=(0,i.useState)(!1),[A,E]=(0,i.useState)(!1),R=m.length>=6,P=m===f,N=g.password&&!R,M=g.confirm&&!P,L=async t=>{if(t.preventDefault(),y({password:!0,confirm:!0}),!R||!P)return void b("Por favor corrige los campos marcados");b(""),k(!0);try{let t=await fetch("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e,password:m})}),r=await t.json();if(!t.ok){b(r.message||"Error al restablecer la contraseña"),k(!1);return}w(!0),setTimeout(()=>{p.push("/")},3e3)}catch(e){b("Ocurrió un error inesperado"),k(!1)}};return v?(0,t.jsxs)(d.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"glass-ultra",style:{padding:"3.5rem",width:"100%",maxWidth:"480px",zIndex:10,textAlign:"center"},children:[(0,t.jsx)(d.motion.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},style:{marginBottom:"1.5rem"},children:(0,t.jsx)(a.CheckCircle,{size:64,style:{color:"#10b981",margin:"0 auto"}})}),(0,t.jsx)("h2",{className:"gradient-text",style:{fontSize:"2rem",marginBottom:"1rem"},children:"¡Contraseña Actualizada!"}),(0,t.jsxs)("p",{style:{color:"#94a3b8",marginBottom:"2rem",lineHeight:"1.6"},children:["Tu contraseña ha sido restablecida exitosamente.",(0,t.jsx)("br",{}),"Serás redirigido al login en unos segundos..."]}),(0,t.jsx)("div",{className:"animate-pulse",style:{color:"#818cf8"},children:"Redirigiendo..."})]}):(0,t.jsxs)(d.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"glass-ultra",style:{padding:"3.5rem",width:"100%",maxWidth:"480px",zIndex:10},children:[(0,t.jsxs)("div",{style:{textAlign:"center",marginBottom:"2.5rem"},children:[(0,t.jsx)("h1",{className:"gradient-text",style:{fontSize:"2.5rem",margin:"0 0 0.5rem 0"},children:"Nueva Contraseña"}),(0,t.jsx)("p",{style:{color:"#94a3b8",fontSize:"0.95rem"},children:"Ingresa tu nueva contraseña"})]}),(0,t.jsxs)("form",{onSubmit:L,children:[(0,t.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,t.jsxs)("label",{htmlFor:"password",style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem",color:"#94a3b8",fontSize:"0.9rem",fontWeight:500},children:[(0,t.jsx)(s.Lock,{size:16})," Nueva Contraseña"]}),(0,t.jsxs)("div",{style:{position:"relative"},children:[(0,t.jsx)("input",{type:z?"text":"password",id:"password",name:"password",autoComplete:"new-password",className:"input-glass",style:{borderColor:N?"rgba(239, 68, 68, 0.5)":void 0,paddingRight:"45px"},placeholder:"Mínimo 6 caracteres",value:m,onChange:e=>h(e.target.value),onBlur:()=>y(e=>({...e,password:!0})),required:!0,autoFocus:!0,disabled:C}),(0,t.jsx)("button",{type:"button",onClick:()=>S(!z),disabled:C,style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:C?"not-allowed":"pointer",color:"#94a3b8",padding:"4px",display:"flex",alignItems:"center",justifyContent:"center",transition:"color 0.2s ease",opacity:C?.5:1},onMouseEnter:e=>!C&&(e.currentTarget.style.color="#818cf8"),onMouseLeave:e=>e.currentTarget.style.color="#94a3b8",children:z?(0,t.jsx)(c.EyeOff,{size:18}):(0,t.jsx)(l.Eye,{size:18})}),(0,t.jsx)(u.AnimatePresence,{children:N&&(0,t.jsx)(d.motion.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0},style:{position:"absolute",right:"45px",top:"12px",color:"#f87171"},children:(0,t.jsx)(o.AlertCircle,{size:18})})})]}),N&&(0,t.jsx)("p",{style:{color:"#f87171",fontSize:"0.8rem",marginTop:"0.25rem",marginLeft:"0.2rem"},children:"Mínimo 6 caracteres"})]}),(0,t.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,t.jsxs)("label",{htmlFor:"confirmPassword",style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem",color:"#94a3b8",fontSize:"0.9rem",fontWeight:500},children:[(0,t.jsx)(s.Lock,{size:16})," Confirmar Contraseña"]}),(0,t.jsxs)("div",{style:{position:"relative"},children:[(0,t.jsx)("input",{type:A?"text":"password",id:"confirmPassword",name:"confirmPassword",autoComplete:"new-password",className:"input-glass",style:{borderColor:M?"rgba(239, 68, 68, 0.5)":void 0,paddingRight:"45px"},placeholder:"Repite tu contraseña",value:f,onChange:e=>x(e.target.value),onBlur:()=>y(e=>({...e,confirm:!0})),required:!0,disabled:C}),(0,t.jsx)("button",{type:"button",onClick:()=>E(!A),disabled:C,style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:C?"not-allowed":"pointer",color:"#94a3b8",padding:"4px",display:"flex",alignItems:"center",justifyContent:"center",transition:"color 0.2s ease",opacity:C?.5:1},onMouseEnter:e=>!C&&(e.currentTarget.style.color="#818cf8"),onMouseLeave:e=>e.currentTarget.style.color="#94a3b8",children:A?(0,t.jsx)(c.EyeOff,{size:18}):(0,t.jsx)(l.Eye,{size:18})}),(0,t.jsx)(u.AnimatePresence,{children:M&&(0,t.jsx)(d.motion.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0},style:{position:"absolute",right:"45px",top:"12px",color:"#f87171"},children:(0,t.jsx)(o.AlertCircle,{size:18})})})]}),M&&(0,t.jsx)("p",{style:{color:"#f87171",fontSize:"0.8rem",marginTop:"0.25rem",marginLeft:"0.2rem"},children:"Las contraseñas no coinciden"})]}),(0,t.jsx)(u.AnimatePresence,{children:j&&(0,t.jsx)(d.motion.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},style:{marginBottom:"1.5rem",padding:"0.75rem 1rem",background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"0.75rem",color:"#fca5a5",fontSize:"0.9rem",textAlign:"center",overflow:"hidden"},children:j})}),(0,t.jsx)("button",{type:"submit",className:"btn-glass-premium",disabled:C,style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",gap:"0.5rem",cursor:C?"progress":"pointer"},children:C?(0,t.jsx)("span",{className:"animate-pulse",children:"Actualizando..."}):(0,t.jsxs)(t.Fragment,{children:["Restablecer Contraseña ",(0,t.jsx)(n.ArrowRight,{size:20})]})})]})]})};function m(){let e=(0,r.useSearchParams)().get("token");return e?(0,t.jsx)(p,{token:e}):(0,t.jsxs)("div",{className:"glass-ultra",style:{padding:"3rem",textAlign:"center",maxWidth:"480px"},children:[(0,t.jsx)("h2",{className:"gradient-text",style:{fontSize:"2rem",marginBottom:"1rem"},children:"Token Inválido"}),(0,t.jsx)("p",{style:{color:"#94a3b8"},children:"El enlace de recuperación no es válido o ha expirado."})]})}function h(){return(0,t.jsx)(i.Suspense,{fallback:(0,t.jsx)("div",{className:"glass-ultra",style:{padding:"3rem",textAlign:"center",maxWidth:"480px"},children:(0,t.jsx)("div",{className:"animate-pulse",style:{color:"#818cf8"},children:"Cargando..."})}),children:(0,t.jsx)(m,{})})}e.s(["default",()=>h],83033)}]);