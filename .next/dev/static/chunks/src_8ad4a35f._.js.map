{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/app/dashboard/dashboard.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"actionButtons\": \"dashboard-module__XABe8G__actionButtons\",\n  \"btnAddNote\": \"dashboard-module__XABe8G__btnAddNote\",\n  \"btnCancel\": \"dashboard-module__XABe8G__btnCancel\",\n  \"btnDelete\": \"dashboard-module__XABe8G__btnDelete\",\n  \"btnEdit\": \"dashboard-module__XABe8G__btnEdit\",\n  \"btnPrimary\": \"dashboard-module__XABe8G__btnPrimary\",\n  \"btnSecondary\": \"dashboard-module__XABe8G__btnSecondary\",\n  \"btnTertiary\": \"dashboard-module__XABe8G__btnTertiary\",\n  \"closeBtn\": \"dashboard-module__XABe8G__closeBtn\",\n  \"container\": \"dashboard-module__XABe8G__container\",\n  \"dashboardBg\": \"dashboard-module__XABe8G__dashboardBg\",\n  \"dateInputs\": \"dashboard-module__XABe8G__dateInputs\",\n  \"floatOrb1\": \"dashboard-module__XABe8G__floatOrb1\",\n  \"floatOrb2\": \"dashboard-module__XABe8G__floatOrb2\",\n  \"header\": \"dashboard-module__XABe8G__header\",\n  \"input\": \"dashboard-module__XABe8G__input\",\n  \"inputGroup\": \"dashboard-module__XABe8G__inputGroup\",\n  \"lightStreak1\": \"dashboard-module__XABe8G__lightStreak1\",\n  \"lightStreak2\": \"dashboard-module__XABe8G__lightStreak2\",\n  \"logoutBtn\": \"dashboard-module__XABe8G__logoutBtn\",\n  \"responseBox\": \"dashboard-module__XABe8G__responseBox\",\n  \"responseHeader\": \"dashboard-module__XABe8G__responseHeader\",\n  \"responseText\": \"dashboard-module__XABe8G__responseText\",\n  \"responseTitle\": \"dashboard-module__XABe8G__responseTitle\",\n  \"section\": \"dashboard-module__XABe8G__section\",\n  \"sectionTitle\": \"dashboard-module__XABe8G__sectionTitle\",\n  \"shimmer\": \"dashboard-module__XABe8G__shimmer\",\n  \"tripActions\": \"dashboard-module__XABe8G__tripActions\",\n  \"tripCard\": \"dashboard-module__XABe8G__tripCard\",\n  \"tripCardActions\": \"dashboard-module__XABe8G__tripCardActions\",\n  \"tripCardHeader\": \"dashboard-module__XABe8G__tripCardHeader\",\n  \"tripCardNotes\": \"dashboard-module__XABe8G__tripCardNotes\",\n  \"tripDisplay\": \"dashboard-module__XABe8G__tripDisplay\",\n  \"tripFormRow\": \"dashboard-module__XABe8G__tripFormRow\",\n  \"tripItem\": \"dashboard-module__XABe8G__tripItem\",\n  \"tripText\": \"dashboard-module__XABe8G__tripText\",\n  \"usernameDisplay\": \"dashboard-module__XABe8G__usernameDisplay\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/src/services/tripService.ts"],"sourcesContent":["import { Trip } from '@/types';\r\n\r\nexport const tripService = {\r\n    async getTrips(userId: string): Promise<Trip[]> {\r\n        const res = await fetch(`/api/trips?userId=${userId}`);\r\n        if (!res.ok) throw new Error('Failed to fetch trips');\r\n        const data = await res.json();\r\n        return data.trips;\r\n    },\r\n\r\n    async createTrip(tripData: Partial<Trip> & { userId: string }): Promise<Trip> {\r\n        const res = await fetch('/api/trips', {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify(tripData),\r\n        });\r\n        if (!res.ok) throw new Error('Failed to create trip');\r\n        const data = await res.json();\r\n        return data.trip;\r\n    },\r\n\r\n    async deleteTrip(tripId: string): Promise<void> {\r\n        const res = await fetch(`/api/trips/${tripId}`, {\r\n            method: 'DELETE',\r\n        });\r\n        if (!res.ok) throw new Error('Failed to delete trip');\r\n    },\r\n\r\n    async updateTrip(trip: Trip): Promise<Trip> {\r\n        const res = await fetch(`/api/trips/${trip.id}`, {\r\n            method: 'PUT',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify(trip),\r\n        });\r\n        if (!res.ok) throw new Error('Failed to update trip');\r\n        const data = await res.json();\r\n        return data.trip;\r\n    }\r\n};\r\n"],"names":[],"mappings":";;;;AAEO,MAAM,cAAc;IACvB,MAAM,UAAS,MAAc;QACzB,MAAM,MAAM,MAAM,MAAM,CAAC,kBAAkB,EAAE,QAAQ;QACrD,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;QAC7B,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,OAAO,KAAK,KAAK;IACrB;IAEA,MAAM,YAAW,QAA4C;QACzD,MAAM,MAAM,MAAM,MAAM,cAAc;YAClC,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;QACzB;QACA,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;QAC7B,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,OAAO,KAAK,IAAI;IACpB;IAEA,MAAM,YAAW,MAAc;QAC3B,MAAM,MAAM,MAAM,MAAM,CAAC,WAAW,EAAE,QAAQ,EAAE;YAC5C,QAAQ;QACZ;QACA,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;IACjC;IAEA,MAAM,YAAW,IAAU;QACvB,MAAM,MAAM,MAAM,MAAM,CAAC,WAAW,EAAE,KAAK,EAAE,EAAE,EAAE;YAC7C,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;QACzB;QACA,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;QAC7B,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,OAAO,KAAK,IAAI;IACpB;AACJ"}},
    {"offset": {"line": 95, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/src/hooks/useTrips.ts"],"sourcesContent":["import { useState, useCallback } from 'react';\r\nimport { Trip } from '@/types';\r\nimport { tripService } from '@/services/tripService';\r\n\r\nexport const useTrips = () => {\r\n    const [trips, setTrips] = useState<Trip[]>([]);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [error, setError] = useState<string | null>(null);\r\n\r\n    const fetchTrips = useCallback(async (userId: string) => {\r\n        console.log('[CLIENT_DEBUG] fetchTrips called with:', userId);\r\n        // Try to load from cache first for instant feel\r\n        const cached = localStorage.getItem(`cached_trips_${userId}`);\r\n        if (cached) {\r\n            setTrips(JSON.parse(cached));\r\n        } else {\r\n            setIsLoading(true);\r\n        }\r\n\r\n        setError(null);\r\n        try {\r\n            const data = await tripService.getTrips(userId);\r\n            setTrips(data);\r\n            // Update cache\r\n            localStorage.setItem(`cached_trips_${userId}`, JSON.stringify(data));\r\n        } catch (err) {\r\n            setError('Error al cargar viajes');\r\n            console.error(err);\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    }, []);\r\n\r\n    const addTrip = useCallback(async (tripData: Partial<Trip> & { userId: string }) => {\r\n        // Optimistic update could go here, but for now we wait for server response\r\n        try {\r\n            const newTrip = await tripService.createTrip(tripData);\r\n            setTrips(prev => [newTrip, ...prev]);\r\n            return newTrip;\r\n        } catch (err) {\r\n            setError('Error al crear viaje');\r\n            console.error(err);\r\n            throw err;\r\n        }\r\n    }, []);\r\n\r\n    const deleteTrip = useCallback(async (tripId: string) => {\r\n        try {\r\n            // Optimistic update\r\n            setTrips(prev => prev.filter(t => t.id !== tripId));\r\n            await tripService.deleteTrip(tripId);\r\n        } catch (err) {\r\n            // Rollback if needed, but for simple MVP re-fetch or alert is fine\r\n            setError('Error al eliminar viaje');\r\n            console.error(err);\r\n            // Optionally fetchTrips(userId) to rollback\r\n        }\r\n    }, []);\r\n\r\n    const updateTrip = useCallback(async (updatedTrip: Trip) => {\r\n        try {\r\n            setTrips(prev => prev.map(t => t.id === updatedTrip.id ? updatedTrip : t));\r\n            await tripService.updateTrip(updatedTrip);\r\n        } catch (err) {\r\n            setError('Error al actualizar viaje');\r\n            console.error(err);\r\n        }\r\n    }, []);\r\n\r\n    return {\r\n        trips,\r\n        isLoading,\r\n        error,\r\n        fetchTrips,\r\n        addTrip,\r\n        deleteTrip,\r\n        updateTrip,\r\n        setTrips // Exposed for manual updates if really needed\r\n    };\r\n};\r\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAEO,MAAM,WAAW;;IACpB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAS,EAAE;IAC7C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAC3C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAgB;IAElD,MAAM,aAAa,IAAA,4KAAW;4CAAC,OAAO;YAClC,QAAQ,GAAG,CAAC,0CAA0C;YACtD,gDAAgD;YAChD,MAAM,SAAS,aAAa,OAAO,CAAC,CAAC,aAAa,EAAE,QAAQ;YAC5D,IAAI,QAAQ;gBACR,SAAS,KAAK,KAAK,CAAC;YACxB,OAAO;gBACH,aAAa;YACjB;YAEA,SAAS;YACT,IAAI;gBACA,MAAM,OAAO,MAAM,gJAAW,CAAC,QAAQ,CAAC;gBACxC,SAAS;gBACT,eAAe;gBACf,aAAa,OAAO,CAAC,CAAC,aAAa,EAAE,QAAQ,EAAE,KAAK,SAAS,CAAC;YAClE,EAAE,OAAO,KAAK;gBACV,SAAS;gBACT,QAAQ,KAAK,CAAC;YAClB,SAAU;gBACN,aAAa;YACjB;QACJ;2CAAG,EAAE;IAEL,MAAM,UAAU,IAAA,4KAAW;yCAAC,OAAO;YAC/B,2EAA2E;YAC3E,IAAI;gBACA,MAAM,UAAU,MAAM,gJAAW,CAAC,UAAU,CAAC;gBAC7C;qDAAS,CAAA,OAAQ;4BAAC;+BAAY;yBAAK;;gBACnC,OAAO;YACX,EAAE,OAAO,KAAK;gBACV,SAAS;gBACT,QAAQ,KAAK,CAAC;gBACd,MAAM;YACV;QACJ;wCAAG,EAAE;IAEL,MAAM,aAAa,IAAA,4KAAW;4CAAC,OAAO;YAClC,IAAI;gBACA,oBAAoB;gBACpB;wDAAS,CAAA,OAAQ,KAAK,MAAM;gEAAC,CAAA,IAAK,EAAE,EAAE,KAAK;;;gBAC3C,MAAM,gJAAW,CAAC,UAAU,CAAC;YACjC,EAAE,OAAO,KAAK;gBACV,mEAAmE;gBACnE,SAAS;gBACT,QAAQ,KAAK,CAAC;YACd,4CAA4C;YAChD;QACJ;2CAAG,EAAE;IAEL,MAAM,aAAa,IAAA,4KAAW;4CAAC,OAAO;YAClC,IAAI;gBACA;wDAAS,CAAA,OAAQ,KAAK,GAAG;gEAAC,CAAA,IAAK,EAAE,EAAE,KAAK,YAAY,EAAE,GAAG,cAAc;;;gBACvE,MAAM,gJAAW,CAAC,UAAU,CAAC;YACjC,EAAE,OAAO,KAAK;gBACV,SAAS;gBACT,QAAQ,KAAK,CAAC;YAClB;QACJ;2CAAG,EAAE;IAEL,OAAO;QACH;QACA;QACA;QACA;QACA;QACA;QACA;QACA;IACJ;AACJ;GA3Ea"}},
    {"offset": {"line": 204, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/src/app/dashboard/page.tsx"],"sourcesContent":["'use client';\r\nimport React, { useEffect } from 'react';\r\nimport dynamic from 'next/dynamic';\r\nimport { motion } from 'framer-motion';\r\nimport styles from './dashboard.module.css';\r\n\r\n// Hooks\r\n// Hooks\r\nimport { useTrips } from '@/hooks/useTrips';\r\n// import { useDashboardAuth } from '@/hooks/useDashboardAuth';\r\nimport { useAuth } from '@/context/AuthContext';\r\nimport { useRouter } from 'next/navigation';\r\n\r\n// ... imports\r\n\r\nexport default function DashboardPage() {\r\n    const { user, logout, isAuthenticated, isLoading } = useAuth();\r\n    const router = useRouter();\r\n\r\n    // Local state for onboarding (could also be in context, but keeping local for now)\r\n    const [showOnboarding, setShowOnboarding] = React.useState(false);\r\n\r\n    // Effect to handle protection and onboarding check\r\n    useEffect(() => {\r\n        if (!isLoading) {\r\n            if (!isAuthenticated) {\r\n                router.replace('/');\r\n            } else if (user) {\r\n                // Check if user has seen onboarding\r\n                // We moved this logic out of the hook, so we need to replicate or move it to context.\r\n                // For now, let's keep it simple: always show onboarding for demo or check storage.\r\n                // The previous hook said: \"Always show onboarding for demo purposes as established\"\r\n                setShowOnboarding(true);\r\n            }\r\n        }\r\n    }, [isLoading, isAuthenticated, user, router]);\r\n\r\n    const handleOnboardingComplete = () => {\r\n        setShowOnboarding(false);\r\n        // if (user) localStorage.setItem(`onboarding_seen_${user.id}`, 'true'); \r\n    };\r\n\r\n    // Derived values for compatibility\r\n    const username = user?.name || '';\r\n    const userId = user?.id || '';\r\n\r\n    const {\r\n        trips,\r\n        fetchTrips,\r\n        addTrip,\r\n        deleteTrip,\r\n        updateTrip\r\n    } = useTrips();\r\n\r\n    const [shouldLoadBg, setShouldLoadBg] = React.useState(false);\r\n\r\n    useEffect(() => {\r\n        // Delay background heavy load to prioritize interactivity\r\n        const timer = setTimeout(() => setShouldLoadBg(true), 100);\r\n        return () => clearTimeout(timer);\r\n    }, []);\r\n\r\n    // Fetch trips once user is identified\r\n    useEffect(() => {\r\n        if (userId) {\r\n            fetchTrips(userId);\r\n        }\r\n    }, [userId, fetchTrips]);\r\n\r\n    if (isLoading) {\r\n        return <DashboardSkeleton />;\r\n    }\r\n\r\n    return (\r\n        <div className={styles.dashboardBg}>\r\n            {showOnboarding ? (\r\n                <Onboarding onComplete={handleOnboardingComplete} />\r\n            ) : (\r\n                <>\r\n                    {/* GridScan Background Effect - Delayed Load */}\r\n                    {shouldLoadBg && (\r\n                        <div style={{\r\n                            position: 'fixed',\r\n                            top: 0,\r\n                            left: 0,\r\n                            width: '100vw',\r\n                            height: '100vh',\r\n                            zIndex: 0,\r\n                            pointerEvents: 'none',\r\n                            opacity: 0,\r\n                            animation: 'fadeInGrid 1s ease-in-out forwards',\r\n                            contentVisibility: 'auto'\r\n                        }}>\r\n                            <style jsx>{`\r\n                                @keyframes fadeInGrid {\r\n                                    from { opacity: 0; }\r\n                                    to { opacity: 1; }\r\n                                }\r\n                            `}</style>\r\n                            <GridScan\r\n                                sensitivity={0.7}\r\n                                lineThickness={1}\r\n                                linesColor=\"#392e4e\"\r\n                                gridScale={0.1}\r\n                                scanColor=\"#9eecff\"\r\n                                scanOpacity={0.7}\r\n                                lineJitter={0.1}\r\n                                scanGlow={0.5}\r\n                                scanSoftness={2}\r\n                                scanDuration={5.0}\r\n                                scanDelay={1.0}\r\n                                enablePost={true}\r\n                                bloomIntensity={1.2}\r\n                                chromaticAberration={0.002}\r\n                                noiseIntensity={0.01}\r\n                                enableWebcam={false}\r\n                                showPreview={false}\r\n                                style={{ width: '100%', height: '100%' }}\r\n                            />\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Dashboard Content */}\r\n                    <motion.div\r\n                        initial={{ opacity: 0, y: 10 }}\r\n                        animate={{ opacity: 1, y: 0 }}\r\n                        transition={{ duration: 0.2, ease: \"easeOut\" }} // Even faster entry\r\n                        style={{ position: 'relative', zIndex: 1 }}\r\n                    >\r\n                        {/* Animated light streaks */}\r\n                        <div className={styles.lightStreak1}></div>\r\n                        <div className={styles.lightStreak2}></div>\r\n\r\n                        <DashboardHeader username={username} onLogout={logout} />\r\n\r\n                        <div className={styles.container}>\r\n                            <AIQuerySection trips={trips} />\r\n\r\n                            <AddTripForm userId={userId} onTripAdded={(newTrip) => addTrip({ ...newTrip } as any)} />\r\n\r\n                            <TripList\r\n                                trips={trips}\r\n                                onDeleteTrip={deleteTrip}\r\n                                onUpdateTrip={updateTrip}\r\n                            />\r\n                        </div>\r\n                    </motion.div>\r\n                </>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}