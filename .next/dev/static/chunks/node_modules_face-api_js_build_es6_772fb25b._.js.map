{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/draw/drawContour.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/draw/drawContour.ts"],"sourcesContent":["import { Point } from 'tfjs-image-recognition-base';\r\n\r\nexport function drawContour(\r\n  ctx: CanvasRenderingContext2D,\r\n  points: Point[],\r\n  isClosed: boolean = false\r\n) {\r\n  ctx.beginPath()\r\n\r\n  points.slice(1).forEach(({ x, y }, prevIdx) => {\r\n    const from = points[prevIdx]\r\n    ctx.moveTo(from.x, from.y)\r\n    ctx.lineTo(x, y)\r\n  })\r\n\r\n  if (isClosed) {\r\n    const from = points[points.length - 1]\r\n    const to = points[0]\r\n    if (!from || !to) {\r\n      return\r\n    }\r\n\r\n    ctx.moveTo(from.x, from.y)\r\n    ctx.lineTo(to.x, to.y)\r\n  }\r\n\r\n  ctx.stroke()\r\n}"],"names":[],"mappings":";;;;AAEM,SAAU,WAAW,CACzB,GAA6B,EAC7B,MAAe,EACf,QAAyB;IAAzB,IAAA,aAAA,KAAA,GAAA;QAAA,WAAA,KAAyB;IAAA;IAEzB,GAAG,CAAC,SAAS,EAAE,CAAA;IAEf,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,SAAC,EAAQ,EAAE,OAAO;YAAf,IAAA,GAAA,CAAC,EAAE,IAAA,GAAA,CAAC;QAC7B,IAAM,IAAI,GAAG,MAAM,CAAC,OAAO,CAAC,CAAA;QAC5B,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAA;QAC1B,GAAG,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAA;IAClB,CAAC,CAAC,CAAA;IAEF,IAAI,QAAQ,EAAE;QACZ,IAAM,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,CAAA;QACtC,IAAM,EAAE,GAAG,MAAM,CAAC,CAAC,CAAC,CAAA;QACpB,IAAI,CAAC,IAAI,IAAI,CAAC,EAAE,EAAE;YAChB,OAAM;SACP;QAED,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAA;QAC1B,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAA;KACvB;IAED,GAAG,CAAC,MAAM,EAAE,CAAA;AACd,CAAC"}},
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/classes/FaceDetection.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/classes/FaceDetection.ts"],"sourcesContent":["import { Box, IDimensions, ObjectDetection, Rect } from 'tfjs-image-recognition-base';\r\n\r\nexport interface IFaceDetecion {\r\n  score: number\r\n  box: Box\r\n}\r\n\r\nexport class FaceDetection extends ObjectDetection implements IFaceDetecion {\r\n  constructor(\r\n    score: number,\r\n    relativeBox: Rect,\r\n    imageDims: IDimensions\r\n  ) {\r\n    super(score, score, '', relativeBox, imageDims)\r\n  }\r\n\r\n  public forSize(width: number, height: number): FaceDetection {\r\n    const { score, relativeBox, imageDims } = super.forSize(width, height)\r\n    return new FaceDetection(score, relativeBox, imageDims)\r\n  }\r\n}"],"names":[],"mappings":";;;;;;AAAA,OAAO,EAAoB,eAAe,EAAQ,MAAM,6BAA6B,CAAC;;;AAOtF,IAAA,gBAAA,SAAA,MAAA;IAAmC,0LAAA,CAAA,eAAA,QAAe;IAChD,SAAA,cACE,KAAa,EACb,WAAiB,EACjB,SAAsB;eAEtB,OAAA,IAAA,CAAA,IAAA,EAAM,KAAK,EAAE,KAAK,EAAE,EAAE,EAAE,WAAW,EAAE,SAAS,CAAC,IAAA,IAAA;IACjD,CAAC;IAEM,cAAA,SAAA,CAAA,OAAO,GAAd,SAAe,KAAa,EAAE,MAAc;QACpC,IAAA,KAAA,OAAA,SAAA,CAAA,OAAA,CAAA,IAAA,CAAA,IAAA,EAAA,OAAA,OAAgE,EAA9D,QAAA,GAAA,KAAK,EAAE,cAAA,GAAA,WAAW,EAAE,YAAA,GAAA,SAA0C,CAAA;QACtE,OAAO,IAAI,aAAa,CAAC,KAAK,EAAE,WAAW,EAAE,SAAS,CAAC,CAAA;IACzD,CAAC;IACH,OAAA,aAAC;AAAD,CAAC,AAbD,CAAmC,wNAAe,GAajD"}},
    {"offset": {"line": 60, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/factories/WithFaceDetection.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/factories/WithFaceDetection.ts"],"sourcesContent":["import { FaceDetection } from '../classes/FaceDetection';\r\n\r\nexport type WithFaceDetection<TSource> = TSource & {\r\n  detection: FaceDetection\r\n}\r\n\r\nexport function isWithFaceDetection(obj: any): obj is WithFaceDetection<{}> {\r\n  return obj['detection'] instanceof FaceDetection\r\n}\r\n\r\nexport function extendWithFaceDetection<\r\n  TSource\r\n> (\r\n  sourceObj: TSource,\r\n  detection: FaceDetection\r\n): WithFaceDetection<TSource> {\r\n\r\n  const extension = { detection }\r\n  return Object.assign({}, sourceObj, extension)\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA,OAAO,EAAE,aAAa,EAAE,MAAM,0BAA0B,CAAC;;AAMnD,SAAU,mBAAmB,CAAC,GAAQ;IAC1C,OAAO,GAAG,CAAC,WAAW,CAAC,YAAY,iMAAa,CAAA;AAClD,CAAC;AAEK,SAAU,uBAAuB,CAGrC,SAAkB,EAClB,SAAwB;IAGxB,IAAM,SAAS,GAAG;QAAE,SAAS,EAAA,SAAA;IAAA,CAAE,CAAA;IAC/B,OAAO,MAAM,CAAC,MAAM,CAAC,CAAA,CAAE,EAAE,SAAS,EAAE,SAAS,CAAC,CAAA;AAChD,CAAC"}},
    {"offset": {"line": 81, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/draw/drawDetections.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/draw/drawDetections.ts"],"sourcesContent":["import { Box, draw, IBoundingBox, IRect, round } from 'tfjs-image-recognition-base';\r\n\r\nimport { FaceDetection } from '../classes/FaceDetection';\r\nimport { isWithFaceDetection, WithFaceDetection } from '../factories/WithFaceDetection';\r\n\r\nexport type TDrawDetectionsInput = IRect | IBoundingBox | FaceDetection | WithFaceDetection<{}>\r\n\r\nexport function drawDetections(\r\n  canvasArg: string | HTMLCanvasElement,\r\n  detections: TDrawDetectionsInput | Array<TDrawDetectionsInput>\r\n) {\r\n  const detectionsArray = Array.isArray(detections) ? detections : [detections]\r\n\r\n  detectionsArray.forEach(det => {\r\n    const score = det instanceof FaceDetection\r\n      ? det.score\r\n      : (isWithFaceDetection(det) ? det.detection.score : undefined)\r\n\r\n    const box = det instanceof FaceDetection\r\n      ? det.box\r\n      : (isWithFaceDetection(det) ? det.detection.box : new Box(det))\r\n\r\n    const label = score ? `${round(score)}` : undefined\r\n    new draw.DrawBox(box, { label }).draw(canvasArg)\r\n  })\r\n}"],"names":[],"mappings":";;;;;;;AAAA,OAAO,EAAE,GAAG,EAAE,IAAI,EAAuB,KAAK,EAAE,MAAM,6BAA6B,CAAC;AAEpF,OAAO,EAAE,aAAa,EAAE,MAAM,0BAA0B,CAAC;AACzD,OAAO,EAAE,mBAAmB,EAAqB,MAAM,gCAAgC,CAAC;;;;AAIlF,SAAU,cAAc,CAC5B,SAAqC,EACrC,UAA8D;IAE9D,IAAM,eAAe,GAAG,KAAK,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;QAAC,UAAU;KAAC,CAAA;IAE7E,eAAe,CAAC,OAAO,CAAC,SAAA,GAAG;QACzB,IAAM,KAAK,GAAG,GAAG,YAAY,iMAAa,GACtC,GAAG,CAAC,KAAK,OACR,6MAAmB,EAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,SAAS,CAAC,CAAA;QAEhE,IAAM,GAAG,GAAG,GAAG,YAAY,iMAAa,GACpC,GAAG,CAAC,GAAG,OACN,6MAAmB,EAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,gMAAG,CAAC,GAAG,CAAC,CAAC,CAAA;QAEjE,IAAM,KAAK,GAAG,KAAK,CAAC,CAAC,CAAC,SAAG,kMAAK,EAAC,KAAK,CAAG,CAAC,CAAC,CAAC,SAAS,CAAA;QACnD,IAAI,gOAAI,CAAC,OAAO,CAAC,GAAG,EAAE;YAAE,KAAK,EAAA,KAAA;QAAA,CAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAA;IAClD,CAAC,CAAC,CAAA;AACJ,CAAC"}},
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/common/depthwiseSeparableConv.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/common/depthwiseSeparableConv.ts"],"sourcesContent":["import * as tf from '@tensorflow/tfjs-core';\r\nimport { TfjsImageRecognitionBase } from 'tfjs-image-recognition-base';\r\n\r\nexport function depthwiseSeparableConv(\r\n  x: tf.Tensor4D,\r\n  params: TfjsImageRecognitionBase.SeparableConvParams,\r\n  stride: [number, number]\r\n): tf.Tensor4D {\r\n  return tf.tidy(() => {\r\n    let out = tf.separableConv2d(x, params.depthwise_filter, params.pointwise_filter, stride, 'same')\r\n    out = tf.add(out, params.bias)\r\n    return out\r\n  })\r\n}"],"names":[],"mappings":";;;;AAAA,OAAO,KAAK,EAAE,MAAM,uBAAuB,CAAC;;AAGtC,SAAU,sBAAsB,CACpC,CAAc,EACd,MAAoD,EACpD,MAAwB;IAExB,OAAO,EAAE,CAAC,iLAAI,CAAC;QACb,IAAI,GAAG,GAAG,EAAE,CAAC,4LAAe,CAAC,CAAC,EAAE,MAAM,CAAC,gBAAgB,EAAE,MAAM,CAAC,gBAAgB,EAAE,MAAM,EAAE,MAAM,CAAC,CAAA;QACjG,GAAG,GAAG,EAAE,CAAC,gLAAG,CAAC,GAAG,EAAE,MAAM,CAAC,IAAI,CAAC,CAAA;QAC9B,OAAO,GAAG,CAAA;IACZ,CAAC,CAAC,CAAA;AACJ,CAAC"}},
    {"offset": {"line": 128, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/faceFeatureExtractor/denseBlock.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/faceFeatureExtractor/denseBlock.ts"],"sourcesContent":["import * as tf from '@tensorflow/tfjs-core';\r\nimport { TfjsImageRecognitionBase } from 'tfjs-image-recognition-base';\r\n\r\nimport { depthwiseSeparableConv } from '../common/depthwiseSeparableConv';\r\nimport { DenseBlock3Params, DenseBlock4Params } from './types';\r\n\r\nexport function denseBlock3(\r\n  x: tf.Tensor4D,\r\n  denseBlockParams: DenseBlock3Params,\r\n  isFirstLayer: boolean = false\r\n): tf.Tensor4D {\r\n  return tf.tidy(() => {\r\n    const out1 = tf.relu(\r\n      isFirstLayer\r\n        ? tf.add(\r\n          tf.conv2d(x, (denseBlockParams.conv0 as TfjsImageRecognitionBase.ConvParams).filters, [2, 2], 'same'),\r\n          denseBlockParams.conv0.bias\r\n        )\r\n        : depthwiseSeparableConv(x, denseBlockParams.conv0 as TfjsImageRecognitionBase.SeparableConvParams, [2, 2])\r\n    ) as tf.Tensor4D\r\n    const out2 = depthwiseSeparableConv(out1, denseBlockParams.conv1, [1, 1])\r\n\r\n    const in3 = tf.relu(tf.add(out1, out2)) as tf.Tensor4D\r\n    const out3 = depthwiseSeparableConv(in3, denseBlockParams.conv2, [1, 1])\r\n\r\n    return tf.relu(tf.add(out1, tf.add(out2, out3))) as tf.Tensor4D\r\n  })\r\n}\r\n\r\nexport function denseBlock4(\r\n  x: tf.Tensor4D,\r\n  denseBlockParams: DenseBlock4Params,\r\n  isFirstLayer: boolean = false,\r\n  isScaleDown: boolean = true\r\n): tf.Tensor4D {\r\n  return tf.tidy(() => {\r\n    const out1 = tf.relu(\r\n      isFirstLayer\r\n        ? tf.add(\r\n          tf.conv2d(x, (denseBlockParams.conv0 as TfjsImageRecognitionBase.ConvParams).filters, isScaleDown ? [2, 2] : [1, 1], 'same'),\r\n          denseBlockParams.conv0.bias\r\n        )\r\n        : depthwiseSeparableConv(x, denseBlockParams.conv0 as TfjsImageRecognitionBase.SeparableConvParams, isScaleDown ? [2, 2] : [1, 1])\r\n    ) as tf.Tensor4D\r\n    const out2 = depthwiseSeparableConv(out1, denseBlockParams.conv1, [1, 1])\r\n\r\n    const in3 = tf.relu(tf.add(out1, out2)) as tf.Tensor4D\r\n    const out3 = depthwiseSeparableConv(in3, denseBlockParams.conv2, [1, 1])\r\n\r\n    const in4 = tf.relu(tf.add(out1, tf.add(out2, out3))) as tf.Tensor4D\r\n    const out4 = depthwiseSeparableConv(in4, denseBlockParams.conv3, [1, 1])\r\n\r\n    return tf.relu(tf.add(out1, tf.add(out2, tf.add(out3, out4)))) as tf.Tensor4D\r\n  })\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 204, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/faceFeatureExtractor/extractorsFactory.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/faceFeatureExtractor/extractorsFactory.ts"],"sourcesContent":["import { TfjsImageRecognitionBase } from 'tfjs-image-recognition-base';\r\n\r\nimport { DenseBlock3Params, DenseBlock4Params } from './types';\r\n\r\nexport function extractorsFactory(extractWeights: TfjsImageRecognitionBase.ExtractWeightsFunction, paramMappings: TfjsImageRecognitionBase.ParamMapping[]) {\r\n\r\n  const extractConvParams = TfjsImageRecognitionBase.extractConvParamsFactory(extractWeights, paramMappings)\r\n  const extractSeparableConvParams = TfjsImageRecognitionBase.extractSeparableConvParamsFactory(extractWeights, paramMappings)\r\n\r\n  function extractDenseBlock3Params(channelsIn: number, channelsOut: number, mappedPrefix: string, isFirstLayer: boolean = false): DenseBlock3Params {\r\n\r\n    const conv0 = isFirstLayer\r\n      ? extractConvParams(channelsIn, channelsOut, 3, `${mappedPrefix}/conv0`)\r\n      : extractSeparableConvParams(channelsIn, channelsOut, `${mappedPrefix}/conv0`)\r\n    const conv1 = extractSeparableConvParams(channelsOut, channelsOut, `${mappedPrefix}/conv1`)\r\n    const conv2 = extractSeparableConvParams(channelsOut, channelsOut, `${mappedPrefix}/conv2`)\r\n\r\n    return { conv0, conv1, conv2 }\r\n  }\r\n\r\n  function extractDenseBlock4Params(channelsIn: number, channelsOut: number, mappedPrefix: string, isFirstLayer: boolean = false): DenseBlock4Params {\r\n\r\n    const { conv0, conv1, conv2 } = extractDenseBlock3Params(channelsIn, channelsOut, mappedPrefix, isFirstLayer)\r\n    const conv3 = extractSeparableConvParams(channelsOut, channelsOut, `${mappedPrefix}/conv3`)\r\n\r\n    return { conv0, conv1, conv2, conv3 }\r\n  }\r\n\r\n  return {\r\n    extractDenseBlock3Params,\r\n    extractDenseBlock4Params\r\n  }\r\n\r\n}"],"names":[],"mappings":";;;;;AAAA,OAAO,EAAE,wBAAwB,EAAE,MAAM,6BAA6B,CAAC;;AAIjE,SAAU,iBAAiB,CAAC,cAA+D,EAAE,aAAsD;IAEvJ,IAAM,iBAAiB,GAAG,mRAAwB,CAAC,wBAAwB,CAAC,cAAc,EAAE,aAAa,CAAC,CAAA;IAC1G,IAAM,0BAA0B,GAAG,mRAAwB,CAAC,iCAAiC,CAAC,cAAc,EAAE,aAAa,CAAC,CAAA;IAE5H,SAAS,wBAAwB,CAAC,UAAkB,EAAE,WAAmB,EAAE,YAAoB,EAAE,YAA6B;QAA7B,IAAA,iBAAA,KAAA,GAAA;YAAA,eAAA,KAA6B;QAAA;QAE5H,IAAM,KAAK,GAAG,YAAY,GACtB,iBAAiB,CAAC,UAAU,EAAE,WAAW,EAAE,CAAC,EAAK,YAAY,GAAA,QAAQ,CAAC,GACtE,0BAA0B,CAAC,UAAU,EAAE,WAAW,EAAK,YAAY,GAAA,QAAQ,CAAC,CAAA;QAChF,IAAM,KAAK,GAAG,0BAA0B,CAAC,WAAW,EAAE,WAAW,EAAK,YAAY,GAAA,QAAQ,CAAC,CAAA;QAC3F,IAAM,KAAK,GAAG,0BAA0B,CAAC,WAAW,EAAE,WAAW,EAAK,YAAY,GAAA,QAAQ,CAAC,CAAA;QAE3F,OAAO;YAAE,KAAK,EAAA,KAAA;YAAE,KAAK,EAAA,KAAA;YAAE,KAAK,EAAA,KAAA;QAAA,CAAE,CAAA;IAChC,CAAC;IAED,SAAS,wBAAwB,CAAC,UAAkB,EAAE,WAAmB,EAAE,YAAoB,EAAE,YAA6B;QAA7B,IAAA,iBAAA,KAAA,GAAA;YAAA,eAAA,KAA6B;QAAA;QAEtH,IAAA,KAAA,yBAAA,YAAA,aAAA,cAAA,aAAuG,EAArG,QAAA,GAAA,KAAK,EAAE,QAAA,GAAA,KAAK,EAAE,QAAA,GAAA,KAAuF,CAAA;QAC7G,IAAM,KAAK,GAAG,0BAA0B,CAAC,WAAW,EAAE,WAAW,EAAK,YAAY,GAAA,QAAQ,CAAC,CAAA;QAE3F,OAAO;YAAE,KAAK,EAAA,KAAA;YAAE,KAAK,EAAA,KAAA;YAAE,KAAK,EAAA,KAAA;YAAE,KAAK,EAAA,KAAA;QAAA,CAAE,CAAA;IACvC,CAAC;IAED,OAAO;QACL,wBAAwB,EAAA,wBAAA;QACxB,wBAAwB,EAAA,wBAAA;KACzB,CAAA;AAEH,CAAC"}},
    {"offset": {"line": 249, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/faceFeatureExtractor/extractParams.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/faceFeatureExtractor/extractParams.ts"],"sourcesContent":["\r\nimport { extractorsFactory } from './extractorsFactory';\r\nimport { FaceFeatureExtractorParams } from './types';\r\nimport { TfjsImageRecognitionBase } from 'tfjs-image-recognition-base';\r\n\r\nexport function extractParams(weights: Float32Array): { params: FaceFeatureExtractorParams, paramMappings: TfjsImageRecognitionBase.ParamMapping[] } {\r\n\r\n  const paramMappings: TfjsImageRecognitionBase.ParamMapping[] = []\r\n\r\n  const {\r\n    extractWeights,\r\n    getRemainingWeights\r\n  } = TfjsImageRecognitionBase.extractWeightsFactory(weights)\r\n\r\n  const {\r\n    extractDenseBlock4Params\r\n  } = extractorsFactory(extractWeights, paramMappings)\r\n\r\n  const dense0 = extractDenseBlock4Params(3, 32, 'dense0', true)\r\n  const dense1 = extractDenseBlock4Params(32, 64, 'dense1')\r\n  const dense2 = extractDenseBlock4Params(64, 128, 'dense2')\r\n  const dense3 = extractDenseBlock4Params(128, 256, 'dense3')\r\n\r\n  if (getRemainingWeights().length !== 0) {\r\n    throw new Error(`weights remaing after extract: ${getRemainingWeights().length}`)\r\n  }\r\n\r\n  return {\r\n    paramMappings,\r\n    params: { dense0, dense1, dense2, dense3 }\r\n  }\r\n}"],"names":[],"mappings":";;;;AACA,OAAO,EAAE,iBAAiB,EAAE,MAAM,qBAAqB,CAAC;;AAExD,OAAO,EAAE,wBAAwB,EAAE,MAAM,6BAA6B,CAAC;;;AAEjE,SAAU,aAAa,CAAC,OAAqB;IAEjD,IAAM,aAAa,GAA4C,EAAE,CAAA;IAE3D,IAAA,KAAA,mRAAA,CAAA,qBAAA,CAAA,QAGqD,EAFzD,iBAAA,GAAA,cAAc,EACd,sBAAA,GAAA,mBACyD,CAAA;IAGzD,IAAA,2BAAA,IAAA,sNAAA,EAAA,gBAAA,eAAA,wBAAwB,CAC0B;IAEpD,IAAM,MAAM,GAAG,wBAAwB,CAAC,CAAC,EAAE,EAAE,EAAE,QAAQ,EAAE,IAAI,CAAC,CAAA;IAC9D,IAAM,MAAM,GAAG,wBAAwB,CAAC,EAAE,EAAE,EAAE,EAAE,QAAQ,CAAC,CAAA;IACzD,IAAM,MAAM,GAAG,wBAAwB,CAAC,EAAE,EAAE,GAAG,EAAE,QAAQ,CAAC,CAAA;IAC1D,IAAM,MAAM,GAAG,wBAAwB,CAAC,GAAG,EAAE,GAAG,EAAE,QAAQ,CAAC,CAAA;IAE3D,IAAI,mBAAmB,EAAE,CAAC,MAAM,KAAK,CAAC,EAAE;QACtC,MAAM,IAAI,KAAK,CAAC,oCAAkC,mBAAmB,EAAE,CAAC,MAAQ,CAAC,CAAA;KAClF;IAED,OAAO;QACL,aAAa,EAAA,aAAA;QACb,MAAM,EAAE;YAAE,MAAM,EAAA,MAAA;YAAE,MAAM,EAAA,MAAA;YAAE,MAAM,EAAA,MAAA;YAAE,MAAM,EAAA,MAAA;QAAA,CAAE;KAC3C,CAAA;AACH,CAAC"}},
    {"offset": {"line": 283, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/common/loadConvParamsFactory.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/common/loadConvParamsFactory.ts"],"sourcesContent":["import * as tf from '@tensorflow/tfjs-core';\r\nimport { TfjsImageRecognitionBase } from 'tfjs-image-recognition-base';\r\n\r\nexport function loadConvParamsFactory(extractWeightEntry: <T>(originalPath: string, paramRank: number) => T) {\r\n  return function(prefix: string): TfjsImageRecognitionBase.ConvParams {\r\n    const filters = extractWeightEntry<tf.Tensor4D>(`${prefix}/filters`, 4)\r\n    const bias = extractWeightEntry<tf.Tensor1D>(`${prefix}/bias`, 1)\r\n\r\n    return { filters, bias }\r\n  }\r\n}"],"names":[],"mappings":";;;;AAGM,SAAU,qBAAqB,CAAC,kBAAqE;IACzG,OAAO,SAAS,MAAc;QAC5B,IAAM,OAAO,GAAG,kBAAkB,CAAiB,MAAM,GAAA,UAAU,EAAE,CAAC,CAAC,CAAA;QACvE,IAAM,IAAI,GAAG,kBAAkB,CAAiB,MAAM,GAAA,OAAO,EAAE,CAAC,CAAC,CAAA;QAEjE,OAAO;YAAE,OAAO,EAAA,OAAA;YAAE,IAAI,EAAA,IAAA;QAAA,CAAE,CAAA;IAC1B,CAAC,CAAA;AACH,CAAC"}},
    {"offset": {"line": 301, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/faceFeatureExtractor/loadParamsFactory.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/faceFeatureExtractor/loadParamsFactory.ts"],"sourcesContent":["import { TfjsImageRecognitionBase } from 'tfjs-image-recognition-base';\r\n\r\nimport { loadConvParamsFactory } from '../common/loadConvParamsFactory';\r\nimport { DenseBlock3Params, DenseBlock4Params } from './types';\r\n\r\nexport function loadParamsFactory(weightMap: any, paramMappings: TfjsImageRecognitionBase.ParamMapping[]) {\r\n\r\n  const extractWeightEntry = TfjsImageRecognitionBase.extractWeightEntryFactory(weightMap, paramMappings)\r\n\r\n  const extractConvParams = loadConvParamsFactory(extractWeightEntry)\r\n  const extractSeparableConvParams = TfjsImageRecognitionBase.loadSeparableConvParamsFactory(extractWeightEntry)\r\n\r\n  function extractDenseBlock3Params(prefix: string, isFirstLayer: boolean = false): DenseBlock3Params {\r\n    const conv0 = isFirstLayer\r\n      ? extractConvParams(`${prefix}/conv0`)\r\n      : extractSeparableConvParams(`${prefix}/conv0`)\r\n    const conv1 = extractSeparableConvParams(`${prefix}/conv1`)\r\n    const conv2 = extractSeparableConvParams(`${prefix}/conv2`)\r\n\r\n    return { conv0, conv1, conv2 }\r\n  }\r\n\r\n  function extractDenseBlock4Params(prefix: string, isFirstLayer: boolean = false): DenseBlock4Params {\r\n    const conv0 = isFirstLayer\r\n      ? extractConvParams(`${prefix}/conv0`)\r\n      : extractSeparableConvParams(`${prefix}/conv0`)\r\n    const conv1 = extractSeparableConvParams(`${prefix}/conv1`)\r\n    const conv2 = extractSeparableConvParams(`${prefix}/conv2`)\r\n    const conv3 = extractSeparableConvParams(`${prefix}/conv3`)\r\n\r\n    return { conv0, conv1, conv2, conv3 }\r\n  }\r\n\r\n  return {\r\n    extractDenseBlock3Params,\r\n    extractDenseBlock4Params\r\n  }\r\n}"],"names":[],"mappings":";;;;;AAAA,OAAO,EAAE,wBAAwB,EAAE,MAAM,6BAA6B,CAAC;AAEvE,OAAO,EAAE,qBAAqB,EAAE,MAAM,iCAAiC,CAAC;;;AAGlE,SAAU,iBAAiB,CAAC,SAAc,EAAE,aAAsD;IAEtG,IAAM,kBAAkB,GAAG,mRAAwB,CAAC,yBAAyB,CAAC,SAAS,EAAE,aAAa,CAAC,CAAA;IAEvG,IAAM,iBAAiB,OAAG,gNAAqB,EAAC,kBAAkB,CAAC,CAAA;IACnE,IAAM,0BAA0B,GAAG,mRAAwB,CAAC,8BAA8B,CAAC,kBAAkB,CAAC,CAAA;IAE9G,SAAS,wBAAwB,CAAC,MAAc,EAAE,YAA6B;QAA7B,IAAA,iBAAA,KAAA,GAAA;YAAA,eAAA,KAA6B;QAAA;QAC7E,IAAM,KAAK,GAAG,YAAY,GACtB,iBAAiB,CAAI,MAAM,GAAA,QAAQ,CAAC,GACpC,0BAA0B,CAAI,MAAM,GAAA,QAAQ,CAAC,CAAA;QACjD,IAAM,KAAK,GAAG,0BAA0B,CAAI,MAAM,GAAA,QAAQ,CAAC,CAAA;QAC3D,IAAM,KAAK,GAAG,0BAA0B,CAAI,MAAM,GAAA,QAAQ,CAAC,CAAA;QAE3D,OAAO;YAAE,KAAK,EAAA,KAAA;YAAE,KAAK,EAAA,KAAA;YAAE,KAAK,EAAA,KAAA;QAAA,CAAE,CAAA;IAChC,CAAC;IAED,SAAS,wBAAwB,CAAC,MAAc,EAAE,YAA6B;QAA7B,IAAA,iBAAA,KAAA,GAAA;YAAA,eAAA,KAA6B;QAAA;QAC7E,IAAM,KAAK,GAAG,YAAY,GACtB,iBAAiB,CAAI,MAAM,GAAA,QAAQ,CAAC,GACpC,0BAA0B,CAAI,MAAM,GAAA,QAAQ,CAAC,CAAA;QACjD,IAAM,KAAK,GAAG,0BAA0B,CAAI,MAAM,GAAA,QAAQ,CAAC,CAAA;QAC3D,IAAM,KAAK,GAAG,0BAA0B,CAAI,MAAM,GAAA,QAAQ,CAAC,CAAA;QAC3D,IAAM,KAAK,GAAG,0BAA0B,CAAI,MAAM,GAAA,QAAQ,CAAC,CAAA;QAE3D,OAAO;YAAE,KAAK,EAAA,KAAA;YAAE,KAAK,EAAA,KAAA;YAAE,KAAK,EAAA,KAAA;YAAE,KAAK,EAAA,KAAA;QAAA,CAAE,CAAA;IACvC,CAAC;IAED,OAAO;QACL,wBAAwB,EAAA,wBAAA;QACxB,wBAAwB,EAAA,wBAAA;KACzB,CAAA;AACH,CAAC"}},
    {"offset": {"line": 351, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/faceFeatureExtractor/extractParamsFromWeigthMap.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/faceFeatureExtractor/extractParamsFromWeigthMap.ts"],"sourcesContent":["import * as tf from '@tensorflow/tfjs-core';\r\nimport { TfjsImageRecognitionBase } from 'tfjs-image-recognition-base';\r\n\r\nimport { loadParamsFactory } from './loadParamsFactory';\r\nimport { FaceFeatureExtractorParams } from './types';\r\n\r\nexport function extractParamsFromWeigthMap(\r\n  weightMap: tf.NamedTensorMap\r\n): { params: FaceFeatureExtractorParams, paramMappings: TfjsImageRecognitionBase.ParamMapping[] } {\r\n\r\n  const paramMappings: TfjsImageRecognitionBase.ParamMapping[] = []\r\n\r\n  const {\r\n    extractDenseBlock4Params\r\n  } = loadParamsFactory(weightMap, paramMappings)\r\n\r\n  const params = {\r\n    dense0: extractDenseBlock4Params('dense0', true),\r\n    dense1: extractDenseBlock4Params('dense1'),\r\n    dense2: extractDenseBlock4Params('dense2'),\r\n    dense3: extractDenseBlock4Params('dense3')\r\n  }\r\n\r\n  TfjsImageRecognitionBase.disposeUnusedWeightTensors(weightMap, paramMappings)\r\n\r\n  return { params, paramMappings }\r\n}"],"names":[],"mappings":";;;;;AACA,OAAO,EAAE,wBAAwB,EAAE,MAAM,6BAA6B,CAAC;AAEvE,OAAO,EAAE,iBAAiB,EAAE,MAAM,qBAAqB,CAAC;;;AAGlD,SAAU,0BAA0B,CACxC,SAA4B;IAG5B,IAAM,aAAa,GAA4C,EAAE,CAAA;IAG/D,IAAA,2BAAA,IAAA,sNAAA,EAAA,WAAA,eAAA,wBAAwB,CACqB;IAE/C,IAAM,MAAM,GAAG;QACb,MAAM,EAAE,wBAAwB,CAAC,QAAQ,EAAE,IAAI,CAAC;QAChD,MAAM,EAAE,wBAAwB,CAAC,QAAQ,CAAC;QAC1C,MAAM,EAAE,wBAAwB,CAAC,QAAQ,CAAC;QAC1C,MAAM,EAAE,wBAAwB,CAAC,QAAQ,CAAC;KAC3C,CAAA;IAED,mRAAwB,CAAC,0BAA0B,CAAC,SAAS,EAAE,aAAa,CAAC,CAAA;IAE7E,OAAO;QAAE,MAAM,EAAA,MAAA;QAAE,aAAa,EAAA,aAAA;IAAA,CAAE,CAAA;AAClC,CAAC"}},
    {"offset": {"line": 379, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/faceFeatureExtractor/FaceFeatureExtractor.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/faceFeatureExtractor/FaceFeatureExtractor.ts"],"sourcesContent":["import * as tf from '@tensorflow/tfjs-core';\r\nimport { NetInput, NeuralNetwork, normalize, TNetInput, toNetInput } from 'tfjs-image-recognition-base';\r\n\r\nimport { denseBlock4 } from './denseBlock';\r\nimport { extractParams } from './extractParams';\r\nimport { extractParamsFromWeigthMap } from './extractParamsFromWeigthMap';\r\nimport { FaceFeatureExtractorParams, IFaceFeatureExtractor } from './types';\r\n\r\nexport class FaceFeatureExtractor extends NeuralNetwork<FaceFeatureExtractorParams> implements IFaceFeatureExtractor<FaceFeatureExtractorParams> {\r\n\r\n  constructor() {\r\n    super('FaceFeatureExtractor')\r\n  }\r\n\r\n  public forwardInput(input: NetInput): tf.Tensor4D {\r\n\r\n    const { params } = this\r\n\r\n    if (!params) {\r\n      throw new Error('FaceFeatureExtractor - load model before inference')\r\n    }\r\n\r\n    return tf.tidy(() => {\r\n      const batchTensor = input.toBatchTensor(112, true)\r\n      const meanRgb = [122.782, 117.001, 104.298]\r\n      const normalized = normalize(batchTensor, meanRgb).div(tf.scalar(255)) as tf.Tensor4D\r\n\r\n      let out = denseBlock4(normalized, params.dense0, true)\r\n      out = denseBlock4(out, params.dense1)\r\n      out = denseBlock4(out, params.dense2)\r\n      out = denseBlock4(out, params.dense3)\r\n      out = tf.avgPool(out, [7, 7], [2, 2], 'valid')\r\n\r\n      return out\r\n    })\r\n  }\r\n\r\n  public async forward(input: TNetInput): Promise<tf.Tensor4D> {\r\n    return this.forwardInput(await toNetInput(input))\r\n  }\r\n\r\n  protected getDefaultModelName(): string {\r\n    return 'face_feature_extractor_model'\r\n  }\r\n\r\n  protected extractParamsFromWeigthMap(weightMap: tf.NamedTensorMap) {\r\n    return extractParamsFromWeigthMap(weightMap)\r\n  }\r\n\r\n  protected extractParams(weights: Float32Array) {\r\n    return extractParams(weights)\r\n  }\r\n}"],"names":[],"mappings":";;;;;AAAA,OAAO,KAAK,EAAE,MAAM,uBAAuB,CAAC;;;;AAC5C,OAAO,EAAY,aAAa,EAAE,SAAS,EAAa,UAAU,EAAE,MAAM,6BAA6B,CAAC;AAExG,OAAO,EAAE,WAAW,EAAE,MAAM,cAAc,CAAC;AAC3C,OAAO,EAAE,aAAa,EAAE,MAAM,iBAAiB,CAAC;AAChD,OAAO,EAAE,0BAA0B,EAAE,MAAM,8BAA8B,CAAC;;;;;;;AAG1E,IAAA,uBAAA,SAAA,MAAA;IAA0C,0LAAA,CAAA,sBAAA,QAAyC;IAEjF,SAAA;eACE,OAAA,IAAA,CAAA,IAAA,EAAM,sBAAsB,CAAC,IAAA,IAAA;IAC/B,CAAC;IAEM,qBAAA,SAAA,CAAA,YAAY,GAAnB,SAAoB,KAAe;QAEzB,IAAA,SAAA,IAAA,CAAA,MAAM,CAAS;QAEvB,IAAI,CAAC,MAAM,EAAE;YACX,MAAM,IAAI,KAAK,CAAC,oDAAoD,CAAC,CAAA;SACtE;QAED,OAAO,EAAE,CAAC,iLAAI,CAAC;YACb,IAAM,WAAW,GAAG,KAAK,CAAC,aAAa,CAAC,GAAG,EAAE,IAAI,CAAC,CAAA;YAClD,IAAM,OAAO,GAAG;gBAAC,OAAO;gBAAE,OAAO;gBAAE,OAAO;aAAC,CAAA;YAC3C,IAAM,UAAU,OAAG,wMAAS,EAAC,WAAW,EAAE,OAAO,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,mLAAM,CAAC,GAAG,CAAC,CAAgB,CAAA;YAErF,IAAI,GAAG,OAAG,yMAAW,EAAC,UAAU,EAAE,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC,CAAA;YACtD,GAAG,OAAG,yMAAW,EAAC,GAAG,EAAE,MAAM,CAAC,MAAM,CAAC,CAAA;YACrC,GAAG,OAAG,yMAAW,EAAC,GAAG,EAAE,MAAM,CAAC,MAAM,CAAC,CAAA;YACrC,GAAG,OAAG,yMAAW,EAAC,GAAG,EAAE,MAAM,CAAC,MAAM,CAAC,CAAA;YACrC,GAAG,GAAG,EAAE,CAAC,oLAAO,CAAC,GAAG,EAAE;gBAAC,CAAC;gBAAE,CAAC;aAAC,EAAE;gBAAC,CAAC;gBAAE,CAAC;aAAC,EAAE,OAAO,CAAC,CAAA;YAE9C,OAAO,GAAG,CAAA;QACZ,CAAC,CAAC,CAAA;IACJ,CAAC;IAEY,qBAAA,SAAA,CAAA,OAAO,GAApB,SAAqB,KAAgB;;;;;;wBAC5B,KAAA,IAAI,CAAC,YAAY,CAAA;wBAAC,OAAA;4BAAA,EAAA,OAAA;gCAAM,0MAAU,EAAC,KAAK,CAAC;yBAAA,CAAA;;wBAAhD,OAAA;4BAAA,EAAA,QAAA;4BAAO,GAAA,KAAA,CAAA,IAAI,EAAA;gCAAc,GAAA,IAAA,EAAuB;6BAAA,CAAC;yBAAA,CAAA;;;;KAClD;IAES,qBAAA,SAAA,CAAA,mBAAmB,GAA7B;QACE,OAAO,8BAA8B,CAAA;IACvC,CAAC;IAES,qBAAA,SAAA,CAAA,0BAA0B,GAApC,SAAqC,SAA4B;QAC/D,WAAO,wOAA0B,EAAC,SAAS,CAAC,CAAA;IAC9C,CAAC;IAES,qBAAA,SAAA,CAAA,aAAa,GAAvB,SAAwB,OAAqB;QAC3C,WAAO,8MAAa,EAAC,OAAO,CAAC,CAAA;IAC/B,CAAC;IACH,OAAA,oBAAC;AAAD,CAAC,AA5CD,CAA0C,yMAAa,GA4CtD"}},
    {"offset": {"line": 469, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/common/fullyConnectedLayer.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/common/fullyConnectedLayer.ts"],"sourcesContent":["import * as tf from '@tensorflow/tfjs-core';\r\nimport { TfjsImageRecognitionBase } from 'tfjs-image-recognition-base';\r\n\r\nexport function fullyConnectedLayer(\r\n  x: tf.Tensor2D,\r\n  params: TfjsImageRecognitionBase.FCParams\r\n): tf.Tensor2D {\r\n  return tf.tidy(() =>\r\n    tf.add(\r\n      tf.matMul(x, params.weights),\r\n      params.bias\r\n    )\r\n  )\r\n}"],"names":[],"mappings":";;;;AAAA,OAAO,KAAK,EAAE,MAAM,uBAAuB,CAAC;;AAGtC,SAAU,mBAAmB,CACjC,CAAc,EACd,MAAyC;IAEzC,OAAO,EAAE,CAAC,iLAAI,CAAC;QACb,OAAA,EAAE,CAAC,gLAAG,CACJ,EAAE,CAAC,mLAAM,CAAC,CAAC,EAAE,MAAM,CAAC,OAAO,CAAC,EAC5B,MAAM,CAAC,IAAI,CACZ;IAHD,CAGC,CACF,CAAA;AACH,CAAC"}},
    {"offset": {"line": 484, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/faceProcessor/extractParams.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/faceProcessor/extractParams.ts"],"sourcesContent":["import { TfjsImageRecognitionBase } from 'tfjs-image-recognition-base';\r\n\r\nimport { NetParams } from './types';\r\n\r\nexport function extractParams(weights: Float32Array, channelsIn: number, channelsOut: number): { params: NetParams, paramMappings: TfjsImageRecognitionBase.ParamMapping[] } {\r\n\r\n  const paramMappings: TfjsImageRecognitionBase.ParamMapping[] = []\r\n\r\n  const {\r\n    extractWeights,\r\n    getRemainingWeights\r\n  } = TfjsImageRecognitionBase.extractWeightsFactory(weights)\r\n\r\n  const extractFCParams = TfjsImageRecognitionBase.extractFCParamsFactory(extractWeights, paramMappings)\r\n\r\n  const fc = extractFCParams(channelsIn, channelsOut, 'fc')\r\n\r\n  if (getRemainingWeights().length !== 0) {\r\n    throw new Error(`weights remaing after extract: ${getRemainingWeights().length}`)\r\n  }\r\n\r\n  return {\r\n    paramMappings,\r\n    params: { fc }\r\n  }\r\n}"],"names":[],"mappings":";;;;;AAAA,OAAO,EAAE,wBAAwB,EAAE,MAAM,6BAA6B,CAAC;;AAIjE,SAAU,aAAa,CAAC,OAAqB,EAAE,UAAkB,EAAE,WAAmB;IAE1F,IAAM,aAAa,GAA4C,EAAE,CAAA;IAE3D,IAAA,KAAA,mRAAA,CAAA,qBAAA,CAAA,QAGqD,EAFzD,iBAAA,GAAA,cAAc,EACd,sBAAA,GAAA,mBACyD,CAAA;IAE3D,IAAM,eAAe,GAAG,mRAAwB,CAAC,sBAAsB,CAAC,cAAc,EAAE,aAAa,CAAC,CAAA;IAEtG,IAAM,EAAE,GAAG,eAAe,CAAC,UAAU,EAAE,WAAW,EAAE,IAAI,CAAC,CAAA;IAEzD,IAAI,mBAAmB,EAAE,CAAC,MAAM,KAAK,CAAC,EAAE;QACtC,MAAM,IAAI,KAAK,CAAC,oCAAkC,mBAAmB,EAAE,CAAC,MAAQ,CAAC,CAAA;KAClF;IAED,OAAO;QACL,aAAa,EAAA,aAAA;QACb,MAAM,EAAE;YAAE,EAAE,EAAA,EAAA;QAAA,CAAE;KACf,CAAA;AACH,CAAC"}},
    {"offset": {"line": 510, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/faceProcessor/extractParamsFromWeigthMap.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/faceProcessor/extractParamsFromWeigthMap.ts"],"sourcesContent":["import * as tf from '@tensorflow/tfjs-core';\r\nimport { TfjsImageRecognitionBase } from 'tfjs-image-recognition-base';\r\n\r\nimport { NetParams } from './types';\r\n\r\nexport function extractParamsFromWeigthMap(\r\n  weightMap: tf.NamedTensorMap\r\n): { params: NetParams, paramMappings: TfjsImageRecognitionBase.ParamMapping[] } {\r\n\r\n  const paramMappings: TfjsImageRecognitionBase.ParamMapping[] = []\r\n\r\n  const extractWeightEntry = TfjsImageRecognitionBase.extractWeightEntryFactory(weightMap, paramMappings)\r\n\r\n  function extractFcParams(prefix: string): TfjsImageRecognitionBase.FCParams {\r\n    const weights = extractWeightEntry<tf.Tensor2D>(`${prefix}/weights`, 2)\r\n    const bias = extractWeightEntry<tf.Tensor1D>(`${prefix}/bias`, 1)\r\n    return { weights, bias }\r\n  }\r\n\r\n  const params = {\r\n    fc: extractFcParams('fc')\r\n  }\r\n\r\n  TfjsImageRecognitionBase.disposeUnusedWeightTensors(weightMap, paramMappings)\r\n\r\n  return { params, paramMappings }\r\n}"],"names":[],"mappings":";;;;;AACA,OAAO,EAAE,wBAAwB,EAAE,MAAM,6BAA6B,CAAC;;AAIjE,SAAU,0BAA0B,CACxC,SAA4B;IAG5B,IAAM,aAAa,GAA4C,EAAE,CAAA;IAEjE,IAAM,kBAAkB,GAAG,mRAAwB,CAAC,yBAAyB,CAAC,SAAS,EAAE,aAAa,CAAC,CAAA;IAEvG,SAAS,eAAe,CAAC,MAAc;QACrC,IAAM,OAAO,GAAG,kBAAkB,CAAiB,MAAM,GAAA,UAAU,EAAE,CAAC,CAAC,CAAA;QACvE,IAAM,IAAI,GAAG,kBAAkB,CAAiB,MAAM,GAAA,OAAO,EAAE,CAAC,CAAC,CAAA;QACjE,OAAO;YAAE,OAAO,EAAA,OAAA;YAAE,IAAI,EAAA,IAAA;QAAA,CAAE,CAAA;IAC1B,CAAC;IAED,IAAM,MAAM,GAAG;QACb,EAAE,EAAE,eAAe,CAAC,IAAI,CAAC;KAC1B,CAAA;IAED,mRAAwB,CAAC,0BAA0B,CAAC,SAAS,EAAE,aAAa,CAAC,CAAA;IAE7E,OAAO;QAAE,MAAM,EAAA,MAAA;QAAE,aAAa,EAAA,aAAA;IAAA,CAAE,CAAA;AAClC,CAAC"}},
    {"offset": {"line": 541, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/faceProcessor/util.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/faceProcessor/util.ts"],"sourcesContent":["import * as tf from '@tensorflow/tfjs-core';\r\n\r\nexport function seperateWeightMaps(weightMap: tf.NamedTensorMap) {\r\n\r\n  const featureExtractorMap: tf.NamedTensorMap = {}\r\n  const classifierMap: tf.NamedTensorMap = {}\r\n\r\n  Object.keys(weightMap).forEach(key => {\r\n    const map = key.startsWith('fc') ? classifierMap : featureExtractorMap\r\n    map[key] = weightMap[key]\r\n  })\r\n\r\n  return { featureExtractorMap, classifierMap }\r\n\r\n}"],"names":[],"mappings":";;;;AAEM,SAAU,kBAAkB,CAAC,SAA4B;IAE7D,IAAM,mBAAmB,GAAsB,CAAA,CAAE,CAAA;IACjD,IAAM,aAAa,GAAsB,CAAA,CAAE,CAAA;IAE3C,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,SAAA,GAAG;QAChC,IAAM,GAAG,GAAG,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,mBAAmB,CAAA;QACtE,GAAG,CAAC,GAAG,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,CAAA;IAC3B,CAAC,CAAC,CAAA;IAEF,OAAO;QAAE,mBAAmB,EAAA,mBAAA;QAAE,aAAa,EAAA,aAAA;IAAA,CAAE,CAAA;AAE/C,CAAC"}},
    {"offset": {"line": 561, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/faceProcessor/FaceProcessor.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/faceProcessor/FaceProcessor.ts"],"sourcesContent":["import * as tf from '@tensorflow/tfjs-core';\r\nimport { NetInput, NeuralNetwork } from 'tfjs-image-recognition-base';\r\n\r\nimport { fullyConnectedLayer } from '../common/fullyConnectedLayer';\r\nimport {\r\n  FaceFeatureExtractorParams,\r\n  IFaceFeatureExtractor,\r\n  TinyFaceFeatureExtractorParams,\r\n} from '../faceFeatureExtractor/types';\r\nimport { extractParams } from './extractParams';\r\nimport { extractParamsFromWeigthMap } from './extractParamsFromWeigthMap';\r\nimport { NetParams } from './types';\r\nimport { seperateWeightMaps } from './util';\r\n\r\nexport abstract class FaceProcessor<\r\n  TExtractorParams extends FaceFeatureExtractorParams | TinyFaceFeatureExtractorParams\r\n>\r\n  extends NeuralNetwork<NetParams> {\r\n\r\n  protected _faceFeatureExtractor: IFaceFeatureExtractor<TExtractorParams>\r\n\r\n  constructor(_name: string, faceFeatureExtractor: IFaceFeatureExtractor<TExtractorParams>) {\r\n    super(_name)\r\n    this._faceFeatureExtractor = faceFeatureExtractor\r\n  }\r\n\r\n  public get faceFeatureExtractor(): IFaceFeatureExtractor<TExtractorParams> {\r\n    return this._faceFeatureExtractor\r\n  }\r\n\r\n  protected abstract getDefaultModelName(): string\r\n  protected abstract getClassifierChannelsIn(): number\r\n  protected abstract getClassifierChannelsOut(): number\r\n\r\n  public runNet(input: NetInput | tf.Tensor4D): tf.Tensor2D {\r\n\r\n    const { params } = this\r\n\r\n    if (!params) {\r\n      throw new Error(`${this._name} - load model before inference`)\r\n    }\r\n\r\n    return tf.tidy(() => {\r\n      const bottleneckFeatures = input instanceof NetInput\r\n        ? this.faceFeatureExtractor.forwardInput(input)\r\n        : input\r\n      return fullyConnectedLayer(bottleneckFeatures.as2D(bottleneckFeatures.shape[0], -1), params.fc)\r\n    })\r\n  }\r\n\r\n  public dispose(throwOnRedispose: boolean = true) {\r\n    this.faceFeatureExtractor.dispose(throwOnRedispose)\r\n    super.dispose(throwOnRedispose)\r\n  }\r\n\r\n  public loadClassifierParams(weights: Float32Array) {\r\n    const { params, paramMappings } = this.extractClassifierParams(weights)\r\n    this._params = params\r\n    this._paramMappings = paramMappings\r\n  }\r\n\r\n  public extractClassifierParams(weights: Float32Array) {\r\n    return extractParams(weights, this.getClassifierChannelsIn(), this.getClassifierChannelsOut())\r\n  }\r\n\r\n  protected extractParamsFromWeigthMap(weightMap: tf.NamedTensorMap) {\r\n\r\n    const { featureExtractorMap, classifierMap } = seperateWeightMaps(weightMap)\r\n\r\n    this.faceFeatureExtractor.loadFromWeightMap(featureExtractorMap)\r\n\r\n    return extractParamsFromWeigthMap(classifierMap)\r\n  }\r\n\r\n  protected extractParams(weights: Float32Array) {\r\n\r\n    const cIn = this.getClassifierChannelsIn()\r\n    const cOut = this.getClassifierChannelsOut()\r\n    const classifierWeightSize = (cOut * cIn ) + cOut\r\n\r\n    const featureExtractorWeights = weights.slice(0, weights.length - classifierWeightSize)\r\n    const classifierWeights = weights.slice(weights.length - classifierWeightSize)\r\n\r\n    this.faceFeatureExtractor.extractWeights(featureExtractorWeights)\r\n    return this.extractClassifierParams(classifierWeights)\r\n  }\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 643, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/faceExpressionNet/FaceExpressions.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/faceExpressionNet/FaceExpressions.ts"],"sourcesContent":["export const FACE_EXPRESSION_LABELS = ['neutral', 'happy', 'sad', 'angry', 'fearful', 'disgusted', 'surprised']\r\n\r\nexport class FaceExpressions {\r\n  public neutral: number\r\n  public happy: number\r\n  public sad: number\r\n  public angry: number\r\n  public fearful: number\r\n  public disgusted: number\r\n  public surprised: number\r\n\r\n  constructor(probabilities: number[] | Float32Array) {\r\n    if (probabilities.length !== 7) {\r\n      throw new Error(`FaceExpressions.constructor - expected probabilities.length to be 7, have: ${probabilities.length}`)\r\n    }\r\n\r\n    FACE_EXPRESSION_LABELS.forEach((expression, idx) => {\r\n      this[expression] = probabilities[idx]\r\n    })\r\n  }\r\n\r\n  asSortedArray() {\r\n    return FACE_EXPRESSION_LABELS\r\n      .map(expression => ({ expression, probability: this[expression] as number }))\r\n      .sort((e0, e1) => e1.probability - e0.probability)\r\n  }\r\n}"],"names":[],"mappings":";;;;;;AAAO,IAAM,sBAAsB,GAAG;IAAC,SAAS;IAAE,OAAO;IAAE,KAAK;IAAE,OAAO;IAAE,SAAS;IAAE,WAAW;IAAE,WAAW;CAAC,CAAA;AAE/G,IAAA,kBAAA;IASE,SAAA,gBAAY,aAAsC;QAAlD,IAAA,QAAA,IAAA,CAQC;QAPC,IAAI,aAAa,CAAC,MAAM,KAAK,CAAC,EAAE;YAC9B,MAAM,IAAI,KAAK,CAAC,gFAA8E,aAAa,CAAC,MAAQ,CAAC,CAAA;SACtH;QAED,sBAAsB,CAAC,OAAO,CAAC,SAAC,UAAU,EAAE,GAAG;YAC7C,KAAI,CAAC,UAAU,CAAC,GAAG,aAAa,CAAC,GAAG,CAAC,CAAA;QACvC,CAAC,CAAC,CAAA;IACJ,CAAC;IAED,gBAAA,SAAA,CAAA,aAAa,GAAb;QAAA,IAAA,QAAA,IAAA,CAIC;QAHC,OAAO,sBAAsB,CAC1B,GAAG,CAAC,SAAA,UAAU;YAAI,OAAA,AAAC;gBAAE,UAAU,EAAA,UAAA;gBAAE,WAAW,EAAE,KAAI,CAAC,UAAU,CAAW;YAAA,CAAE,CAAC;QAAzD,CAAyD,CAAC,CAC5E,IAAI,CAAC,SAAC,EAAE,EAAE,EAAE;YAAK,OAAA,EAAE,CAAC,WAAW,GAAG,EAAE,CAAC,WAAW;QAA/B,CAA+B,CAAC,CAAA;IACtD,CAAC;IACH,OAAA,eAAC;AAAD,CAAC,AAxBD,IAwBC"}},
    {"offset": {"line": 687, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/faceExpressionNet/FaceExpressionNet.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/faceExpressionNet/FaceExpressionNet.ts"],"sourcesContent":["import * as tf from '@tensorflow/tfjs-core';\r\nimport { NetInput, TNetInput, toNetInput } from 'tfjs-image-recognition-base';\r\n\r\nimport { FaceFeatureExtractor } from '../faceFeatureExtractor/FaceFeatureExtractor';\r\nimport { FaceFeatureExtractorParams } from '../faceFeatureExtractor/types';\r\nimport { FaceProcessor } from '../faceProcessor/FaceProcessor';\r\nimport { FaceExpressions } from './FaceExpressions';\r\n\r\nexport class FaceExpressionNet extends FaceProcessor<FaceFeatureExtractorParams> {\r\n\r\n  constructor(faceFeatureExtractor: FaceFeatureExtractor = new FaceFeatureExtractor()) {\r\n    super('FaceExpressionNet', faceFeatureExtractor)\r\n  }\r\n\r\n  public forwardInput(input: NetInput | tf.Tensor4D): tf.Tensor2D {\r\n    return tf.tidy(() => tf.softmax(this.runNet(input)))\r\n  }\r\n\r\n  public async forward(input: TNetInput): Promise<tf.Tensor2D> {\r\n    return this.forwardInput(await toNetInput(input))\r\n  }\r\n\r\n  public async predictExpressions(input: TNetInput) {\r\n    const netInput = await toNetInput(input)\r\n    const out = await this.forwardInput(netInput)\r\n    const probabilitesByBatch = await Promise.all(tf.unstack(out).map(async t => {\r\n      const data = await t.data()\r\n      t.dispose()\r\n      return data\r\n    }))\r\n    out.dispose()\r\n\r\n    const predictionsByBatch = probabilitesByBatch\r\n      .map(probabilites => new FaceExpressions(probabilites as Float32Array))\r\n\r\n    return netInput.isBatchInput\r\n      ? predictionsByBatch\r\n      : predictionsByBatch[0]\r\n  }\r\n\r\n  protected getDefaultModelName(): string {\r\n    return 'face_expression_model'\r\n  }\r\n\r\n  protected getClassifierChannelsIn(): number {\r\n    return 256\r\n  }\r\n\r\n  protected getClassifierChannelsOut(): number {\r\n    return 7\r\n  }\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 814, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/faceExpressionNet/index.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/faceExpressionNet/index.ts"],"sourcesContent":["export * from './FaceExpressionNet';\r\nexport * from './FaceExpressions';"],"names":[],"mappings":";AAAA,cAAc,qBAAqB,CAAC;AACpC,cAAc,mBAAmB,CAAC"}},
    {"offset": {"line": 823, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/factories/WithFaceExpressions.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/factories/WithFaceExpressions.ts"],"sourcesContent":["import { FaceExpressions } from '../faceExpressionNet/FaceExpressions';\r\n\r\nexport type WithFaceExpressions<TSource> = TSource & {\r\n  expressions: FaceExpressions\r\n}\r\n\r\nexport function isWithFaceExpressions(obj: any): obj is WithFaceExpressions<{}> {\r\n  return obj['expressions'] instanceof FaceExpressions\r\n}\r\n\r\nexport function extendWithFaceExpressions<\r\n  TSource\r\n> (\r\n  sourceObj: TSource,\r\n  expressions: FaceExpressions\r\n): WithFaceExpressions<TSource> {\r\n\r\n  const extension = { expressions }\r\n  return Object.assign({}, sourceObj, extension)\r\n}"],"names":[],"mappings":";;;;;;AAAA,OAAO,EAAE,eAAe,EAAE,MAAM,sCAAsC,CAAC;;AAMjE,SAAU,qBAAqB,CAAC,GAAQ;IAC5C,OAAO,GAAG,CAAC,aAAa,CAAC,YAAY,+MAAe,CAAA;AACtD,CAAC;AAEK,SAAU,yBAAyB,CAGvC,SAAkB,EAClB,WAA4B;IAG5B,IAAM,SAAS,GAAG;QAAE,WAAW,EAAA,WAAA;IAAA,CAAE,CAAA;IACjC,OAAO,MAAM,CAAC,MAAM,CAAC,CAAA,CAAE,EAAE,SAAS,EAAE,SAAS,CAAC,CAAA;AAChD,CAAC"}},
    {"offset": {"line": 844, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/draw/drawFaceExpressions.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/draw/drawFaceExpressions.ts"],"sourcesContent":["import { draw, IPoint, Point, round } from 'tfjs-image-recognition-base';\r\n\r\nimport { FaceExpressions } from '../faceExpressionNet';\r\nimport { isWithFaceDetection } from '../factories/WithFaceDetection';\r\nimport { isWithFaceExpressions, WithFaceExpressions } from '../factories/WithFaceExpressions';\r\n\r\nexport type DrawFaceExpressionsInput = FaceExpressions | WithFaceExpressions<{}>\r\n\r\nexport function drawFaceExpressions(\r\n  canvasArg: string | HTMLCanvasElement,\r\n  faceExpressions: DrawFaceExpressionsInput | Array<DrawFaceExpressionsInput>,\r\n  minConfidence = 0.1,\r\n  textFieldAnchor?: IPoint\r\n) {\r\n  const faceExpressionsArray = Array.isArray(faceExpressions) ? faceExpressions : [faceExpressions]\r\n\r\n  faceExpressionsArray.forEach(e => {\r\n    const expr = e instanceof FaceExpressions\r\n      ? e\r\n      : (isWithFaceExpressions(e) ? e.expressions : undefined)\r\n    if (!expr) {\r\n      throw new Error('drawFaceExpressions - expected faceExpressions to be FaceExpressions | WithFaceExpressions<{}> or array thereof')\r\n    }\r\n\r\n    const sorted = expr.asSortedArray()\r\n    const resultsToDisplay = sorted.filter(expr => expr.probability > minConfidence)\r\n\r\n    const anchor = isWithFaceDetection(e)\r\n      ? e.detection.box.bottomLeft\r\n      : (textFieldAnchor || new Point(0, 0))\r\n\r\n    const drawTextField = new draw.DrawTextField(\r\n      resultsToDisplay.map(expr => `${expr.expression} (${round(expr.probability)})`),\r\n      anchor\r\n    )\r\n    drawTextField.draw(canvasArg)\r\n  })\r\n}"],"names":[],"mappings":";;;;;;;AAAA,OAAO,EAAE,IAAI,EAAU,KAAK,EAAE,KAAK,EAAE,MAAM,6BAA6B,CAAC;;AAEzE,OAAO,EAAE,eAAe,EAAE,MAAM,sBAAsB,CAAC;AACvD,OAAO,EAAE,mBAAmB,EAAE,MAAM,gCAAgC,CAAC;AACrE,OAAO,EAAE,qBAAqB,EAAuB,MAAM,kCAAkC,CAAC;;;;;AAIxF,SAAU,mBAAmB,CACjC,SAAqC,EACrC,eAA2E,EAC3E,aAAmB,EACnB,eAAwB;IADxB,IAAA,kBAAA,KAAA,GAAA;QAAA,gBAAA,GAAmB;IAAA;IAGnB,IAAM,oBAAoB,GAAG,KAAK,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC;QAAC,eAAe;KAAC,CAAA;IAEjG,oBAAoB,CAAC,OAAO,CAAC,SAAA,CAAC;QAC5B,IAAM,IAAI,GAAG,CAAC,YAAY,+MAAe,GACrC,CAAC,OACA,iNAAqB,EAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,SAAS,CAAC,CAAA;QAC1D,IAAI,CAAC,IAAI,EAAE;YACT,MAAM,IAAI,KAAK,CAAC,iHAAiH,CAAC,CAAA;SACnI;QAED,IAAM,MAAM,GAAG,IAAI,CAAC,aAAa,EAAE,CAAA;QACnC,IAAM,gBAAgB,GAAG,MAAM,CAAC,MAAM,CAAC,SAAA,IAAI;YAAI,OAAA,IAAI,CAAC,WAAW,GAAG,aAAa;QAAhC,CAAgC,CAAC,CAAA;QAEhF,IAAM,MAAM,OAAG,6MAAmB,EAAC,CAAC,CAAC,GACjC,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,GACzB,eAAe,IAAI,IAAI,oMAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAA;QAExC,IAAM,aAAa,GAAG,IAAI,gOAAI,CAAC,aAAa,CAC1C,gBAAgB,CAAC,GAAG,CAAC,SAAA,IAAI;YAAI,OAAG,IAAI,CAAC,UAAU,GAAA,WAAK,kMAAK,EAAC,IAAI,CAAC,WAAW,CAAC,GAAA,GAAG;QAAjD,CAAiD,CAAC,EAC/E,MAAM,CACP,CAAA;QACD,aAAa,CAAC,IAAI,CAAC,SAAS,CAAC,CAAA;IAC/B,CAAC,CAAC,CAAA;AACJ,CAAC"}},
    {"offset": {"line": 887, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/minBbox.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/minBbox.ts"],"sourcesContent":["import { BoundingBox, IPoint } from 'tfjs-image-recognition-base';\r\n\r\nexport function minBbox(pts: IPoint[]): BoundingBox {\r\n  const xs = pts.map(pt => pt.x)\r\n  const ys = pts.map(pt => pt.y)\r\n  const minX = xs.reduce((min, x) => x < min ? x : min, Infinity)\r\n  const minY = ys.reduce((min, y) => y < min ? y : min, Infinity)\r\n  const maxX = xs.reduce((max, x) => max < x ? x : max, 0)\r\n  const maxY = ys.reduce((max, y) => max < y ? y : max, 0)\r\n\r\n  return new BoundingBox(minX, minY, maxX, maxY)\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA,OAAO,EAAE,WAAW,EAAU,MAAM,6BAA6B,CAAC;;AAE5D,SAAU,OAAO,CAAC,GAAa;IACnC,IAAM,EAAE,GAAG,GAAG,CAAC,GAAG,CAAC,SAAA,EAAE;QAAI,OAAA,EAAE,CAAC,CAAC;IAAJ,CAAI,CAAC,CAAA;IAC9B,IAAM,EAAE,GAAG,GAAG,CAAC,GAAG,CAAC,SAAA,EAAE;QAAI,OAAA,EAAE,CAAC,CAAC;IAAJ,CAAI,CAAC,CAAA;IAC9B,IAAM,IAAI,GAAG,EAAE,CAAC,MAAM,CAAC,SAAC,GAAG,EAAE,CAAC;QAAK,OAAA,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG;IAAjB,CAAiB,EAAE,QAAQ,CAAC,CAAA;IAC/D,IAAM,IAAI,GAAG,EAAE,CAAC,MAAM,CAAC,SAAC,GAAG,EAAE,CAAC;QAAK,OAAA,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG;IAAjB,CAAiB,EAAE,QAAQ,CAAC,CAAA;IAC/D,IAAM,IAAI,GAAG,EAAE,CAAC,MAAM,CAAC,SAAC,GAAG,EAAE,CAAC;QAAK,OAAA,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG;IAAjB,CAAiB,EAAE,CAAC,CAAC,CAAA;IACxD,IAAM,IAAI,GAAG,EAAE,CAAC,MAAM,CAAC,SAAC,GAAG,EAAE,CAAC;QAAK,OAAA,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG;IAAjB,CAAiB,EAAE,CAAC,CAAC,CAAA;IAExD,OAAO,IAAI,gNAAW,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAA;AAChD,CAAC"}},
    {"offset": {"line": 919, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/classes/FaceLandmarks.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/classes/FaceLandmarks.ts"],"sourcesContent":["import { Box, Dimensions, getCenterPoint, IBoundingBox, IDimensions, IRect, Point, Rect } from 'tfjs-image-recognition-base';\r\n\r\nimport { minBbox } from '../minBbox';\r\nimport { FaceDetection } from './FaceDetection';\r\n\r\n// face alignment constants\r\nconst relX = 0.5\r\nconst relY = 0.43\r\nconst relScale = 0.45\r\n\r\nexport interface IFaceLandmarks {\r\n  positions: Point[]\r\n  shift: Point\r\n}\r\n\r\nexport class FaceLandmarks implements IFaceLandmarks {\r\n  protected _shift: Point\r\n  protected _positions: Point[]\r\n  protected _imgDims: Dimensions\r\n\r\n  constructor(\r\n    relativeFaceLandmarkPositions: Point[],\r\n    imgDims: IDimensions,\r\n    shift: Point = new Point(0, 0)\r\n  ) {\r\n    const { width, height } = imgDims\r\n    this._imgDims = new Dimensions(width, height)\r\n    this._shift = shift\r\n    this._positions = relativeFaceLandmarkPositions.map(\r\n      pt => pt.mul(new Point(width, height)).add(shift)\r\n    )\r\n  }\r\n\r\n  public get shift(): Point { return new Point(this._shift.x, this._shift.y) }\r\n  public get imageWidth(): number { return this._imgDims.width }\r\n  public get imageHeight(): number { return this._imgDims.height }\r\n  public get positions(): Point[] { return this._positions }\r\n  public get relativePositions(): Point[] {\r\n    return this._positions.map(\r\n      pt => pt.sub(this._shift).div(new Point(this.imageWidth, this.imageHeight))\r\n    )\r\n  }\r\n\r\n  public forSize<T extends FaceLandmarks>(width: number, height: number): T {\r\n    return new (this.constructor as any)(\r\n      this.relativePositions,\r\n      { width, height }\r\n    )\r\n  }\r\n\r\n  public shiftBy<T extends FaceLandmarks>(x: number, y: number): T {\r\n    return new (this.constructor as any)(\r\n      this.relativePositions,\r\n      this._imgDims,\r\n      new Point(x, y)\r\n    )\r\n  }\r\n\r\n  public shiftByPoint<T extends FaceLandmarks>(pt: Point): T {\r\n    return this.shiftBy(pt.x, pt.y)\r\n  }\r\n\r\n  /**\r\n   * Aligns the face landmarks after face detection from the relative positions of the faces\r\n   * bounding box, or it's current shift. This function should be used to align the face images\r\n   * after face detection has been performed, before they are passed to the face recognition net.\r\n   * This will make the computed face descriptor more accurate.\r\n   *\r\n   * @param detection (optional) The bounding box of the face or the face detection result. If\r\n   * no argument was passed the position of the face landmarks are assumed to be relative to\r\n   * it's current shift.\r\n   * @returns The bounding box of the aligned face.\r\n   */\r\n  public align(\r\n    detection?: FaceDetection | IRect | IBoundingBox | null,\r\n    options: { useDlibAlignment?: boolean, minBoxPadding?: number } = { }\r\n  ): Box {\r\n    if (detection) {\r\n      const box = detection instanceof FaceDetection\r\n        ? detection.box.floor()\r\n        : new Box(detection)\r\n\r\n      return this.shiftBy(box.x, box.y).align(null, options)\r\n    }\r\n\r\n    const { useDlibAlignment, minBoxPadding } = Object.assign({}, { useDlibAlignment: false, minBoxPadding: 0.2 }, options)\r\n\r\n    if (useDlibAlignment) {\r\n      return this.alignDlib()\r\n    }\r\n\r\n    return this.alignMinBbox(minBoxPadding)\r\n  }\r\n\r\n  private alignDlib(): Box {\r\n\r\n    const centers = this.getRefPointsForAlignment()\r\n\r\n    const [leftEyeCenter, rightEyeCenter, mouthCenter] = centers\r\n    const distToMouth = (pt: Point) => mouthCenter.sub(pt).magnitude()\r\n    const eyeToMouthDist = (distToMouth(leftEyeCenter) + distToMouth(rightEyeCenter)) / 2\r\n\r\n    const size = Math.floor(eyeToMouthDist / relScale)\r\n\r\n    const refPoint = getCenterPoint(centers)\r\n    // TODO: pad in case rectangle is out of image bounds\r\n    const x = Math.floor(Math.max(0, refPoint.x - (relX * size)))\r\n    const y = Math.floor(Math.max(0, refPoint.y - (relY * size)))\r\n\r\n    return new Rect(x, y, Math.min(size, this.imageWidth + x), Math.min(size, this.imageHeight + y))\r\n  }\r\n\r\n  private alignMinBbox(padding: number): Box {\r\n    const box = minBbox(this.positions)\r\n    return box.pad(box.width * padding, box.height * padding)\r\n  }\r\n\r\n  protected getRefPointsForAlignment(): Point[] {\r\n    throw new Error('getRefPointsForAlignment not implemented by base class')\r\n  }\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1056, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/classes/FaceLandmarks68.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/classes/FaceLandmarks68.ts"],"sourcesContent":["import { getCenterPoint, Point } from 'tfjs-image-recognition-base';\r\n\r\nimport { FaceLandmarks } from '../classes/FaceLandmarks';\r\n\r\nexport class FaceLandmarks68 extends FaceLandmarks {\r\n  public getJawOutline(): Point[] {\r\n    return this.positions.slice(0, 17)\r\n  }\r\n\r\n  public getLeftEyeBrow(): Point[] {\r\n    return this.positions.slice(17, 22)\r\n  }\r\n\r\n  public getRightEyeBrow(): Point[] {\r\n    return this.positions.slice(22, 27)\r\n  }\r\n\r\n  public getNose(): Point[] {\r\n    return this.positions.slice(27, 36)\r\n  }\r\n\r\n  public getLeftEye(): Point[] {\r\n    return this.positions.slice(36, 42)\r\n  }\r\n\r\n  public getRightEye(): Point[] {\r\n    return this.positions.slice(42, 48)\r\n  }\r\n\r\n  public getMouth(): Point[] {\r\n    return this.positions.slice(48, 68)\r\n  }\r\n\r\n  protected getRefPointsForAlignment(): Point[] {\r\n    return [\r\n      this.getLeftEye(),\r\n      this.getRightEye(),\r\n      this.getMouth()\r\n    ].map(getCenterPoint)\r\n  }\r\n}"],"names":[],"mappings":";;;;;;AAAA,OAAO,EAAE,cAAc,EAAS,MAAM,6BAA6B,CAAC;AAEpE,OAAO,EAAE,aAAa,EAAE,MAAM,0BAA0B,CAAC;;;;AAEzD,IAAA,kBAAA,SAAA,MAAA;IAAqC,0LAAA,CAAA,iBAAA,QAAa;IAAlD,SAAA;;IAoCA,CAAC;IAnCQ,gBAAA,SAAA,CAAA,aAAa,GAApB;QACE,OAAO,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,CAAA;IACpC,CAAC;IAEM,gBAAA,SAAA,CAAA,cAAc,GAArB;QACE,OAAO,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE,EAAE,EAAE,CAAC,CAAA;IACrC,CAAC;IAEM,gBAAA,SAAA,CAAA,eAAe,GAAtB;QACE,OAAO,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE,EAAE,EAAE,CAAC,CAAA;IACrC,CAAC;IAEM,gBAAA,SAAA,CAAA,OAAO,GAAd;QACE,OAAO,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE,EAAE,EAAE,CAAC,CAAA;IACrC,CAAC;IAEM,gBAAA,SAAA,CAAA,UAAU,GAAjB;QACE,OAAO,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE,EAAE,EAAE,CAAC,CAAA;IACrC,CAAC;IAEM,gBAAA,SAAA,CAAA,WAAW,GAAlB;QACE,OAAO,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE,EAAE,EAAE,CAAC,CAAA;IACrC,CAAC;IAEM,gBAAA,SAAA,CAAA,QAAQ,GAAf;QACE,OAAO,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE,EAAE,EAAE,CAAC,CAAA;IACrC,CAAC;IAES,gBAAA,SAAA,CAAA,wBAAwB,GAAlC;QACE,OAAO;YACL,IAAI,CAAC,UAAU,EAAE;YACjB,IAAI,CAAC,WAAW,EAAE;YAClB,IAAI,CAAC,QAAQ,EAAE;SAChB,CAAC,GAAG,CAAC,2MAAc,CAAC,CAAA;IACvB,CAAC;IACH,OAAA,eAAC;AAAD,CAAC,AApCD,CAAqC,iMAAa,GAoCjD"}},
    {"offset": {"line": 1108, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/factories/WithFaceLandmarks.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/factories/WithFaceLandmarks.ts"],"sourcesContent":["import { FaceDetection } from '../classes/FaceDetection';\r\nimport { FaceLandmarks } from '../classes/FaceLandmarks';\r\nimport { FaceLandmarks68 } from '../classes/FaceLandmarks68';\r\nimport { isWithFaceDetection, WithFaceDetection } from './WithFaceDetection';\r\n\r\nexport type WithFaceLandmarks<\r\n  TSource extends WithFaceDetection<{}>,\r\n  TFaceLandmarks extends FaceLandmarks = FaceLandmarks68\r\n> = TSource & {\r\n  landmarks: TFaceLandmarks\r\n  unshiftedLandmarks: TFaceLandmarks\r\n  alignedRect: FaceDetection\r\n}\r\n\r\nexport function isWithFaceLandmarks(obj: any): obj is WithFaceLandmarks<WithFaceDetection<{}>, FaceLandmarks> {\r\n  return isWithFaceDetection(obj)\r\n    && obj['landmarks'] instanceof FaceLandmarks\r\n    && obj['unshiftedLandmarks'] instanceof FaceLandmarks\r\n    && obj['alignedRect'] instanceof FaceDetection\r\n}\r\n\r\nexport function extendWithFaceLandmarks<\r\n  TSource extends WithFaceDetection<{}>,\r\n  TFaceLandmarks extends FaceLandmarks = FaceLandmarks68\r\n> (\r\n  sourceObj: TSource,\r\n  unshiftedLandmarks: TFaceLandmarks\r\n): WithFaceLandmarks<TSource, TFaceLandmarks> {\r\n\r\n  const { box: shift } = sourceObj.detection\r\n  const landmarks = unshiftedLandmarks.shiftBy<TFaceLandmarks>(shift.x, shift.y)\r\n\r\n  const rect = landmarks.align()\r\n  const { imageDims } = sourceObj.detection\r\n  const alignedRect = new FaceDetection(sourceObj.detection.score, rect.rescale(imageDims.reverse()), imageDims)\r\n\r\n  const extension = {\r\n    landmarks,\r\n    unshiftedLandmarks,\r\n    alignedRect\r\n  }\r\n\r\n  return Object.assign({}, sourceObj, extension)\r\n}"],"names":[],"mappings":";;;;;;AAAA,OAAO,EAAE,aAAa,EAAE,MAAM,0BAA0B,CAAC;AACzD,OAAO,EAAE,aAAa,EAAE,MAAM,0BAA0B,CAAC;AAEzD,OAAO,EAAE,mBAAmB,EAAqB,MAAM,qBAAqB,CAAC;;;;AAWvE,SAAU,mBAAmB,CAAC,GAAQ;IAC1C,WAAO,6MAAmB,EAAC,GAAG,CAAC,IAC1B,GAAG,CAAC,WAAW,CAAC,YAAY,iMAAa,IACzC,GAAG,CAAC,oBAAoB,CAAC,YAAY,iMAAa,IAClD,GAAG,CAAC,aAAa,CAAC,YAAY,iMAAa,CAAA;AAClD,CAAC;AAEK,SAAU,uBAAuB,CAIrC,SAAkB,EAClB,kBAAkC;IAG1B,IAAA,QAAA,UAAA,SAAA,CAAA,GAAU,CAAwB;IAC1C,IAAM,SAAS,GAAG,kBAAkB,CAAC,OAAO,CAAiB,KAAK,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,CAAA;IAE9E,IAAM,IAAI,GAAG,SAAS,CAAC,KAAK,EAAE,CAAA;IACtB,IAAA,YAAA,UAAA,SAAA,CAAA,SAAS,CAAwB;IACzC,IAAM,WAAW,GAAG,IAAI,iMAAa,CAAC,SAAS,CAAC,SAAS,CAAC,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC,EAAE,SAAS,CAAC,CAAA;IAE9G,IAAM,SAAS,GAAG;QAChB,SAAS,EAAA,SAAA;QACT,kBAAkB,EAAA,kBAAA;QAClB,WAAW,EAAA,WAAA;KACZ,CAAA;IAED,OAAO,MAAM,CAAC,MAAM,CAAC,CAAA,CAAE,EAAE,SAAS,EAAE,SAAS,CAAC,CAAA;AAChD,CAAC"}},
    {"offset": {"line": 1140, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/draw/DrawFaceLandmarks.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/draw/DrawFaceLandmarks.ts"],"sourcesContent":["import { getContext2dOrThrow, IPoint } from 'tfjs-image-recognition-base';\r\n\r\nimport { FaceLandmarks } from '../classes/FaceLandmarks';\r\nimport { FaceLandmarks68 } from '../classes/FaceLandmarks68';\r\nimport { WithFaceDetection } from '../factories/WithFaceDetection';\r\nimport { isWithFaceLandmarks, WithFaceLandmarks } from '../factories/WithFaceLandmarks';\r\nimport { drawContour } from './drawContour';\r\n\r\nexport interface IDrawFaceLandmarksOptions {\r\n  drawLines?: boolean\r\n  drawPoints?: boolean\r\n  lineWidth?: number\r\n  pointSize?: number\r\n  lineColor?: string\r\n  pointColor?: string\r\n}\r\n\r\nexport class DrawFaceLandmarksOptions {\r\n  public drawLines: boolean\r\n  public drawPoints: boolean\r\n  public lineWidth: number\r\n  public pointSize: number\r\n  public lineColor: string\r\n  public pointColor: string\r\n\r\n  constructor(options: IDrawFaceLandmarksOptions = {}) {\r\n    const { drawLines = true, drawPoints = true, lineWidth, lineColor, pointSize, pointColor } = options\r\n    this.drawLines = drawLines\r\n    this.drawPoints = drawPoints\r\n    this.lineWidth = lineWidth || 1\r\n    this.pointSize = pointSize || 2\r\n    this.lineColor = lineColor || 'rgba(0, 255, 255, 1)'\r\n    this.pointColor = pointColor || 'rgba(255, 0, 255, 1)'\r\n  }\r\n}\r\n\r\nexport class DrawFaceLandmarks {\r\n  public faceLandmarks: FaceLandmarks\r\n  public options: DrawFaceLandmarksOptions\r\n\r\n  constructor(\r\n    faceLandmarks: FaceLandmarks,\r\n    options: IDrawFaceLandmarksOptions = {}\r\n  ) {\r\n    this.faceLandmarks = faceLandmarks\r\n    this.options = new DrawFaceLandmarksOptions(options)\r\n  }\r\n\r\n  draw(canvasArg: string | HTMLCanvasElement | CanvasRenderingContext2D) {\r\n    const ctx = getContext2dOrThrow(canvasArg)\r\n\r\n    const { drawLines, drawPoints, lineWidth, lineColor, pointSize, pointColor } = this.options\r\n\r\n    if (drawLines && this.faceLandmarks instanceof FaceLandmarks68) {\r\n      ctx.strokeStyle = lineColor\r\n      ctx.lineWidth = lineWidth\r\n      drawContour(ctx, this.faceLandmarks.getJawOutline())\r\n      drawContour(ctx, this.faceLandmarks.getLeftEyeBrow())\r\n      drawContour(ctx, this.faceLandmarks.getRightEyeBrow())\r\n      drawContour(ctx, this.faceLandmarks.getNose())\r\n      drawContour(ctx, this.faceLandmarks.getLeftEye(), true)\r\n      drawContour(ctx, this.faceLandmarks.getRightEye(), true)\r\n      drawContour(ctx, this.faceLandmarks.getMouth(), true)\r\n    }\r\n\r\n    if (drawPoints) {\r\n      ctx.strokeStyle = pointColor\r\n      ctx.fillStyle = pointColor\r\n\r\n      const drawPoint = (pt: IPoint) => {\r\n        ctx.beginPath()\r\n        ctx.arc(pt.x, pt.y, pointSize, 0, 2 * Math.PI)\r\n        ctx.fill()\r\n      }\r\n      this.faceLandmarks.positions.forEach(drawPoint)\r\n    }\r\n  }\r\n}\r\n\r\nexport type DrawFaceLandmarksInput = FaceLandmarks | WithFaceLandmarks<WithFaceDetection<{}>>\r\n\r\nexport function drawFaceLandmarks(\r\n  canvasArg: string | HTMLCanvasElement,\r\n  faceLandmarks: DrawFaceLandmarksInput | Array<DrawFaceLandmarksInput>\r\n) {\r\n  const faceLandmarksArray = Array.isArray(faceLandmarks) ? faceLandmarks : [faceLandmarks]\r\n  faceLandmarksArray.forEach(f => {\r\n    const landmarks = f instanceof FaceLandmarks\r\n      ? f\r\n      : (isWithFaceLandmarks(f) ? f.landmarks : undefined)\r\n    if (!landmarks) {\r\n      throw new Error('drawFaceLandmarks - expected faceExpressions to be FaceLandmarks | WithFaceLandmarks<WithFaceDetection<{}>> or array thereof')\r\n    }\r\n\r\n    new DrawFaceLandmarks(landmarks).draw(canvasArg)\r\n  })\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1227, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/draw/index.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/draw/index.ts"],"sourcesContent":["export * from './drawContour'\r\nexport * from './drawDetections'\r\nexport * from './drawFaceExpressions'\r\nexport * from './DrawFaceLandmarks'"],"names":[],"mappings":";AAAA,cAAc,eAAe,CAAA;AAC7B,cAAc,kBAAkB,CAAA;AAChC,cAAc,uBAAuB,CAAA;AACrC,cAAc,qBAAqB,CAAA"}},
    {"offset": {"line": 1263, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/xception/extractParams.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/xception/extractParams.ts"],"sourcesContent":["import { range, TfjsImageRecognitionBase } from 'tfjs-image-recognition-base';\r\n\r\nimport { MainBlockParams, ReductionBlockParams, TinyXceptionParams } from './types';\r\n\r\nfunction extractorsFactory(extractWeights: TfjsImageRecognitionBase.ExtractWeightsFunction, paramMappings: TfjsImageRecognitionBase.ParamMapping[]) {\r\n\r\n  const extractConvParams = TfjsImageRecognitionBase.extractConvParamsFactory(extractWeights, paramMappings)\r\n  const extractSeparableConvParams = TfjsImageRecognitionBase.extractSeparableConvParamsFactory(extractWeights, paramMappings)\r\n\r\n  function extractReductionBlockParams(channelsIn: number, channelsOut: number, mappedPrefix: string): ReductionBlockParams {\r\n\r\n    const separable_conv0 = extractSeparableConvParams(channelsIn, channelsOut, `${mappedPrefix}/separable_conv0`)\r\n    const separable_conv1 = extractSeparableConvParams(channelsOut, channelsOut, `${mappedPrefix}/separable_conv1`)\r\n    const expansion_conv = extractConvParams(channelsIn, channelsOut, 1, `${mappedPrefix}/expansion_conv`)\r\n\r\n    return { separable_conv0, separable_conv1, expansion_conv }\r\n  }\r\n\r\n  function extractMainBlockParams(channels: number, mappedPrefix: string): MainBlockParams {\r\n\r\n    const separable_conv0 = extractSeparableConvParams(channels, channels, `${mappedPrefix}/separable_conv0`)\r\n    const separable_conv1 = extractSeparableConvParams(channels, channels, `${mappedPrefix}/separable_conv1`)\r\n    const separable_conv2 = extractSeparableConvParams(channels, channels, `${mappedPrefix}/separable_conv2`)\r\n\r\n    return { separable_conv0, separable_conv1, separable_conv2 }\r\n  }\r\n\r\n  return {\r\n    extractConvParams,\r\n    extractSeparableConvParams,\r\n    extractReductionBlockParams,\r\n    extractMainBlockParams\r\n  }\r\n\r\n}\r\n\r\nexport function extractParams(weights: Float32Array, numMainBlocks: number): { params: TinyXceptionParams, paramMappings: TfjsImageRecognitionBase.ParamMapping[] } {\r\n\r\n  const paramMappings: TfjsImageRecognitionBase.ParamMapping[] = []\r\n\r\n  const {\r\n    extractWeights,\r\n    getRemainingWeights\r\n  } = TfjsImageRecognitionBase.extractWeightsFactory(weights)\r\n\r\n  const {\r\n    extractConvParams,\r\n    extractSeparableConvParams,\r\n    extractReductionBlockParams,\r\n    extractMainBlockParams\r\n  } = extractorsFactory(extractWeights, paramMappings)\r\n\r\n  const entry_flow_conv_in = extractConvParams(3, 32, 3, 'entry_flow/conv_in')\r\n  const entry_flow_reduction_block_0 = extractReductionBlockParams(32, 64, 'entry_flow/reduction_block_0')\r\n  const entry_flow_reduction_block_1 = extractReductionBlockParams(64, 128, 'entry_flow/reduction_block_1')\r\n\r\n  const entry_flow = {\r\n    conv_in: entry_flow_conv_in,\r\n    reduction_block_0: entry_flow_reduction_block_0,\r\n    reduction_block_1: entry_flow_reduction_block_1\r\n  }\r\n\r\n  const middle_flow = {}\r\n  range(numMainBlocks, 0, 1).forEach((idx) => {\r\n    middle_flow[`main_block_${idx}`] = extractMainBlockParams(128, `middle_flow/main_block_${idx}`)\r\n  })\r\n\r\n  const exit_flow_reduction_block = extractReductionBlockParams(128, 256, 'exit_flow/reduction_block')\r\n  const exit_flow_separable_conv = extractSeparableConvParams(256, 512, 'exit_flow/separable_conv')\r\n\r\n  const exit_flow = {\r\n    reduction_block: exit_flow_reduction_block,\r\n    separable_conv: exit_flow_separable_conv\r\n  }\r\n\r\n  if (getRemainingWeights().length !== 0) {\r\n    throw new Error(`weights remaing after extract: ${getRemainingWeights().length}`)\r\n  }\r\n\r\n  return {\r\n    paramMappings,\r\n    params: { entry_flow, middle_flow, exit_flow }\r\n  }\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1339, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/xception/extractParamsFromWeigthMap.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/xception/extractParamsFromWeigthMap.ts"],"sourcesContent":["import * as tf from '@tensorflow/tfjs-core';\r\nimport { TfjsImageRecognitionBase, range } from 'tfjs-image-recognition-base';\r\n\r\nimport { loadConvParamsFactory } from '../common/loadConvParamsFactory';\r\nimport { MainBlockParams, ReductionBlockParams, TinyXceptionParams } from './types';\r\n\r\nfunction loadParamsFactory(weightMap: any, paramMappings: TfjsImageRecognitionBase.ParamMapping[]) {\r\n\r\n  const extractWeightEntry = TfjsImageRecognitionBase.extractWeightEntryFactory(weightMap, paramMappings)\r\n\r\n  const extractConvParams = loadConvParamsFactory(extractWeightEntry)\r\n  const extractSeparableConvParams = TfjsImageRecognitionBase.loadSeparableConvParamsFactory(extractWeightEntry)\r\n\r\n  function extractReductionBlockParams(mappedPrefix: string): ReductionBlockParams {\r\n\r\n    const separable_conv0 = extractSeparableConvParams(`${mappedPrefix}/separable_conv0`)\r\n    const separable_conv1 = extractSeparableConvParams(`${mappedPrefix}/separable_conv1`)\r\n    const expansion_conv = extractConvParams(`${mappedPrefix}/expansion_conv`)\r\n\r\n    return { separable_conv0, separable_conv1, expansion_conv }\r\n  }\r\n\r\n  function extractMainBlockParams(mappedPrefix: string): MainBlockParams {\r\n\r\n    const separable_conv0 = extractSeparableConvParams(`${mappedPrefix}/separable_conv0`)\r\n    const separable_conv1 = extractSeparableConvParams(`${mappedPrefix}/separable_conv1`)\r\n    const separable_conv2 = extractSeparableConvParams(`${mappedPrefix}/separable_conv2`)\r\n\r\n    return { separable_conv0, separable_conv1, separable_conv2 }\r\n  }\r\n\r\n  return {\r\n    extractConvParams,\r\n    extractSeparableConvParams,\r\n    extractReductionBlockParams,\r\n    extractMainBlockParams\r\n  }\r\n}\r\n\r\nexport function extractParamsFromWeigthMap(\r\n  weightMap: tf.NamedTensorMap,\r\n  numMainBlocks: number\r\n): { params: TinyXceptionParams, paramMappings: TfjsImageRecognitionBase.ParamMapping[] } {\r\n\r\n  const paramMappings: TfjsImageRecognitionBase.ParamMapping[] = []\r\n\r\n  const {\r\n    extractConvParams,\r\n    extractSeparableConvParams,\r\n    extractReductionBlockParams,\r\n    extractMainBlockParams\r\n  } = loadParamsFactory(weightMap, paramMappings)\r\n\r\n  const entry_flow_conv_in = extractConvParams('entry_flow/conv_in')\r\n  const entry_flow_reduction_block_0 = extractReductionBlockParams('entry_flow/reduction_block_0')\r\n  const entry_flow_reduction_block_1 = extractReductionBlockParams('entry_flow/reduction_block_1')\r\n\r\n  const entry_flow = {\r\n    conv_in: entry_flow_conv_in,\r\n    reduction_block_0: entry_flow_reduction_block_0,\r\n    reduction_block_1: entry_flow_reduction_block_1\r\n  }\r\n\r\n  const middle_flow = {}\r\n  range(numMainBlocks, 0, 1).forEach((idx) => {\r\n    middle_flow[`main_block_${idx}`] = extractMainBlockParams(`middle_flow/main_block_${idx}`)\r\n  })\r\n\r\n  const exit_flow_reduction_block = extractReductionBlockParams('exit_flow/reduction_block')\r\n  const exit_flow_separable_conv = extractSeparableConvParams('exit_flow/separable_conv')\r\n\r\n  const exit_flow = {\r\n    reduction_block: exit_flow_reduction_block,\r\n    separable_conv: exit_flow_separable_conv\r\n  }\r\n\r\n  TfjsImageRecognitionBase.disposeUnusedWeightTensors(weightMap, paramMappings)\r\n\r\n  return { params: { entry_flow, middle_flow, exit_flow }, paramMappings }\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1415, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/xception/TinyXception.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/xception/TinyXception.ts"],"sourcesContent":["import * as tf from '@tensorflow/tfjs-core';\r\nimport {\r\n  NetInput,\r\n  NeuralNetwork,\r\n  normalize,\r\n  range,\r\n  TfjsImageRecognitionBase,\r\n  TNetInput,\r\n  toNetInput,\r\n} from 'tfjs-image-recognition-base';\r\n\r\nimport { depthwiseSeparableConv } from '../common/depthwiseSeparableConv';\r\nimport { bgrToRgbTensor } from '../mtcnn/bgrToRgbTensor';\r\nimport { extractParams } from './extractParams';\r\nimport { extractParamsFromWeigthMap } from './extractParamsFromWeigthMap';\r\nimport { MainBlockParams, ReductionBlockParams, TinyXceptionParams } from './types';\r\n\r\nfunction conv(x: tf.Tensor4D, params: TfjsImageRecognitionBase.ConvParams, stride: [number, number]): tf.Tensor4D {\r\n  return tf.add(tf.conv2d(x, params.filters, stride, 'same'), params.bias)\r\n}\r\n\r\nfunction reductionBlock(x: tf.Tensor4D, params: ReductionBlockParams, isActivateInput: boolean = true): tf.Tensor4D {\r\n  let out = isActivateInput ? tf.relu(x) : x\r\n  out = depthwiseSeparableConv(out, params.separable_conv0, [1, 1])\r\n  out = depthwiseSeparableConv(tf.relu(out),  params.separable_conv1, [1, 1])\r\n  out = tf.maxPool(out, [3, 3], [2, 2], 'same')\r\n  out = tf.add(out, conv(x,  params.expansion_conv, [2, 2]))\r\n  return out\r\n}\r\n\r\nfunction mainBlock(x: tf.Tensor4D, params: MainBlockParams): tf.Tensor4D {\r\n  let out = depthwiseSeparableConv(tf.relu(x), params.separable_conv0, [1, 1])\r\n  out = depthwiseSeparableConv(tf.relu(out), params.separable_conv1, [1, 1])\r\n  out = depthwiseSeparableConv(tf.relu(out), params.separable_conv2, [1, 1])\r\n  out = tf.add(out, x)\r\n  return out\r\n}\r\n\r\nexport class TinyXception extends NeuralNetwork<TinyXceptionParams> {\r\n\r\n  private _numMainBlocks: number\r\n\r\n  constructor(numMainBlocks: number) {\r\n    super('TinyXception')\r\n    this._numMainBlocks = numMainBlocks\r\n  }\r\n\r\n  public forwardInput(input: NetInput): tf.Tensor4D {\r\n\r\n    const { params } = this\r\n\r\n    if (!params) {\r\n      throw new Error('TinyXception - load model before inference')\r\n    }\r\n\r\n    return tf.tidy(() => {\r\n      const batchTensor = input.toBatchTensor(112, true)\r\n      const meanRgb = [122.782, 117.001, 104.298]\r\n      const normalized = normalize(batchTensor, meanRgb).div(tf.scalar(256)) as tf.Tensor4D\r\n\r\n      let out = tf.relu(conv(normalized, params.entry_flow.conv_in, [2, 2]))\r\n      out = reductionBlock(out, params.entry_flow.reduction_block_0, false)\r\n      out = reductionBlock(out, params.entry_flow.reduction_block_1)\r\n\r\n      range(this._numMainBlocks, 0, 1).forEach((idx) => {\r\n        out = mainBlock(out, params.middle_flow[`main_block_${idx}`])\r\n      })\r\n\r\n      out = reductionBlock(out, params.exit_flow.reduction_block)\r\n      out = tf.relu(depthwiseSeparableConv(out, params.exit_flow.separable_conv, [1, 1]))\r\n      return out\r\n    })\r\n  }\r\n\r\n  public async forward(input: TNetInput): Promise<tf.Tensor4D> {\r\n    return this.forwardInput(await toNetInput(input))\r\n  }\r\n\r\n  protected getDefaultModelName(): string {\r\n    return 'tiny_xception_model'\r\n  }\r\n\r\n  protected extractParamsFromWeigthMap(weightMap: tf.NamedTensorMap) {\r\n    return extractParamsFromWeigthMap(weightMap, this._numMainBlocks)\r\n  }\r\n\r\n  protected extractParams(weights: Float32Array) {\r\n    return extractParams(weights, this._numMainBlocks)\r\n  }\r\n}"],"names":[],"mappings":";;;;;AAAA,OAAO,KAAK,EAAE,MAAM,uBAAuB,CAAC;;;;;AAC5C,OAAO,EAEL,aAAa,EACb,SAAS,EACT,KAAK,EAGL,UAAU,GACX,MAAM,6BAA6B,CAAC;AAErC,OAAO,EAAE,sBAAsB,EAAE,MAAM,kCAAkC,CAAC;AAE1E,OAAO,EAAE,aAAa,EAAE,MAAM,iBAAiB,CAAC;AAChD,OAAO,EAAE,0BAA0B,EAAE,MAAM,8BAA8B,CAAC;;;;;;;AAG1E,SAAS,IAAI,CAAC,CAAc,EAAE,MAA2C,EAAE,MAAwB;IACjG,OAAO,EAAE,CAAC,gLAAG,CAAC,EAAE,CAAC,mLAAM,CAAC,CAAC,EAAE,MAAM,CAAC,OAAO,EAAE,MAAM,EAAE,MAAM,CAAC,EAAE,MAAM,CAAC,IAAI,CAAC,CAAA;AAC1E,CAAC;AAED,SAAS,cAAc,CAAC,CAAc,EAAE,MAA4B,EAAE,eAA+B;IAA/B,IAAA,oBAAA,KAAA,GAAA;QAAA,kBAAA,IAA+B;IAAA;IACnG,IAAI,GAAG,GAAG,eAAe,CAAC,CAAC,CAAC,EAAE,CAAC,iLAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAA;IAC1C,GAAG,OAAG,kNAAsB,EAAC,GAAG,EAAE,MAAM,CAAC,eAAe,EAAE;QAAC,CAAC;QAAE,CAAC;KAAC,CAAC,CAAA;IACjE,GAAG,OAAG,kNAAsB,EAAC,EAAE,CAAC,iLAAI,CAAC,GAAG,CAAC,EAAG,MAAM,CAAC,eAAe,EAAE;QAAC,CAAC;QAAE,CAAC;KAAC,CAAC,CAAA;IAC3E,GAAG,GAAG,EAAE,CAAC,oLAAO,CAAC,GAAG,EAAE;QAAC,CAAC;QAAE,CAAC;KAAC,EAAE;QAAC,CAAC;QAAE,CAAC;KAAC,EAAE,MAAM,CAAC,CAAA;IAC7C,GAAG,GAAG,EAAE,CAAC,gLAAG,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC,EAAG,MAAM,CAAC,cAAc,EAAE;QAAC,CAAC;QAAE,CAAC;KAAC,CAAC,CAAC,CAAA;IAC1D,OAAO,GAAG,CAAA;AACZ,CAAC;AAED,SAAS,SAAS,CAAC,CAAc,EAAE,MAAuB;IACxD,IAAI,GAAG,OAAG,kNAAsB,EAAC,EAAE,CAAC,iLAAI,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,eAAe,EAAE;QAAC,CAAC;QAAE,CAAC;KAAC,CAAC,CAAA;IAC5E,GAAG,OAAG,kNAAsB,EAAC,EAAE,CAAC,iLAAI,CAAC,GAAG,CAAC,EAAE,MAAM,CAAC,eAAe,EAAE;QAAC,CAAC;QAAE,CAAC;KAAC,CAAC,CAAA;IAC1E,GAAG,OAAG,kNAAsB,EAAC,EAAE,CAAC,iLAAI,CAAC,GAAG,CAAC,EAAE,MAAM,CAAC,eAAe,EAAE;QAAC,CAAC;QAAE,CAAC;KAAC,CAAC,CAAA;IAC1E,GAAG,GAAG,EAAE,CAAC,gLAAG,CAAC,GAAG,EAAE,CAAC,CAAC,CAAA;IACpB,OAAO,GAAG,CAAA;AACZ,CAAC;AAED,IAAA,eAAA,SAAA,MAAA;IAAkC,0LAAA,CAAA,cAAA,QAAiC;IAIjE,SAAA,aAAY,aAAqB;QAAjC,IAAA,QACE,OAAA,IAAA,CAAA,IAAA,EAAM,cAAc,CAAC,IAAA,IAAA,CAEtB;QADC,KAAI,CAAC,cAAc,GAAG,aAAa,CAAA;;IACrC,CAAC;IAEM,aAAA,SAAA,CAAA,YAAY,GAAnB,SAAoB,KAAe;QAAnC,IAAA,QAAA,IAAA,CAyBC;QAvBS,IAAA,SAAA,IAAA,CAAA,MAAM,CAAS;QAEvB,IAAI,CAAC,MAAM,EAAE;YACX,MAAM,IAAI,KAAK,CAAC,4CAA4C,CAAC,CAAA;SAC9D;QAED,OAAO,EAAE,CAAC,iLAAI,CAAC;YACb,IAAM,WAAW,GAAG,KAAK,CAAC,aAAa,CAAC,GAAG,EAAE,IAAI,CAAC,CAAA;YAClD,IAAM,OAAO,GAAG;gBAAC,OAAO;gBAAE,OAAO;gBAAE,OAAO;aAAC,CAAA;YAC3C,IAAM,UAAU,OAAG,wMAAS,EAAC,WAAW,EAAE,OAAO,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,mLAAM,CAAC,GAAG,CAAC,CAAgB,CAAA;YAErF,IAAI,GAAG,GAAG,EAAE,CAAC,iLAAI,CAAC,IAAI,CAAC,UAAU,EAAE,MAAM,CAAC,UAAU,CAAC,OAAO,EAAE;gBAAC,CAAC;gBAAE,CAAC;aAAC,CAAC,CAAC,CAAA;YACtE,GAAG,GAAG,cAAc,CAAC,GAAG,EAAE,MAAM,CAAC,UAAU,CAAC,iBAAiB,EAAE,KAAK,CAAC,CAAA;YACrE,GAAG,GAAG,cAAc,CAAC,GAAG,EAAE,MAAM,CAAC,UAAU,CAAC,iBAAiB,CAAC,CAAA;gBAE9D,kMAAK,EAAC,KAAI,CAAC,cAAc,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,SAAC,GAAG;gBAC3C,GAAG,GAAG,SAAS,CAAC,GAAG,EAAE,MAAM,CAAC,WAAW,CAAC,gBAAc,GAAK,CAAC,CAAC,CAAA;YAC/D,CAAC,CAAC,CAAA;YAEF,GAAG,GAAG,cAAc,CAAC,GAAG,EAAE,MAAM,CAAC,SAAS,CAAC,eAAe,CAAC,CAAA;YAC3D,GAAG,GAAG,EAAE,CAAC,iLAAI,KAAC,kNAAsB,EAAC,GAAG,EAAE,MAAM,CAAC,SAAS,CAAC,cAAc,EAAE;gBAAC,CAAC;gBAAE,CAAC;aAAC,CAAC,CAAC,CAAA;YACnF,OAAO,GAAG,CAAA;QACZ,CAAC,CAAC,CAAA;IACJ,CAAC;IAEY,aAAA,SAAA,CAAA,OAAO,GAApB,SAAqB,KAAgB;;;;;;wBAC5B,KAAA,IAAI,CAAC,YAAY,CAAA;wBAAC,OAAA;4BAAA,EAAA,OAAA;gCAAM,0MAAU,EAAC,KAAK,CAAC;yBAAA,CAAA;;wBAAhD,OAAA;4BAAA,EAAA,QAAA;4BAAO,GAAA,KAAA,CAAA,IAAI,EAAA;gCAAc,GAAA,IAAA,EAAuB;6BAAA,CAAC;yBAAA,CAAA;;;;KAClD;IAES,aAAA,SAAA,CAAA,mBAAmB,GAA7B;QACE,OAAO,qBAAqB,CAAA;IAC9B,CAAC;IAES,aAAA,SAAA,CAAA,0BAA0B,GAApC,SAAqC,SAA4B;QAC/D,WAAO,4NAA0B,EAAC,SAAS,EAAE,IAAI,CAAC,cAAc,CAAC,CAAA;IACnE,CAAC;IAES,aAAA,SAAA,CAAA,aAAa,GAAvB,SAAwB,OAAqB;QAC3C,WAAO,kMAAa,EAAC,OAAO,EAAE,IAAI,CAAC,cAAc,CAAC,CAAA;IACpD,CAAC;IACH,OAAA,YAAC;AAAD,CAAC,AAnDD,CAAkC,yMAAa,GAmD9C"}},
    {"offset": {"line": 1557, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/ageGenderNet/extractParams.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/ageGenderNet/extractParams.ts"],"sourcesContent":["import { TfjsImageRecognitionBase } from 'tfjs-image-recognition-base';\r\n\r\nimport { NetParams } from './types';\r\n\r\nexport function extractParams(weights: Float32Array): { params: NetParams, paramMappings: TfjsImageRecognitionBase.ParamMapping[] } {\r\n\r\n  const paramMappings: TfjsImageRecognitionBase.ParamMapping[] = []\r\n\r\n  const {\r\n    extractWeights,\r\n    getRemainingWeights\r\n  } = TfjsImageRecognitionBase.extractWeightsFactory(weights)\r\n\r\n  const extractFCParams = TfjsImageRecognitionBase.extractFCParamsFactory(extractWeights, paramMappings)\r\n\r\n  const age = extractFCParams(512, 1, 'fc/age')\r\n  const gender = extractFCParams(512, 2, 'fc/gender')\r\n\r\n  if (getRemainingWeights().length !== 0) {\r\n    throw new Error(`weights remaing after extract: ${getRemainingWeights().length}`)\r\n  }\r\n\r\n  return {\r\n    paramMappings,\r\n    params: { fc: { age, gender } }\r\n  }\r\n}"],"names":[],"mappings":";;;;;AAAA,OAAO,EAAE,wBAAwB,EAAE,MAAM,6BAA6B,CAAC;;AAIjE,SAAU,aAAa,CAAC,OAAqB;IAEjD,IAAM,aAAa,GAA4C,EAAE,CAAA;IAE3D,IAAA,KAAA,mRAAA,CAAA,qBAAA,CAAA,QAGqD,EAFzD,iBAAA,GAAA,cAAc,EACd,sBAAA,GAAA,mBACyD,CAAA;IAE3D,IAAM,eAAe,GAAG,mRAAwB,CAAC,sBAAsB,CAAC,cAAc,EAAE,aAAa,CAAC,CAAA;IAEtG,IAAM,GAAG,GAAG,eAAe,CAAC,GAAG,EAAE,CAAC,EAAE,QAAQ,CAAC,CAAA;IAC7C,IAAM,MAAM,GAAG,eAAe,CAAC,GAAG,EAAE,CAAC,EAAE,WAAW,CAAC,CAAA;IAEnD,IAAI,mBAAmB,EAAE,CAAC,MAAM,KAAK,CAAC,EAAE;QACtC,MAAM,IAAI,KAAK,CAAC,oCAAkC,mBAAmB,EAAE,CAAC,MAAQ,CAAC,CAAA;KAClF;IAED,OAAO;QACL,aAAa,EAAA,aAAA;QACb,MAAM,EAAE;YAAE,EAAE,EAAE;gBAAE,GAAG,EAAA,GAAA;gBAAE,MAAM,EAAA,MAAA;YAAA,CAAE;QAAA,CAAE;KAChC,CAAA;AACH,CAAC"}},
    {"offset": {"line": 1587, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/ageGenderNet/extractParamsFromWeigthMap.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/ageGenderNet/extractParamsFromWeigthMap.ts"],"sourcesContent":["import * as tf from '@tensorflow/tfjs-core';\r\nimport { TfjsImageRecognitionBase } from 'tfjs-image-recognition-base';\r\n\r\nimport { NetParams } from './types';\r\n\r\nexport function extractParamsFromWeigthMap(\r\n  weightMap: tf.NamedTensorMap\r\n): { params: NetParams, paramMappings: TfjsImageRecognitionBase.ParamMapping[] } {\r\n\r\n  const paramMappings: TfjsImageRecognitionBase.ParamMapping[] = []\r\n\r\n  const extractWeightEntry = TfjsImageRecognitionBase.extractWeightEntryFactory(weightMap, paramMappings)\r\n\r\n  function extractFcParams(prefix: string): TfjsImageRecognitionBase.FCParams {\r\n    const weights = extractWeightEntry<tf.Tensor2D>(`${prefix}/weights`, 2)\r\n    const bias = extractWeightEntry<tf.Tensor1D>(`${prefix}/bias`, 1)\r\n    return { weights, bias }\r\n  }\r\n\r\n  const params = {\r\n    fc: {\r\n      age: extractFcParams('fc/age'),\r\n      gender: extractFcParams('fc/gender')\r\n    }\r\n  }\r\n\r\n  TfjsImageRecognitionBase.disposeUnusedWeightTensors(weightMap, paramMappings)\r\n\r\n  return { params, paramMappings }\r\n}"],"names":[],"mappings":";;;;;AACA,OAAO,EAAE,wBAAwB,EAAE,MAAM,6BAA6B,CAAC;;AAIjE,SAAU,0BAA0B,CACxC,SAA4B;IAG5B,IAAM,aAAa,GAA4C,EAAE,CAAA;IAEjE,IAAM,kBAAkB,GAAG,mRAAwB,CAAC,yBAAyB,CAAC,SAAS,EAAE,aAAa,CAAC,CAAA;IAEvG,SAAS,eAAe,CAAC,MAAc;QACrC,IAAM,OAAO,GAAG,kBAAkB,CAAiB,MAAM,GAAA,UAAU,EAAE,CAAC,CAAC,CAAA;QACvE,IAAM,IAAI,GAAG,kBAAkB,CAAiB,MAAM,GAAA,OAAO,EAAE,CAAC,CAAC,CAAA;QACjE,OAAO;YAAE,OAAO,EAAA,OAAA;YAAE,IAAI,EAAA,IAAA;QAAA,CAAE,CAAA;IAC1B,CAAC;IAED,IAAM,MAAM,GAAG;QACb,EAAE,EAAE;YACF,GAAG,EAAE,eAAe,CAAC,QAAQ,CAAC;YAC9B,MAAM,EAAE,eAAe,CAAC,WAAW,CAAC;SACrC;KACF,CAAA;IAED,mRAAwB,CAAC,0BAA0B,CAAC,SAAS,EAAE,aAAa,CAAC,CAAA;IAE7E,OAAO;QAAE,MAAM,EAAA,MAAA;QAAE,aAAa,EAAA,aAAA;IAAA,CAAE,CAAA;AAClC,CAAC"}},
    {"offset": {"line": 1621, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/ageGenderNet/types.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/ageGenderNet/types.ts"],"sourcesContent":["import * as tf from '@tensorflow/tfjs-core';\r\nimport { TfjsImageRecognitionBase } from 'tfjs-image-recognition-base';\r\n\r\nexport type AgeAndGenderPrediction = {\r\n  age: number\r\n  gender: Gender\r\n  genderProbability: number\r\n}\r\n\r\nexport enum Gender {\r\n  FEMALE = 'female',\r\n  MALE = 'male'\r\n}\r\n\r\nexport type NetOutput = { age: tf.Tensor1D, gender: tf.Tensor2D }\r\n\r\nexport type NetParams = {\r\n  fc: {\r\n    age: TfjsImageRecognitionBase.FCParams\r\n    gender: TfjsImageRecognitionBase.FCParams\r\n  }\r\n}"],"names":[],"mappings":";;;;AASA,IAAY,MAGX;AAHD,CAAA,SAAY,MAAM;IAChB,MAAA,CAAA,SAAA,GAAA,QAAiB,CAAA;IACjB,MAAA,CAAA,OAAA,GAAA,MAAa,CAAA;AACf,CAAC,EAHW,MAAM,IAAA,CAAN,MAAM,GAAA,CAAA,CAAA,GAGjB"}},
    {"offset": {"line": 1634, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/ageGenderNet/AgeGenderNet.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/ageGenderNet/AgeGenderNet.ts"],"sourcesContent":["import * as tf from '@tensorflow/tfjs-core';\r\nimport { NetInput, NeuralNetwork, TNetInput, toNetInput } from 'tfjs-image-recognition-base';\r\n\r\nimport { fullyConnectedLayer } from '../common/fullyConnectedLayer';\r\nimport { seperateWeightMaps } from '../faceProcessor/util';\r\nimport { TinyXception } from '../xception/TinyXception';\r\nimport { extractParams } from './extractParams';\r\nimport { extractParamsFromWeigthMap } from './extractParamsFromWeigthMap';\r\nimport { AgeAndGenderPrediction, Gender, NetOutput, NetParams } from './types';\r\n\r\nexport class AgeGenderNet extends NeuralNetwork<NetParams> {\r\n\r\n  private _faceFeatureExtractor: TinyXception\r\n\r\n  constructor(faceFeatureExtractor: TinyXception = new TinyXception(2)) {\r\n    super('AgeGenderNet')\r\n    this._faceFeatureExtractor = faceFeatureExtractor\r\n  }\r\n\r\n  public get faceFeatureExtractor(): TinyXception {\r\n    return this._faceFeatureExtractor\r\n  }\r\n\r\n  public runNet(input: NetInput | tf.Tensor4D): NetOutput {\r\n\r\n    const { params } = this\r\n\r\n    if (!params) {\r\n      throw new Error(`${this._name} - load model before inference`)\r\n    }\r\n\r\n    return tf.tidy(() => {\r\n      const bottleneckFeatures = input instanceof NetInput\r\n        ? this.faceFeatureExtractor.forwardInput(input)\r\n        : input\r\n\r\n      const pooled = tf.avgPool(bottleneckFeatures, [7, 7], [2, 2], 'valid').as2D(bottleneckFeatures.shape[0], -1)\r\n      const age = fullyConnectedLayer(pooled, params.fc.age).as1D()\r\n      const gender = fullyConnectedLayer(pooled, params.fc.gender)\r\n      return { age, gender }\r\n    })\r\n  }\r\n\r\n  public forwardInput(input: NetInput | tf.Tensor4D): NetOutput {\r\n    return tf.tidy(() => {\r\n      const { age, gender } = this.runNet(input)\r\n      return { age, gender: tf.softmax(gender) }\r\n    })\r\n  }\r\n\r\n  public async forward(input: TNetInput): Promise<NetOutput> {\r\n    return this.forwardInput(await toNetInput(input))\r\n  }\r\n\r\n  public async predictAgeAndGender(input: TNetInput): Promise<AgeAndGenderPrediction | AgeAndGenderPrediction[]> {\r\n    const netInput = await toNetInput(input)\r\n    const out = await this.forwardInput(netInput)\r\n\r\n    const ages = tf.unstack(out.age)\r\n    const genders = tf.unstack(out.gender)\r\n    const ageAndGenderTensors = ages.map((ageTensor, i) => ({\r\n      ageTensor,\r\n      genderTensor: genders[i]\r\n    }))\r\n\r\n    const predictionsByBatch = await Promise.all(\r\n      ageAndGenderTensors.map(async ({ ageTensor, genderTensor }) => {\r\n        const age = (await ageTensor.data())[0]\r\n        const probMale = (await genderTensor.data())[0]\r\n        const isMale = probMale > 0.5\r\n        const gender = isMale ? Gender.MALE : Gender.FEMALE\r\n        const genderProbability = isMale ? probMale : (1 - probMale)\r\n\r\n        ageTensor.dispose()\r\n        genderTensor.dispose()\r\n        return { age, gender, genderProbability }\r\n      })\r\n    )\r\n    out.age.dispose()\r\n    out.gender.dispose()\r\n\r\n    return netInput.isBatchInput\r\n      ? predictionsByBatch\r\n      : predictionsByBatch[0]\r\n  }\r\n\r\n  protected getDefaultModelName(): string {\r\n    return 'age_gender_model'\r\n  }\r\n\r\n  public dispose(throwOnRedispose: boolean = true) {\r\n    this.faceFeatureExtractor.dispose(throwOnRedispose)\r\n    super.dispose(throwOnRedispose)\r\n  }\r\n\r\n  public loadClassifierParams(weights: Float32Array) {\r\n    const { params, paramMappings } = this.extractClassifierParams(weights)\r\n    this._params = params\r\n    this._paramMappings = paramMappings\r\n  }\r\n\r\n  public extractClassifierParams(weights: Float32Array) {\r\n    return extractParams(weights)\r\n  }\r\n\r\n  protected extractParamsFromWeigthMap(weightMap: tf.NamedTensorMap) {\r\n\r\n    const { featureExtractorMap, classifierMap } = seperateWeightMaps(weightMap)\r\n\r\n    this.faceFeatureExtractor.loadFromWeightMap(featureExtractorMap)\r\n\r\n    return extractParamsFromWeigthMap(classifierMap)\r\n  }\r\n\r\n  protected extractParams(weights: Float32Array) {\r\n\r\n    const classifierWeightSize = (512 * 1 + 1) + (512 * 2 + 2)\r\n\r\n    const featureExtractorWeights = weights.slice(0, weights.length - classifierWeightSize)\r\n    const classifierWeights = weights.slice(weights.length - classifierWeightSize)\r\n\r\n    this.faceFeatureExtractor.extractWeights(featureExtractorWeights)\r\n    return this.extractClassifierParams(classifierWeights)\r\n  }\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1847, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/ageGenderNet/index.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/ageGenderNet/index.ts"],"sourcesContent":["export * from './AgeGenderNet';\r\nexport * from './types';"],"names":[],"mappings":";AAAA,cAAc,gBAAgB,CAAC;AAC/B,cAAc,SAAS,CAAC"}},
    {"offset": {"line": 1856, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/classes/FaceLandmarks5.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/classes/FaceLandmarks5.ts"],"sourcesContent":["import { getCenterPoint, Point } from 'tfjs-image-recognition-base';\r\n\r\nimport { FaceLandmarks } from './FaceLandmarks';\r\n\r\nexport class FaceLandmarks5 extends FaceLandmarks {\r\n\r\n  protected getRefPointsForAlignment(): Point[] {\r\n    const pts = this.positions\r\n    return [\r\n      pts[0],\r\n      pts[1],\r\n      getCenterPoint([pts[3], pts[4]])\r\n    ]\r\n  }\r\n}"],"names":[],"mappings":";;;;;;AAAA,OAAO,EAAE,cAAc,EAAS,MAAM,6BAA6B,CAAC;AAEpE,OAAO,EAAE,aAAa,EAAE,MAAM,iBAAiB,CAAC;;;;AAEhD,IAAA,iBAAA,SAAA,MAAA;IAAoC,0LAAA,CAAA,gBAAA,QAAa;IAAjD,SAAA;;IAUA,CAAC;IARW,eAAA,SAAA,CAAA,wBAAwB,GAAlC;QACE,IAAM,GAAG,GAAG,IAAI,CAAC,SAAS,CAAA;QAC1B,OAAO;YACL,GAAG,CAAC,CAAC,CAAC;YACN,GAAG,CAAC,CAAC,CAAC;gBACN,2MAAc,EAAC;gBAAC,GAAG,CAAC,CAAC,CAAC;gBAAE,GAAG,CAAC,CAAC,CAAC;aAAC,CAAC;SACjC,CAAA;IACH,CAAC;IACH,OAAA,cAAC;AAAD,CAAC,AAVD,CAAoC,iMAAa,GAUhD"}},
    {"offset": {"line": 1891, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/classes/FaceMatch.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/classes/FaceMatch.ts"],"sourcesContent":["import { round } from 'tfjs-image-recognition-base';\r\n\r\nexport interface IFaceMatch {\r\n  label: string\r\n  distance: number\r\n}\r\n\r\nexport class FaceMatch implements IFaceMatch {\r\n  private _label: string\r\n  private _distance: number\r\n\r\n  constructor(label: string, distance: number) {\r\n    this._label = label\r\n    this._distance = distance\r\n  }\r\n\r\n  public get label(): string { return this._label }\r\n  public get distance(): number { return this._distance }\r\n\r\n  public toString(withDistance: boolean = true): string {\r\n    return `${this.label}${withDistance ? ` (${round(this.distance)})` : ''}`\r\n  }\r\n}"],"names":[],"mappings":";;;;;AAAA,OAAO,EAAE,KAAK,EAAE,MAAM,6BAA6B,CAAC;;AAOpD,IAAA,YAAA;IAIE,SAAA,UAAY,KAAa,EAAE,QAAgB;QACzC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAA;QACnB,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAA;IAC3B,CAAC;IAED,OAAA,cAAA,CAAW,UAAA,SAAA,EAAA,OAAK,EAAA;aAAhB;YAA6B,OAAO,IAAI,CAAC,MAAM,CAAA;QAAC,CAAC;;;OAAA;IACjD,OAAA,cAAA,CAAW,UAAA,SAAA,EAAA,UAAQ,EAAA;aAAnB;YAAgC,OAAO,IAAI,CAAC,SAAS,CAAA;QAAC,CAAC;;;OAAA;IAEhD,UAAA,SAAA,CAAA,QAAQ,GAAf,SAAgB,YAA4B;QAA5B,IAAA,iBAAA,KAAA,GAAA;YAAA,eAAA,IAA4B;QAAA;QAC1C,OAAO,KAAG,IAAI,CAAC,KAAK,GAAA,CAAG,YAAY,CAAC,CAAC,CAAC,WAAK,kMAAK,EAAC,IAAI,CAAC,QAAQ,CAAC,GAAA,GAAG,CAAC,CAAC,CAAC,EAAE,CAAE,CAAA;IAC3E,CAAC;IACH,OAAA,SAAC;AAAD,CAAC,AAfD,IAeC"}},
    {"offset": {"line": 1931, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/classes/LabeledFaceDescriptors.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/classes/LabeledFaceDescriptors.ts"],"sourcesContent":["export class LabeledFaceDescriptors {\r\n  private _label: string\r\n  private _descriptors: Float32Array[]\r\n\r\n  constructor(label: string, descriptors: Float32Array[]) {\r\n    if (!(typeof label === 'string')) {\r\n      throw new Error('LabeledFaceDescriptors - constructor expected label to be a string')\r\n    }\r\n\r\n    if (!Array.isArray(descriptors) || descriptors.some(desc => !(desc instanceof Float32Array))) {\r\n      throw new Error('LabeledFaceDescriptors - constructor expected descriptors to be an array of Float32Array')\r\n    }\r\n\r\n    this._label = label\r\n    this._descriptors = descriptors\r\n  }\r\n\r\n  public get label(): string { return this._label }\r\n  public get descriptors(): Float32Array[] { return this._descriptors }\r\n}"],"names":[],"mappings":";;;;AAAA,IAAA,yBAAA;IAIE,SAAA,uBAAY,KAAa,EAAE,WAA2B;QACpD,IAAI,CAAC,CAAC,OAAO,KAAK,KAAK,QAAQ,CAAC,EAAE;YAChC,MAAM,IAAI,KAAK,CAAC,oEAAoE,CAAC,CAAA;SACtF;QAED,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI,WAAW,CAAC,IAAI,CAAC,SAAA,IAAI;YAAI,OAAA,CAAC,CAAC,IAAI,YAAY,YAAY,CAAC;QAA/B,CAA+B,CAAC,EAAE;YAC5F,MAAM,IAAI,KAAK,CAAC,0FAA0F,CAAC,CAAA;SAC5G;QAED,IAAI,CAAC,MAAM,GAAG,KAAK,CAAA;QACnB,IAAI,CAAC,YAAY,GAAG,WAAW,CAAA;IACjC,CAAC;IAED,OAAA,cAAA,CAAW,uBAAA,SAAA,EAAA,OAAK,EAAA;aAAhB;YAA6B,OAAO,IAAI,CAAC,MAAM,CAAA;QAAC,CAAC;;;OAAA;IACjD,OAAA,cAAA,CAAW,uBAAA,SAAA,EAAA,aAAW,EAAA;aAAtB;YAA2C,OAAO,IAAI,CAAC,YAAY,CAAA;QAAC,CAAC;;;OAAA;IACvE,OAAA,sBAAC;AAAD,CAAC,AAnBD,IAmBC"}},
    {"offset": {"line": 1970, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/classes/index.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/classes/index.ts"],"sourcesContent":["export * from './FaceDetection';\r\nexport * from './FaceLandmarks';\r\nexport * from './FaceLandmarks5';\r\nexport * from './FaceLandmarks68';\r\nexport * from './FaceMatch';\r\nexport * from './LabeledFaceDescriptors';"],"names":[],"mappings":";AAAA,cAAc,iBAAiB,CAAC;AAChC,cAAc,iBAAiB,CAAC;AAChC,cAAc,kBAAkB,CAAC;AACjC,cAAc,mBAAmB,CAAC;AAClC,cAAc,aAAa,CAAC;AAC5B,cAAc,0BAA0B,CAAC"}},
    {"offset": {"line": 1987, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/dom/extractFaces.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/dom/extractFaces.ts"],"sourcesContent":["import {\r\n  createCanvas,\r\n  env,\r\n  getContext2dOrThrow,\r\n  imageTensorToCanvas,\r\n  Rect,\r\n  TNetInput,\r\n  toNetInput,\r\n} from 'tfjs-image-recognition-base';\r\n\r\nimport { FaceDetection } from '../classes/FaceDetection';\r\n\r\n/**\r\n * Extracts the image regions containing the detected faces.\r\n *\r\n * @param input The image that face detection has been performed on.\r\n * @param detections The face detection results or face bounding boxes for that image.\r\n * @returns The Canvases of the corresponding image region for each detected face.\r\n */\r\nexport async function extractFaces(\r\n  input: TNetInput,\r\n  detections: Array<FaceDetection | Rect>\r\n): Promise<HTMLCanvasElement[]> {\r\n\r\n  const { Canvas } = env.getEnv()\r\n\r\n  let canvas = input as HTMLCanvasElement\r\n\r\n  if (!(input instanceof Canvas)) {\r\n    const netInput = await toNetInput(input)\r\n\r\n    if (netInput.batchSize > 1) {\r\n      throw new Error('extractFaces - batchSize > 1 not supported')\r\n    }\r\n\r\n    const tensorOrCanvas = netInput.getInput(0)\r\n    canvas = tensorOrCanvas instanceof Canvas\r\n      ? tensorOrCanvas\r\n      : await imageTensorToCanvas(tensorOrCanvas)\r\n  }\r\n\r\n  const ctx = getContext2dOrThrow(canvas)\r\n  const boxes = detections.map(\r\n    det => det instanceof FaceDetection\r\n      ? det.forSize(canvas.width, canvas.height).box.floor()\r\n      : det\r\n  )\r\n    .map(box => box.clipAtImageBorders(canvas.width, canvas.height))\r\n\r\n  return boxes.map(({ x, y, width, height }) => {\r\n    const faceImg = createCanvas({ width, height })\r\n    getContext2dOrThrow(faceImg)\r\n      .putImageData(ctx.getImageData(x, y, width, height), 0, 0)\r\n    return faceImg\r\n  })\r\n}"],"names":[],"mappings":";;;;;;;;;;AAAA,OAAO,EACL,YAAY,EACZ,GAAG,EACH,mBAAmB,EACnB,mBAAmB,EAGnB,UAAU,GACX,MAAM,6BAA6B,CAAC;AAErC,OAAO,EAAE,aAAa,EAAE,MAAM,0BAA0B,CAAC;;;;AASnD,SAAgB,YAAY,CAChC,KAAgB,EAChB,UAAuC;;;;;;oBAG/B,MAAM,GAAK,8LAAG,CAAC,MAAM,EAAE,CAAA,MAAjB,CAAiB;oBAE3B,MAAM,GAAG,KAA0B,CAAA;yBAEnC,CAAC,CAAC,KAAK,YAAY,MAAM,CAAC,EAA1B,OAAA;wBAAA,EAAA,OAAA;wBAAA;qBAAA,CAA0B;oBACX,OAAA;wBAAA,EAAA,OAAA;4BAAM,0MAAU,EAAC,KAAK,CAAC;qBAAA,CAAA;;oBAAlC,QAAQ,GAAG,GAAA,IAAA,EAAuB;oBAExC,IAAI,QAAQ,CAAC,SAAS,GAAG,CAAC,EAAE;wBAC1B,MAAM,IAAI,KAAK,CAAC,4CAA4C,CAAC,CAAA;qBAC9D;oBAEK,cAAc,GAAG,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAA;yBAClC,CAAA,cAAc,YAAY,MAAM,CAAA,EAAhC,OAAA;wBAAA,EAAA,OAAA;wBAAA;qBAAA,CAAgC;oBACrC,KAAA,cAAc,CAAA;;;;;;oBACd,OAAA;wBAAA,EAAA,OAAA;4BAAM,4NAAmB,EAAC,cAAc,CAAC;qBAAA,CAAA;;oBAAzC,KAAA,GAAA,IAAA,EAAyC,CAAA;;;oBAF7C,MAAM,GAAA,EAEuC,CAAA;;;oBAGzC,GAAG,OAAG,4NAAmB,EAAC,MAAM,CAAC,CAAA;oBACjC,KAAK,GAAG,UAAU,CAAC,GAAG,CAC1B,SAAA,GAAG;wBAAI,OAAA,GAAG,YAAY,iMAAa,GAC/B,GAAG,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,KAAK,EAAE,GACpD,GAAG;oBAFA,CAEA,CACR,CACE,GAAG,CAAC,SAAA,GAAG;wBAAI,OAAA,GAAG,CAAC,kBAAkB,CAAC,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,MAAM,CAAC;oBAAnD,CAAmD,CAAC,CAAA;oBAElE,OAAA;wBAAA,EAAA,QAAA;wBAAO,KAAK,CAAC,GAAG,CAAC,SAAC,EAAuB;gCAArB,IAAA,GAAA,CAAC,EAAE,IAAA,GAAA,CAAC,EAAE,QAAA,GAAA,KAAK,EAAE,SAAA,GAAA,MAAM;4BACrC,IAAM,OAAO,OAAG,8MAAY,EAAC;gCAAE,KAAK,EAAA,KAAA;gCAAE,MAAM,EAAA,MAAA;4BAAA,CAAE,CAAC,CAAA;gCAC/C,4NAAmB,EAAC,OAAO,CAAC,CACzB,YAAY,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,EAAE,MAAM,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAA;4BAC5D,OAAO,OAAO,CAAA;wBAChB,CAAC,CAAC;qBAAA,CAAA;;;;CACH"}},
    {"offset": {"line": 2071, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/dom/extractFaceTensors.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/dom/extractFaceTensors.ts"],"sourcesContent":["import * as tf from '@tensorflow/tfjs-core';\r\nimport { isTensor4D, Rect, isTensor3D } from 'tfjs-image-recognition-base';\r\n\r\nimport { FaceDetection } from '../classes/FaceDetection';\r\n\r\n/**\r\n * Extracts the tensors of the image regions containing the detected faces.\r\n * Useful if you want to compute the face descriptors for the face images.\r\n * Using this method is faster then extracting a canvas for each face and\r\n * converting them to tensors individually.\r\n *\r\n * @param imageTensor The image tensor that face detection has been performed on.\r\n * @param detections The face detection results or face bounding boxes for that image.\r\n * @returns Tensors of the corresponding image region for each detected face.\r\n */\r\nexport async function extractFaceTensors(\r\n  imageTensor: tf.Tensor3D | tf.Tensor4D,\r\n  detections: Array<FaceDetection | Rect>\r\n): Promise<tf.Tensor3D[]> {\r\n\r\n  if (!isTensor3D(imageTensor) && !isTensor4D(imageTensor)) {\r\n    throw new Error('extractFaceTensors - expected image tensor to be 3D or 4D')\r\n  }\r\n\r\n  if (isTensor4D(imageTensor) && imageTensor.shape[0] > 1) {\r\n    throw new Error('extractFaceTensors - batchSize > 1 not supported')\r\n  }\r\n\r\n  return tf.tidy(() => {\r\n    const [imgHeight, imgWidth, numChannels] = imageTensor.shape.slice(isTensor4D(imageTensor) ? 1 : 0)\r\n\r\n    const boxes = detections.map(\r\n      det => det instanceof FaceDetection\r\n        ? det.forSize(imgWidth, imgHeight).box\r\n        : det\r\n    )\r\n      .map(box => box.clipAtImageBorders(imgWidth, imgHeight))\r\n\r\n    const faceTensors = boxes.map(({ x, y, width, height }) =>\r\n      tf.slice3d(imageTensor.as3D(imgHeight, imgWidth, numChannels), [y, x, 0], [height, width, numChannels])\r\n    )\r\n\r\n    return faceTensors\r\n  })\r\n}"],"names":[],"mappings":";;;;;AAAA,OAAO,KAAK,EAAE,MAAM,uBAAuB,CAAC;;AAC5C,OAAO,EAAE,UAAU,EAAQ,UAAU,EAAE,MAAM,6BAA6B,CAAC;AAE3E,OAAO,EAAE,aAAa,EAAE,MAAM,0BAA0B,CAAC;;;;;AAYnD,SAAgB,kBAAkB,CACtC,WAAsC,EACtC,UAAuC;;;YAGvC,IAAI,KAAC,uMAAU,EAAC,WAAW,CAAC,IAAI,KAAC,uMAAU,EAAC,WAAW,CAAC,EAAE;gBACxD,MAAM,IAAI,KAAK,CAAC,2DAA2D,CAAC,CAAA;aAC7E;YAED,QAAI,uMAAU,EAAC,WAAW,CAAC,IAAI,WAAW,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE;gBACvD,MAAM,IAAI,KAAK,CAAC,kDAAkD,CAAC,CAAA;aACpE;YAED,OAAA;gBAAA,EAAA,QAAA;gBAAO,EAAE,CAAC,iLAAI,CAAC;oBACP,IAAA,KAAA,YAAA,KAAA,CAAA,KAAA,CAAA,IAAA,uMAAA,EAAA,eAAA,IAAA,EAA6F,EAA5F,YAAA,EAAA,CAAA,EAAS,EAAE,WAAA,EAAA,CAAA,EAAQ,EAAE,cAAA,EAAA,CAAA,EAAuE,CAAA;oBAEnG,IAAM,KAAK,GAAG,UAAU,CAAC,GAAG,CAC1B,SAAA,GAAG;wBAAI,OAAA,GAAG,YAAY,iMAAa,GAC/B,GAAG,CAAC,OAAO,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC,GAAG,GACpC,GAAG;oBAFA,CAEA,CACR,CACE,GAAG,CAAC,SAAA,GAAG;wBAAI,OAAA,GAAG,CAAC,kBAAkB,CAAC,QAAQ,EAAE,SAAS,CAAC;oBAA3C,CAA2C,CAAC,CAAA;oBAE1D,IAAM,WAAW,GAAG,KAAK,CAAC,GAAG,CAAC,SAAC,EAAuB;4BAArB,IAAA,GAAA,CAAC,EAAE,IAAA,GAAA,CAAC,EAAE,QAAA,GAAA,KAAK,EAAE,SAAA,GAAA,MAAM;wBAClD,OAAA,EAAE,CAAC,oLAAO,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,EAAE,QAAQ,EAAE,WAAW,CAAC,EAAE;4BAAC,CAAC;4BAAE,CAAC;4BAAE,CAAC;yBAAC,EAAE;4BAAC,MAAM;4BAAE,KAAK;4BAAE,WAAW;yBAAC,CAAC;oBAAvG,CAAuG,CACxG,CAAA;oBAED,OAAO,WAAW,CAAA;gBACpB,CAAC,CAAC;aAAA,CAAA;;;CACH"}},
    {"offset": {"line": 2124, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/dom/index.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/dom/index.ts"],"sourcesContent":["export * from './extractFaces'\r\nexport * from './extractFaceTensors'"],"names":[],"mappings":";AAAA,cAAc,gBAAgB,CAAA;AAC9B,cAAc,sBAAsB,CAAA"}},
    {"offset": {"line": 2133, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/faceLandmarkNet/FaceLandmark68NetBase.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/faceLandmarkNet/FaceLandmark68NetBase.ts"],"sourcesContent":["import * as tf from '@tensorflow/tfjs-core';\r\nimport { IDimensions, isEven, NetInput, Point, TNetInput, toNetInput } from 'tfjs-image-recognition-base';\r\n\r\nimport { FaceLandmarks68 } from '../classes/FaceLandmarks68';\r\nimport { FaceFeatureExtractorParams, TinyFaceFeatureExtractorParams } from '../faceFeatureExtractor/types';\r\nimport { FaceProcessor } from '../faceProcessor/FaceProcessor';\r\n\r\nexport abstract class FaceLandmark68NetBase<\r\n  TExtractorParams extends FaceFeatureExtractorParams | TinyFaceFeatureExtractorParams\r\n>\r\n  extends FaceProcessor<TExtractorParams> {\r\n\r\n  public postProcess(output: tf.Tensor2D, inputSize: number, originalDimensions: IDimensions[]): tf.Tensor2D {\r\n\r\n    const inputDimensions = originalDimensions.map(({ width, height }) => {\r\n      const scale = inputSize / Math.max(height, width)\r\n      return {\r\n        width: width * scale,\r\n        height: height * scale\r\n      }\r\n    })\r\n\r\n    const batchSize = inputDimensions.length\r\n\r\n    return tf.tidy(() => {\r\n      const createInterleavedTensor = (fillX: number, fillY: number) =>\r\n        tf.stack([\r\n          tf.fill([68], fillX),\r\n          tf.fill([68], fillY)\r\n        ], 1).as2D(1, 136).as1D()\r\n\r\n      const getPadding = (batchIdx: number, cond: (w: number, h: number) => boolean): number => {\r\n        const { width, height } = inputDimensions[batchIdx]\r\n        return cond(width, height) ? Math.abs(width - height) / 2 : 0\r\n      }\r\n      const getPaddingX = (batchIdx: number) => getPadding(batchIdx, (w, h) => w < h)\r\n      const getPaddingY = (batchIdx: number) => getPadding(batchIdx, (w, h) => h < w)\r\n\r\n      const landmarkTensors = output\r\n        .mul(tf.fill([batchSize, 136], inputSize))\r\n        .sub(tf.stack(Array.from(Array(batchSize), (_, batchIdx) =>\r\n          createInterleavedTensor(\r\n            getPaddingX(batchIdx),\r\n            getPaddingY(batchIdx)\r\n          )\r\n        )))\r\n        .div(tf.stack(Array.from(Array(batchSize), (_, batchIdx) =>\r\n          createInterleavedTensor(\r\n            inputDimensions[batchIdx].width,\r\n            inputDimensions[batchIdx].height\r\n          )\r\n        )))\r\n\r\n      return landmarkTensors as tf.Tensor2D\r\n    })\r\n  }\r\n\r\n  public forwardInput(input: NetInput): tf.Tensor2D {\r\n    return tf.tidy(() => {\r\n      const out = this.runNet(input)\r\n      return this.postProcess(\r\n        out,\r\n        input.inputSize as number,\r\n        input.inputDimensions.map(([height, width]) => ({ height, width }))\r\n      )\r\n    })\r\n  }\r\n\r\n  public async forward(input: TNetInput): Promise<tf.Tensor2D> {\r\n    return this.forwardInput(await toNetInput(input))\r\n  }\r\n\r\n  public async detectLandmarks(input: TNetInput): Promise<FaceLandmarks68 | FaceLandmarks68[]> {\r\n    const netInput = await toNetInput(input)\r\n    const landmarkTensors = tf.tidy(\r\n      () => tf.unstack(this.forwardInput(netInput))\r\n    )\r\n\r\n    const landmarksForBatch = await Promise.all(landmarkTensors.map(\r\n      async (landmarkTensor, batchIdx) => {\r\n        const landmarksArray = Array.from(await landmarkTensor.data())\r\n        const xCoords = landmarksArray.filter((_, i) => isEven(i))\r\n        const yCoords = landmarksArray.filter((_, i) => !isEven(i))\r\n\r\n        return new FaceLandmarks68(\r\n          Array(68).fill(0).map((_, i) => new Point(xCoords[i], yCoords[i])),\r\n          {\r\n            height: netInput.getInputHeight(batchIdx),\r\n            width : netInput.getInputWidth(batchIdx),\r\n          }\r\n        )\r\n      }\r\n    ))\r\n\r\n    landmarkTensors.forEach(t => t.dispose())\r\n\r\n    return netInput.isBatchInput\r\n      ? landmarksForBatch\r\n      : landmarksForBatch[0]\r\n  }\r\n\r\n  protected getClassifierChannelsOut(): number {\r\n    return 136\r\n  }\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2313, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/faceLandmarkNet/FaceLandmark68Net.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/faceLandmarkNet/FaceLandmark68Net.ts"],"sourcesContent":["import { FaceFeatureExtractor } from '../faceFeatureExtractor/FaceFeatureExtractor';\r\nimport { FaceFeatureExtractorParams } from '../faceFeatureExtractor/types';\r\nimport { FaceLandmark68NetBase } from './FaceLandmark68NetBase';\r\n\r\nexport class FaceLandmark68Net extends FaceLandmark68NetBase<FaceFeatureExtractorParams> {\r\n\r\n  constructor(faceFeatureExtractor: FaceFeatureExtractor = new FaceFeatureExtractor()) {\r\n    super('FaceLandmark68Net', faceFeatureExtractor)\r\n  }\r\n\r\n  protected getDefaultModelName(): string {\r\n    return 'face_landmark_68_model'\r\n  }\r\n\r\n  protected getClassifierChannelsIn(): number {\r\n    return 256\r\n  }\r\n}"],"names":[],"mappings":";;;;;AAAA,OAAO,EAAE,oBAAoB,EAAE,MAAM,8CAA8C,CAAC;AAEpF,OAAO,EAAE,qBAAqB,EAAE,MAAM,yBAAyB,CAAC;;;;AAEhE,IAAA,oBAAA,SAAA,MAAA;IAAuC,0LAAA,CAAA,mBAAA,QAAiD;IAEtF,SAAA,kBAAY,oBAAuE;QAAvE,IAAA,yBAAA,KAAA,GAAA;YAAA,uBAAA,IAAiD,4NAAoB,EAAE;QAAA;eACjF,OAAA,IAAA,CAAA,IAAA,EAAM,mBAAmB,EAAE,oBAAoB,CAAC,IAAA,IAAA;IAClD,CAAC;IAES,kBAAA,SAAA,CAAA,mBAAmB,GAA7B;QACE,OAAO,wBAAwB,CAAA;IACjC,CAAC;IAES,kBAAA,SAAA,CAAA,uBAAuB,GAAjC;QACE,OAAO,GAAG,CAAA;IACZ,CAAC;IACH,OAAA,iBAAC;AAAD,CAAC,AAbD,CAAuC,yNAAqB,GAa3D"}},
    {"offset": {"line": 2345, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/faceFeatureExtractor/extractParamsFromWeigthMapTiny.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/faceFeatureExtractor/extractParamsFromWeigthMapTiny.ts"],"sourcesContent":["import * as tf from '@tensorflow/tfjs-core';\r\nimport { TfjsImageRecognitionBase } from 'tfjs-image-recognition-base';\r\n\r\nimport { loadParamsFactory } from './loadParamsFactory';\r\nimport { TinyFaceFeatureExtractorParams } from './types';\r\n\r\nexport function extractParamsFromWeigthMapTiny(\r\n  weightMap: tf.NamedTensorMap\r\n): { params: TinyFaceFeatureExtractorParams, paramMappings: TfjsImageRecognitionBase.ParamMapping[] } {\r\n\r\n  const paramMappings: TfjsImageRecognitionBase.ParamMapping[] = []\r\n\r\n  const {\r\n    extractDenseBlock3Params\r\n  } = loadParamsFactory(weightMap, paramMappings)\r\n\r\n  const params = {\r\n    dense0: extractDenseBlock3Params('dense0', true),\r\n    dense1: extractDenseBlock3Params('dense1'),\r\n    dense2: extractDenseBlock3Params('dense2')\r\n  }\r\n\r\n  TfjsImageRecognitionBase.disposeUnusedWeightTensors(weightMap, paramMappings)\r\n\r\n  return { params, paramMappings }\r\n}"],"names":[],"mappings":";;;;;AACA,OAAO,EAAE,wBAAwB,EAAE,MAAM,6BAA6B,CAAC;AAEvE,OAAO,EAAE,iBAAiB,EAAE,MAAM,qBAAqB,CAAC;;;AAGlD,SAAU,8BAA8B,CAC5C,SAA4B;IAG5B,IAAM,aAAa,GAA4C,EAAE,CAAA;IAG/D,IAAA,2BAAA,IAAA,sNAAA,EAAA,WAAA,eAAA,wBAAwB,CACqB;IAE/C,IAAM,MAAM,GAAG;QACb,MAAM,EAAE,wBAAwB,CAAC,QAAQ,EAAE,IAAI,CAAC;QAChD,MAAM,EAAE,wBAAwB,CAAC,QAAQ,CAAC;QAC1C,MAAM,EAAE,wBAAwB,CAAC,QAAQ,CAAC;KAC3C,CAAA;IAED,mRAAwB,CAAC,0BAA0B,CAAC,SAAS,EAAE,aAAa,CAAC,CAAA;IAE7E,OAAO;QAAE,MAAM,EAAA,MAAA;QAAE,aAAa,EAAA,aAAA;IAAA,CAAE,CAAA;AAClC,CAAC"}},
    {"offset": {"line": 2372, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/faceFeatureExtractor/extractParamsTiny.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/faceFeatureExtractor/extractParamsTiny.ts"],"sourcesContent":["import { TfjsImageRecognitionBase } from 'tfjs-image-recognition-base';\r\n\r\nimport { extractorsFactory } from './extractorsFactory';\r\nimport { TinyFaceFeatureExtractorParams } from './types';\r\n\r\n\r\nexport function extractParamsTiny(weights: Float32Array): { params: TinyFaceFeatureExtractorParams, paramMappings: TfjsImageRecognitionBase.ParamMapping[] } {\r\n\r\n  const paramMappings: TfjsImageRecognitionBase.ParamMapping[] = []\r\n\r\n  const {\r\n    extractWeights,\r\n    getRemainingWeights\r\n  } = TfjsImageRecognitionBase.extractWeightsFactory(weights)\r\n\r\n  const {\r\n    extractDenseBlock3Params\r\n  } = extractorsFactory(extractWeights, paramMappings)\r\n\r\n  const dense0 = extractDenseBlock3Params(3, 32, 'dense0', true)\r\n  const dense1 = extractDenseBlock3Params(32, 64, 'dense1')\r\n  const dense2 = extractDenseBlock3Params(64, 128, 'dense2')\r\n\r\n  if (getRemainingWeights().length !== 0) {\r\n    throw new Error(`weights remaing after extract: ${getRemainingWeights().length}`)\r\n  }\r\n\r\n  return {\r\n    paramMappings,\r\n    params: { dense0, dense1, dense2 }\r\n  }\r\n}"],"names":[],"mappings":";;;;;AAAA,OAAO,EAAE,wBAAwB,EAAE,MAAM,6BAA6B,CAAC;AAEvE,OAAO,EAAE,iBAAiB,EAAE,MAAM,qBAAqB,CAAC;;;AAIlD,SAAU,iBAAiB,CAAC,OAAqB;IAErD,IAAM,aAAa,GAA4C,EAAE,CAAA;IAE3D,IAAA,KAAA,mRAAA,CAAA,qBAAA,CAAA,QAGqD,EAFzD,iBAAA,GAAA,cAAc,EACd,sBAAA,GAAA,mBACyD,CAAA;IAGzD,IAAA,2BAAA,IAAA,sNAAA,EAAA,gBAAA,eAAA,wBAAwB,CAC0B;IAEpD,IAAM,MAAM,GAAG,wBAAwB,CAAC,CAAC,EAAE,EAAE,EAAE,QAAQ,EAAE,IAAI,CAAC,CAAA;IAC9D,IAAM,MAAM,GAAG,wBAAwB,CAAC,EAAE,EAAE,EAAE,EAAE,QAAQ,CAAC,CAAA;IACzD,IAAM,MAAM,GAAG,wBAAwB,CAAC,EAAE,EAAE,GAAG,EAAE,QAAQ,CAAC,CAAA;IAE1D,IAAI,mBAAmB,EAAE,CAAC,MAAM,KAAK,CAAC,EAAE;QACtC,MAAM,IAAI,KAAK,CAAC,oCAAkC,mBAAmB,EAAE,CAAC,MAAQ,CAAC,CAAA;KAClF;IAED,OAAO;QACL,aAAa,EAAA,aAAA;QACb,MAAM,EAAE;YAAE,MAAM,EAAA,MAAA;YAAE,MAAM,EAAA,MAAA;YAAE,MAAM,EAAA,MAAA;QAAA,CAAE;KACnC,CAAA;AACH,CAAC"}},
    {"offset": {"line": 2404, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/faceFeatureExtractor/TinyFaceFeatureExtractor.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/faceFeatureExtractor/TinyFaceFeatureExtractor.ts"],"sourcesContent":["import * as tf from '@tensorflow/tfjs-core';\r\nimport { NetInput, NeuralNetwork, normalize, TNetInput, toNetInput } from 'tfjs-image-recognition-base';\r\n\r\nimport { denseBlock3 } from './denseBlock';\r\nimport { extractParamsFromWeigthMapTiny } from './extractParamsFromWeigthMapTiny';\r\nimport { extractParamsTiny } from './extractParamsTiny';\r\nimport { IFaceFeatureExtractor, TinyFaceFeatureExtractorParams } from './types';\r\n\r\nexport class TinyFaceFeatureExtractor extends NeuralNetwork<TinyFaceFeatureExtractorParams> implements IFaceFeatureExtractor<TinyFaceFeatureExtractorParams> {\r\n\r\n  constructor() {\r\n    super('TinyFaceFeatureExtractor')\r\n  }\r\n\r\n  public forwardInput(input: NetInput): tf.Tensor4D {\r\n\r\n    const { params } = this\r\n\r\n    if (!params) {\r\n      throw new Error('TinyFaceFeatureExtractor - load model before inference')\r\n    }\r\n\r\n    return tf.tidy(() => {\r\n      const batchTensor = input.toBatchTensor(112, true)\r\n      const meanRgb = [122.782, 117.001, 104.298]\r\n      const normalized = normalize(batchTensor, meanRgb).div(tf.scalar(255)) as tf.Tensor4D\r\n\r\n      let out = denseBlock3(normalized, params.dense0, true)\r\n      out = denseBlock3(out, params.dense1)\r\n      out = denseBlock3(out, params.dense2)\r\n      out = tf.avgPool(out, [14, 14], [2, 2], 'valid')\r\n\r\n      return out\r\n    })\r\n  }\r\n\r\n  public async forward(input: TNetInput): Promise<tf.Tensor4D> {\r\n    return this.forwardInput(await toNetInput(input))\r\n  }\r\n\r\n  protected getDefaultModelName(): string {\r\n    return 'face_feature_extractor_tiny_model'\r\n  }\r\n\r\n  protected extractParamsFromWeigthMap(weightMap: tf.NamedTensorMap) {\r\n    return extractParamsFromWeigthMapTiny(weightMap)\r\n  }\r\n\r\n  protected extractParams(weights: Float32Array) {\r\n    return extractParamsTiny(weights)\r\n  }\r\n}"],"names":[],"mappings":";;;;;AAAA,OAAO,KAAK,EAAE,MAAM,uBAAuB,CAAC;;;;AAC5C,OAAO,EAAY,aAAa,EAAE,SAAS,EAAa,UAAU,EAAE,MAAM,6BAA6B,CAAC;AAExG,OAAO,EAAE,WAAW,EAAE,MAAM,cAAc,CAAC;AAC3C,OAAO,EAAE,8BAA8B,EAAE,MAAM,kCAAkC,CAAC;AAClF,OAAO,EAAE,iBAAiB,EAAE,MAAM,qBAAqB,CAAC;;;;;;;AAGxD,IAAA,2BAAA,SAAA,MAAA;IAA8C,0LAAA,CAAA,0BAAA,QAA6C;IAEzF,SAAA;eACE,OAAA,IAAA,CAAA,IAAA,EAAM,0BAA0B,CAAC,IAAA,IAAA;IACnC,CAAC;IAEM,yBAAA,SAAA,CAAA,YAAY,GAAnB,SAAoB,KAAe;QAEzB,IAAA,SAAA,IAAA,CAAA,MAAM,CAAS;QAEvB,IAAI,CAAC,MAAM,EAAE;YACX,MAAM,IAAI,KAAK,CAAC,wDAAwD,CAAC,CAAA;SAC1E;QAED,OAAO,EAAE,CAAC,iLAAI,CAAC;YACb,IAAM,WAAW,GAAG,KAAK,CAAC,aAAa,CAAC,GAAG,EAAE,IAAI,CAAC,CAAA;YAClD,IAAM,OAAO,GAAG;gBAAC,OAAO;gBAAE,OAAO;gBAAE,OAAO;aAAC,CAAA;YAC3C,IAAM,UAAU,OAAG,wMAAS,EAAC,WAAW,EAAE,OAAO,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,mLAAM,CAAC,GAAG,CAAC,CAAgB,CAAA;YAErF,IAAI,GAAG,OAAG,yMAAW,EAAC,UAAU,EAAE,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC,CAAA;YACtD,GAAG,OAAG,yMAAW,EAAC,GAAG,EAAE,MAAM,CAAC,MAAM,CAAC,CAAA;YACrC,GAAG,OAAG,yMAAW,EAAC,GAAG,EAAE,MAAM,CAAC,MAAM,CAAC,CAAA;YACrC,GAAG,GAAG,EAAE,CAAC,oLAAO,CAAC,GAAG,EAAE;gBAAC,EAAE;gBAAE,EAAE;aAAC,EAAE;gBAAC,CAAC;gBAAE,CAAC;aAAC,EAAE,OAAO,CAAC,CAAA;YAEhD,OAAO,GAAG,CAAA;QACZ,CAAC,CAAC,CAAA;IACJ,CAAC;IAEY,yBAAA,SAAA,CAAA,OAAO,GAApB,SAAqB,KAAgB;;;;;;wBAC5B,KAAA,IAAI,CAAC,YAAY,CAAA;wBAAC,OAAA;4BAAA,EAAA,OAAA;gCAAM,0MAAU,EAAC,KAAK,CAAC;yBAAA,CAAA;;wBAAhD,OAAA;4BAAA,EAAA,QAAA;4BAAO,GAAA,KAAA,CAAA,IAAI,EAAA;gCAAc,GAAA,IAAA,EAAuB;6BAAA,CAAC;yBAAA,CAAA;;;;KAClD;IAES,yBAAA,SAAA,CAAA,mBAAmB,GAA7B;QACE,OAAO,mCAAmC,CAAA;IAC5C,CAAC;IAES,yBAAA,SAAA,CAAA,0BAA0B,GAApC,SAAqC,SAA4B;QAC/D,WAAO,gPAA8B,EAAC,SAAS,CAAC,CAAA;IAClD,CAAC;IAES,yBAAA,SAAA,CAAA,aAAa,GAAvB,SAAwB,OAAqB;QAC3C,WAAO,sNAAiB,EAAC,OAAO,CAAC,CAAA;IACnC,CAAC;IACH,OAAA,wBAAC;AAAD,CAAC,AA3CD,CAA8C,yMAAa,GA2C1D"}},
    {"offset": {"line": 2493, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/faceLandmarkNet/FaceLandmark68TinyNet.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/faceLandmarkNet/FaceLandmark68TinyNet.ts"],"sourcesContent":["import { TinyFaceFeatureExtractor } from '../faceFeatureExtractor/TinyFaceFeatureExtractor';\r\nimport { TinyFaceFeatureExtractorParams } from '../faceFeatureExtractor/types';\r\nimport { FaceLandmark68NetBase } from './FaceLandmark68NetBase';\r\n\r\nexport class FaceLandmark68TinyNet extends FaceLandmark68NetBase<TinyFaceFeatureExtractorParams> {\r\n\r\n  constructor(faceFeatureExtractor: TinyFaceFeatureExtractor = new TinyFaceFeatureExtractor()) {\r\n    super('FaceLandmark68TinyNet', faceFeatureExtractor)\r\n  }\r\n\r\n  protected getDefaultModelName(): string {\r\n    return 'face_landmark_68_tiny_model'\r\n  }\r\n\r\n  protected getClassifierChannelsIn(): number {\r\n    return 128\r\n  }\r\n}"],"names":[],"mappings":";;;;;AAAA,OAAO,EAAE,wBAAwB,EAAE,MAAM,kDAAkD,CAAC;AAE5F,OAAO,EAAE,qBAAqB,EAAE,MAAM,yBAAyB,CAAC;;;;AAEhE,IAAA,wBAAA,SAAA,MAAA;IAA2C,0LAAA,CAAA,uBAAA,QAAqD;IAE9F,SAAA,sBAAY,oBAA+E;QAA/E,IAAA,yBAAA,KAAA,GAAA;YAAA,uBAAA,IAAqD,oOAAwB,EAAE;QAAA;eACzF,OAAA,IAAA,CAAA,IAAA,EAAM,uBAAuB,EAAE,oBAAoB,CAAC,IAAA,IAAA;IACtD,CAAC;IAES,sBAAA,SAAA,CAAA,mBAAmB,GAA7B;QACE,OAAO,6BAA6B,CAAA;IACtC,CAAC;IAES,sBAAA,SAAA,CAAA,uBAAuB,GAAjC;QACE,OAAO,GAAG,CAAA;IACZ,CAAC;IACH,OAAA,qBAAC;AAAD,CAAC,AAbD,CAA2C,yNAAqB,GAa/D"}},
    {"offset": {"line": 2525, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/faceLandmarkNet/index.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/faceLandmarkNet/index.ts"],"sourcesContent":["import { FaceLandmark68Net } from './FaceLandmark68Net';\r\n\r\nexport * from './FaceLandmark68Net';\r\nexport * from './FaceLandmark68TinyNet';\r\n\r\nexport class FaceLandmarkNet extends FaceLandmark68Net {}"],"names":[],"mappings":";;;;;AAAA,OAAO,EAAE,iBAAiB,EAAE,MAAM,qBAAqB,CAAC;AAGxD,cAAc,yBAAyB,CAAC;;;;;AAExC,IAAA,kBAAA,SAAA,MAAA;IAAqC,0LAAA,CAAA,iBAAA,QAAiB;IAAtD,SAAA;;IAAwD,CAAC;IAAD,OAAA,eAAC;AAAD,CAAC,AAAzD,CAAqC,iNAAiB,GAAG"}},
    {"offset": {"line": 2549, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/faceRecognitionNet/scaleLayer.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/faceRecognitionNet/scaleLayer.ts"],"sourcesContent":["import * as tf from '@tensorflow/tfjs-core';\r\n\r\nimport { ScaleLayerParams } from './types';\r\n\r\nexport function scale(x: tf.Tensor4D, params: ScaleLayerParams): tf.Tensor4D {\r\n  return tf.add(tf.mul(x, params.weights), params.biases)\r\n}\r\n"],"names":[],"mappings":";;;;AAAA,OAAO,KAAK,EAAE,MAAM,uBAAuB,CAAC;;AAItC,SAAU,KAAK,CAAC,CAAc,EAAE,MAAwB;IAC5D,OAAO,EAAE,CAAC,gLAAG,CAAC,EAAE,CAAC,gLAAG,CAAC,CAAC,EAAE,MAAM,CAAC,OAAO,CAAC,EAAE,MAAM,CAAC,MAAM,CAAC,CAAA;AACzD,CAAC"}},
    {"offset": {"line": 2562, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/faceRecognitionNet/convLayer.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/faceRecognitionNet/convLayer.ts"],"sourcesContent":["import * as tf from '@tensorflow/tfjs-core';\r\n\r\nimport { scale } from './scaleLayer';\r\nimport { ConvLayerParams } from './types';\r\n\r\n\r\nfunction convLayer(\r\n  x: tf.Tensor4D,\r\n  params: ConvLayerParams,\r\n  strides: [number, number],\r\n  withRelu: boolean,\r\n  padding: 'valid' | 'same' = 'same'\r\n): tf.Tensor4D {\r\n  const { filters, bias } = params.conv\r\n\r\n  let out = tf.conv2d(x, filters, strides, padding)\r\n  out = tf.add(out, bias)\r\n  out = scale(out, params.scale)\r\n  return withRelu ? tf.relu(out) : out\r\n}\r\n\r\nexport function conv(x: tf.Tensor4D, params: ConvLayerParams) {\r\n  return convLayer(x, params, [1, 1], true)\r\n}\r\n\r\nexport function convNoRelu(x: tf.Tensor4D, params: ConvLayerParams) {\r\n  return convLayer(x, params, [1, 1], false)\r\n}\r\n\r\nexport function convDown(x: tf.Tensor4D, params: ConvLayerParams) {\r\n  return convLayer(x, params, [2, 2], true, 'valid')\r\n}"],"names":[],"mappings":";;;;;;;;AAAA,OAAO,KAAK,EAAE,MAAM,uBAAuB,CAAC;AAE5C,OAAO,EAAE,KAAK,EAAE,MAAM,cAAc,CAAC;;;AAIrC,SAAS,SAAS,CAChB,CAAc,EACd,MAAuB,EACvB,OAAyB,EACzB,QAAiB,EACjB,OAAkC;IAAlC,IAAA,YAAA,KAAA,GAAA;QAAA,UAAA,MAAkC;IAAA;IAE5B,IAAA,KAAA,OAAA,IAA+B,EAA7B,UAAA,GAAA,OAAO,EAAE,OAAA,GAAA,IAAoB,CAAA;IAErC,IAAI,GAAG,GAAG,EAAE,CAAC,mLAAM,CAAC,CAAC,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,CAAC,CAAA;IACjD,GAAG,GAAG,EAAE,CAAC,gLAAG,CAAC,GAAG,EAAE,IAAI,CAAC,CAAA;IACvB,GAAG,OAAG,iMAAK,EAAC,GAAG,EAAE,MAAM,CAAC,KAAK,CAAC,CAAA;IAC9B,OAAO,QAAQ,CAAC,CAAC,CAAC,EAAE,CAAC,iLAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAA;AACtC,CAAC;AAEK,SAAU,IAAI,CAAC,CAAc,EAAE,MAAuB;IAC1D,OAAO,SAAS,CAAC,CAAC,EAAE,MAAM,EAAE;QAAC,CAAC;QAAE,CAAC;KAAC,EAAE,IAAI,CAAC,CAAA;AAC3C,CAAC;AAEK,SAAU,UAAU,CAAC,CAAc,EAAE,MAAuB;IAChE,OAAO,SAAS,CAAC,CAAC,EAAE,MAAM,EAAE;QAAC,CAAC;QAAE,CAAC;KAAC,EAAE,KAAK,CAAC,CAAA;AAC5C,CAAC;AAEK,SAAU,QAAQ,CAAC,CAAc,EAAE,MAAuB;IAC9D,OAAO,SAAS,CAAC,CAAC,EAAE,MAAM,EAAE;QAAC,CAAC;QAAE,CAAC;KAAC,EAAE,IAAI,EAAE,OAAO,CAAC,CAAA;AACpD,CAAC"}},
    {"offset": {"line": 2606, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/faceRecognitionNet/extractParams.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/faceRecognitionNet/extractParams.ts"],"sourcesContent":["import * as tf from '@tensorflow/tfjs-core';\r\nimport { isFloat, TfjsImageRecognitionBase } from 'tfjs-image-recognition-base';\r\n\r\nimport { ConvLayerParams, NetParams, ResidualLayerParams, ScaleLayerParams } from './types';\r\n\r\nfunction extractorsFactory(extractWeights: TfjsImageRecognitionBase.ExtractWeightsFunction, paramMappings: TfjsImageRecognitionBase.ParamMapping[]) {\r\n\r\n  function extractFilterValues(numFilterValues: number, numFilters: number, filterSize: number): tf.Tensor4D {\r\n    const weights = extractWeights(numFilterValues)\r\n    const depth = weights.length / (numFilters * filterSize * filterSize)\r\n\r\n    if (isFloat(depth)) {\r\n      throw new Error(`depth has to be an integer: ${depth}, weights.length: ${weights.length}, numFilters: ${numFilters}, filterSize: ${filterSize}`)\r\n    }\r\n\r\n    return tf.tidy(\r\n      () => tf.transpose(\r\n        tf.tensor4d(weights, [numFilters, depth, filterSize, filterSize]),\r\n        [2, 3, 1, 0]\r\n      )\r\n    )\r\n  }\r\n\r\n  function extractConvParams(\r\n    numFilterValues: number,\r\n    numFilters: number,\r\n    filterSize: number,\r\n    mappedPrefix: string\r\n  ): TfjsImageRecognitionBase.ConvParams {\r\n\r\n    const filters = extractFilterValues(numFilterValues, numFilters, filterSize)\r\n    const bias = tf.tensor1d(extractWeights(numFilters))\r\n\r\n    paramMappings.push(\r\n      { paramPath: `${mappedPrefix}/filters` },\r\n      { paramPath: `${mappedPrefix}/bias` }\r\n    )\r\n\r\n    return { filters, bias }\r\n  }\r\n\r\n  function extractScaleLayerParams(numWeights: number, mappedPrefix: string): ScaleLayerParams {\r\n\r\n    const weights = tf.tensor1d(extractWeights(numWeights))\r\n    const biases = tf.tensor1d(extractWeights(numWeights))\r\n\r\n    paramMappings.push(\r\n      { paramPath: `${mappedPrefix}/weights` },\r\n      { paramPath: `${mappedPrefix}/biases` }\r\n    )\r\n\r\n    return {\r\n      weights,\r\n      biases\r\n    }\r\n  }\r\n\r\n  function extractConvLayerParams(\r\n    numFilterValues: number,\r\n    numFilters: number,\r\n    filterSize: number,\r\n    mappedPrefix: string\r\n  ): ConvLayerParams {\r\n\r\n    const conv = extractConvParams(numFilterValues, numFilters, filterSize, `${mappedPrefix}/conv`)\r\n    const scale = extractScaleLayerParams(numFilters, `${mappedPrefix}/scale`)\r\n\r\n    return { conv, scale }\r\n  }\r\n\r\n  function extractResidualLayerParams(\r\n    numFilterValues: number,\r\n    numFilters: number,\r\n    filterSize: number,\r\n    mappedPrefix: string,\r\n    isDown: boolean = false\r\n  ): ResidualLayerParams {\r\n\r\n    const conv1 = extractConvLayerParams((isDown ? 0.5 : 1) * numFilterValues, numFilters, filterSize, `${mappedPrefix}/conv1`)\r\n    const conv2 = extractConvLayerParams(numFilterValues, numFilters, filterSize, `${mappedPrefix}/conv2`)\r\n\r\n    return { conv1, conv2 }\r\n  }\r\n\r\n  return {\r\n    extractConvLayerParams,\r\n    extractResidualLayerParams\r\n  }\r\n\r\n}\r\n\r\nexport function extractParams(weights: Float32Array): { params: NetParams, paramMappings: TfjsImageRecognitionBase.ParamMapping[] } {\r\n\r\n  const {\r\n    extractWeights,\r\n    getRemainingWeights\r\n  } = TfjsImageRecognitionBase.extractWeightsFactory(weights)\r\n\r\n  const paramMappings: TfjsImageRecognitionBase.ParamMapping[] = []\r\n\r\n  const {\r\n    extractConvLayerParams,\r\n    extractResidualLayerParams\r\n  } = extractorsFactory(extractWeights, paramMappings)\r\n\r\n  const conv32_down = extractConvLayerParams(4704, 32, 7, 'conv32_down')\r\n  const conv32_1 = extractResidualLayerParams(9216, 32, 3, 'conv32_1')\r\n  const conv32_2 = extractResidualLayerParams(9216, 32, 3, 'conv32_2')\r\n  const conv32_3 = extractResidualLayerParams(9216, 32, 3, 'conv32_3')\r\n\r\n  const conv64_down = extractResidualLayerParams(36864, 64, 3, 'conv64_down', true)\r\n  const conv64_1 = extractResidualLayerParams(36864, 64, 3, 'conv64_1')\r\n  const conv64_2 = extractResidualLayerParams(36864, 64, 3, 'conv64_2')\r\n  const conv64_3 = extractResidualLayerParams(36864, 64, 3, 'conv64_3')\r\n\r\n  const conv128_down = extractResidualLayerParams(147456, 128, 3, 'conv128_down', true)\r\n  const conv128_1 = extractResidualLayerParams(147456, 128, 3, 'conv128_1')\r\n  const conv128_2 = extractResidualLayerParams(147456, 128, 3, 'conv128_2')\r\n\r\n  const conv256_down = extractResidualLayerParams(589824, 256, 3, 'conv256_down', true)\r\n  const conv256_1 = extractResidualLayerParams(589824, 256, 3, 'conv256_1')\r\n  const conv256_2 = extractResidualLayerParams(589824, 256, 3, 'conv256_2')\r\n  const conv256_down_out = extractResidualLayerParams(589824, 256, 3, 'conv256_down_out')\r\n\r\n  const fc = tf.tidy(\r\n    () => tf.transpose(tf.tensor2d(extractWeights(256 * 128), [128, 256]), [1, 0])\r\n  )\r\n  paramMappings.push({ paramPath: `fc` })\r\n\r\n  if (getRemainingWeights().length !== 0) {\r\n    throw new Error(`weights remaing after extract: ${getRemainingWeights().length}`)\r\n  }\r\n\r\n  const params = {\r\n    conv32_down,\r\n    conv32_1,\r\n    conv32_2,\r\n    conv32_3,\r\n    conv64_down,\r\n    conv64_1,\r\n    conv64_2,\r\n    conv64_3,\r\n    conv128_down,\r\n    conv128_1,\r\n    conv128_2,\r\n    conv256_down,\r\n    conv256_1,\r\n    conv256_2,\r\n    conv256_down_out,\r\n    fc\r\n  }\r\n\r\n  return { params, paramMappings }\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2748, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/faceRecognitionNet/extractParamsFromWeigthMap.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/faceRecognitionNet/extractParamsFromWeigthMap.ts"],"sourcesContent":["import * as tf from '@tensorflow/tfjs-core';\r\nimport { isTensor2D, TfjsImageRecognitionBase } from 'tfjs-image-recognition-base';\r\n\r\nimport { ConvLayerParams, NetParams, ResidualLayerParams, ScaleLayerParams } from './types';\r\n\r\nfunction extractorsFactory(weightMap: any, paramMappings: TfjsImageRecognitionBase.ParamMapping[]) {\r\n\r\n  const extractWeightEntry = TfjsImageRecognitionBase.extractWeightEntryFactory(weightMap, paramMappings)\r\n\r\n  function extractScaleLayerParams(prefix: string): ScaleLayerParams {\r\n\r\n    const weights = extractWeightEntry<tf.Tensor1D>(`${prefix}/scale/weights`, 1)\r\n    const biases = extractWeightEntry<tf.Tensor1D>(`${prefix}/scale/biases`, 1)\r\n\r\n    return { weights, biases }\r\n  }\r\n\r\n  function extractConvLayerParams(prefix: string): ConvLayerParams {\r\n\r\n    const filters = extractWeightEntry<tf.Tensor4D>(`${prefix}/conv/filters`, 4)\r\n    const bias = extractWeightEntry<tf.Tensor1D>(`${prefix}/conv/bias`, 1)\r\n    const scale = extractScaleLayerParams(prefix)\r\n\r\n    return { conv: { filters, bias }, scale }\r\n  }\r\n\r\n  function extractResidualLayerParams(prefix: string): ResidualLayerParams {\r\n    return {\r\n      conv1: extractConvLayerParams(`${prefix}/conv1`),\r\n      conv2: extractConvLayerParams(`${prefix}/conv2`)\r\n    }\r\n  }\r\n\r\n  return {\r\n    extractConvLayerParams,\r\n    extractResidualLayerParams\r\n  }\r\n\r\n}\r\n\r\nexport function extractParamsFromWeigthMap(\r\n  weightMap: tf.NamedTensorMap\r\n): { params: NetParams, paramMappings: TfjsImageRecognitionBase.ParamMapping[] } {\r\n\r\n  const paramMappings: TfjsImageRecognitionBase.ParamMapping[] = []\r\n\r\n  const {\r\n    extractConvLayerParams,\r\n    extractResidualLayerParams\r\n  } = extractorsFactory(weightMap, paramMappings)\r\n\r\n  const conv32_down = extractConvLayerParams('conv32_down')\r\n  const conv32_1 = extractResidualLayerParams('conv32_1')\r\n  const conv32_2 = extractResidualLayerParams('conv32_2')\r\n  const conv32_3 = extractResidualLayerParams('conv32_3')\r\n\r\n  const conv64_down = extractResidualLayerParams('conv64_down')\r\n  const conv64_1 = extractResidualLayerParams('conv64_1')\r\n  const conv64_2 = extractResidualLayerParams('conv64_2')\r\n  const conv64_3 = extractResidualLayerParams('conv64_3')\r\n\r\n  const conv128_down = extractResidualLayerParams('conv128_down')\r\n  const conv128_1 = extractResidualLayerParams('conv128_1')\r\n  const conv128_2 = extractResidualLayerParams('conv128_2')\r\n\r\n  const conv256_down = extractResidualLayerParams('conv256_down')\r\n  const conv256_1 = extractResidualLayerParams('conv256_1')\r\n  const conv256_2 = extractResidualLayerParams('conv256_2')\r\n  const conv256_down_out = extractResidualLayerParams('conv256_down_out')\r\n\r\n  const fc = weightMap['fc']\r\n  paramMappings.push({ originalPath: 'fc', paramPath: 'fc' })\r\n\r\n  if (!isTensor2D(fc)) {\r\n    throw new Error(`expected weightMap[fc] to be a Tensor2D, instead have ${fc}`)\r\n  }\r\n\r\n  const params = {\r\n    conv32_down,\r\n    conv32_1,\r\n    conv32_2,\r\n    conv32_3,\r\n    conv64_down,\r\n    conv64_1,\r\n    conv64_2,\r\n    conv64_3,\r\n    conv128_down,\r\n    conv128_1,\r\n    conv128_2,\r\n    conv256_down,\r\n    conv256_1,\r\n    conv256_2,\r\n    conv256_down_out,\r\n    fc\r\n  }\r\n\r\n  TfjsImageRecognitionBase.disposeUnusedWeightTensors(weightMap, paramMappings)\r\n\r\n  return { params, paramMappings }\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2843, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/faceRecognitionNet/residualLayer.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/faceRecognitionNet/residualLayer.ts"],"sourcesContent":["import * as tf from '@tensorflow/tfjs-core';\r\n\r\nimport { conv, convDown, convNoRelu } from './convLayer';\r\nimport { ResidualLayerParams } from './types';\r\n\r\nexport function residual(x: tf.Tensor4D, params: ResidualLayerParams): tf.Tensor4D {\r\n  let out = conv(x, params.conv1)\r\n  out = convNoRelu(out, params.conv2)\r\n  out = tf.add(out, x)\r\n  out = tf.relu(out)\r\n  return out\r\n}\r\n\r\nexport function residualDown(x: tf.Tensor4D, params: ResidualLayerParams): tf.Tensor4D {\r\n  let out = convDown(x, params.conv1)\r\n  out = convNoRelu(out, params.conv2)\r\n\r\n  let pooled = tf.avgPool(x, 2, 2, 'valid') as tf.Tensor4D\r\n  const zeros = tf.zeros<tf.Rank.R4>(pooled.shape)\r\n  const isPad = pooled.shape[3] !== out.shape[3]\r\n  const isAdjustShape = pooled.shape[1] !== out.shape[1] || pooled.shape[2] !== out.shape[2]\r\n\r\n  if (isAdjustShape) {\r\n    const padShapeX = [...out.shape] as [number, number, number, number]\r\n    padShapeX[1] = 1\r\n    const zerosW = tf.zeros<tf.Rank.R4>(padShapeX)\r\n    out = tf.concat([out, zerosW], 1)\r\n\r\n    const padShapeY = [...out.shape] as [number, number, number, number]\r\n    padShapeY[2] = 1\r\n    const zerosH = tf.zeros<tf.Rank.R4>(padShapeY)\r\n    out = tf.concat([out, zerosH], 2)\r\n  }\r\n\r\n  pooled = isPad ? tf.concat([pooled, zeros], 3) : pooled\r\n  out = tf.add(pooled, out) as tf.Tensor4D\r\n\r\n  out = tf.relu(out)\r\n  return out\r\n}"],"names":[],"mappings":";;;;;;AAAA,OAAO,KAAK,EAAE,MAAM,uBAAuB,CAAC;AAE5C,OAAO,EAAE,IAAI,EAAE,QAAQ,EAAE,UAAU,EAAE,MAAM,aAAa,CAAC;;;AAGnD,SAAU,QAAQ,CAAC,CAAc,EAAE,MAA2B;IAClE,IAAI,GAAG,OAAG,+LAAI,EAAC,CAAC,EAAE,MAAM,CAAC,KAAK,CAAC,CAAA;IAC/B,GAAG,OAAG,qMAAU,EAAC,GAAG,EAAE,MAAM,CAAC,KAAK,CAAC,CAAA;IACnC,GAAG,GAAG,EAAE,CAAC,gLAAG,CAAC,GAAG,EAAE,CAAC,CAAC,CAAA;IACpB,GAAG,GAAG,EAAE,CAAC,iLAAI,CAAC,GAAG,CAAC,CAAA;IAClB,OAAO,GAAG,CAAA;AACZ,CAAC;AAEK,SAAU,YAAY,CAAC,CAAc,EAAE,MAA2B;IACtE,IAAI,GAAG,OAAG,mMAAQ,EAAC,CAAC,EAAE,MAAM,CAAC,KAAK,CAAC,CAAA;IACnC,GAAG,OAAG,qMAAU,EAAC,GAAG,EAAE,MAAM,CAAC,KAAK,CAAC,CAAA;IAEnC,IAAI,MAAM,GAAG,EAAE,CAAC,oLAAO,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,OAAO,CAAgB,CAAA;IACxD,IAAM,KAAK,GAAG,EAAE,CAAC,kLAAK,CAAa,MAAM,CAAC,KAAK,CAAC,CAAA;IAChD,IAAM,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAA;IAC9C,IAAM,aAAa,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAA;IAE1F,IAAI,aAAa,EAAE;QACjB,IAAM,SAAS,GAAO,GAAG,CAAC,KAAK,CAAA,KAAA,EAAqC,CAAA;QACpE,SAAS,CAAC,CAAC,CAAC,GAAG,CAAC,CAAA;QAChB,IAAM,MAAM,GAAG,EAAE,CAAC,kLAAK,CAAa,SAAS,CAAC,CAAA;QAC9C,GAAG,GAAG,EAAE,CAAC,mLAAM,CAAC;YAAC,GAAG;YAAE,MAAM;SAAC,EAAE,CAAC,CAAC,CAAA;QAEjC,IAAM,SAAS,GAAO,GAAG,CAAC,KAAK,CAAA,KAAA,EAAqC,CAAA;QACpE,SAAS,CAAC,CAAC,CAAC,GAAG,CAAC,CAAA;QAChB,IAAM,MAAM,GAAG,EAAE,CAAC,kLAAK,CAAa,SAAS,CAAC,CAAA;QAC9C,GAAG,GAAG,EAAE,CAAC,mLAAM,CAAC;YAAC,GAAG;YAAE,MAAM;SAAC,EAAE,CAAC,CAAC,CAAA;KAClC;IAED,MAAM,GAAG,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,mLAAM,CAAC;QAAC,MAAM;QAAE,KAAK;KAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAA;IACvD,GAAG,GAAG,EAAE,CAAC,gLAAG,CAAC,MAAM,EAAE,GAAG,CAAgB,CAAA;IAExC,GAAG,GAAG,EAAE,CAAC,iLAAI,CAAC,GAAG,CAAC,CAAA;IAClB,OAAO,GAAG,CAAA;AACZ,CAAC"}},
    {"offset": {"line": 2895, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/faceRecognitionNet/FaceRecognitionNet.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/faceRecognitionNet/FaceRecognitionNet.ts"],"sourcesContent":["import * as tf from '@tensorflow/tfjs-core';\r\nimport { NetInput, NeuralNetwork, normalize, TNetInput, toNetInput } from 'tfjs-image-recognition-base';\r\n\r\nimport { convDown } from './convLayer';\r\nimport { extractParams } from './extractParams';\r\nimport { extractParamsFromWeigthMap } from './extractParamsFromWeigthMap';\r\nimport { residual, residualDown } from './residualLayer';\r\nimport { NetParams } from './types';\r\n\r\n\r\nexport class FaceRecognitionNet extends NeuralNetwork<NetParams> {\r\n\r\n  constructor() {\r\n    super('FaceRecognitionNet')\r\n  }\r\n\r\n  public forwardInput(input: NetInput): tf.Tensor2D {\r\n\r\n    const { params } = this\r\n\r\n    if (!params) {\r\n      throw new Error('FaceRecognitionNet - load model before inference')\r\n    }\r\n\r\n    return tf.tidy(() => {\r\n      const batchTensor = input.toBatchTensor(150, true).toFloat()\r\n\r\n      const meanRgb = [122.782, 117.001, 104.298]\r\n      const normalized = normalize(batchTensor, meanRgb).div(tf.scalar(256)) as tf.Tensor4D\r\n\r\n      let out = convDown(normalized, params.conv32_down)\r\n      out = tf.maxPool(out, 3, 2, 'valid')\r\n\r\n      out = residual(out, params.conv32_1)\r\n      out = residual(out, params.conv32_2)\r\n      out = residual(out, params.conv32_3)\r\n\r\n      out = residualDown(out, params.conv64_down)\r\n      out = residual(out, params.conv64_1)\r\n      out = residual(out, params.conv64_2)\r\n      out = residual(out, params.conv64_3)\r\n\r\n      out = residualDown(out, params.conv128_down)\r\n      out = residual(out, params.conv128_1)\r\n      out = residual(out, params.conv128_2)\r\n\r\n      out = residualDown(out, params.conv256_down)\r\n      out = residual(out, params.conv256_1)\r\n      out = residual(out, params.conv256_2)\r\n      out = residualDown(out, params.conv256_down_out)\r\n\r\n      const globalAvg = out.mean([1, 2]) as tf.Tensor2D\r\n      const fullyConnected = tf.matMul(globalAvg, params.fc)\r\n\r\n      return fullyConnected\r\n    })\r\n  }\r\n\r\n  public async forward(input: TNetInput): Promise<tf.Tensor2D> {\r\n    return this.forwardInput(await toNetInput(input))\r\n  }\r\n\r\n  public async computeFaceDescriptor(input: TNetInput): Promise<Float32Array|Float32Array[]> {\r\n    const netInput = await toNetInput(input)\r\n\r\n    const faceDescriptorTensors = tf.tidy(\r\n      () => tf.unstack(this.forwardInput(netInput))\r\n    )\r\n\r\n    const faceDescriptorsForBatch = await Promise.all(faceDescriptorTensors.map(\r\n      t => t.data()\r\n    )) as Float32Array[]\r\n\r\n    faceDescriptorTensors.forEach(t => t.dispose())\r\n\r\n    return netInput.isBatchInput\r\n      ? faceDescriptorsForBatch\r\n      : faceDescriptorsForBatch[0]\r\n  }\r\n\r\n  protected getDefaultModelName(): string {\r\n    return 'face_recognition_model'\r\n  }\r\n\r\n  protected extractParamsFromWeigthMap(weightMap: tf.NamedTensorMap) {\r\n    return extractParamsFromWeigthMap(weightMap)\r\n  }\r\n\r\n  protected extractParams(weights: Float32Array) {\r\n    return extractParams(weights)\r\n  }\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3032, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/faceRecognitionNet/index.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/faceRecognitionNet/index.ts"],"sourcesContent":["import { FaceRecognitionNet } from './FaceRecognitionNet';\r\n\r\nexport * from './FaceRecognitionNet';\r\n\r\nexport function createFaceRecognitionNet(weights: Float32Array) {\r\n  const net = new FaceRecognitionNet()\r\n  net.extractWeights(weights)\r\n  return net\r\n}"],"names":[],"mappings":";;;;AAAA,OAAO,EAAE,kBAAkB,EAAE,MAAM,sBAAsB,CAAC;;;AAIpD,SAAU,wBAAwB,CAAC,OAAqB;IAC5D,IAAM,GAAG,GAAG,IAAI,sNAAkB,EAAE,CAAA;IACpC,GAAG,CAAC,cAAc,CAAC,OAAO,CAAC,CAAA;IAC3B,OAAO,GAAG,CAAA;AACZ,CAAC"}},
    {"offset": {"line": 3048, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/factories/WithFaceDescriptor.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/factories/WithFaceDescriptor.ts"],"sourcesContent":["export type WithFaceDescriptor<TSource> = TSource & {\r\n  descriptor: Float32Array\r\n}\r\n\r\nexport function extendWithFaceDescriptor<\r\n  TSource\r\n> (\r\n  sourceObj: TSource,\r\n  descriptor: Float32Array\r\n): WithFaceDescriptor<TSource> {\r\n\r\n  const extension = { descriptor }\r\n  return Object.assign({}, sourceObj, extension)\r\n}\r\n\r\n"],"names":[],"mappings":";;;;AAIM,SAAU,wBAAwB,CAGtC,SAAkB,EAClB,UAAwB;IAGxB,IAAM,SAAS,GAAG;QAAE,UAAU,EAAA,UAAA;IAAA,CAAE,CAAA;IAChC,OAAO,MAAM,CAAC,MAAM,CAAC,CAAA,CAAE,EAAE,SAAS,EAAE,SAAS,CAAC,CAAA;AAChD,CAAC"}},
    {"offset": {"line": 3062, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/factories/index.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/factories/index.ts"],"sourcesContent":["export * from './WithFaceDescriptor'\r\nexport * from './WithFaceDetection'\r\nexport * from './WithFaceExpressions'\r\nexport * from './WithFaceLandmarks'"],"names":[],"mappings":";AAAA,cAAc,sBAAsB,CAAA;AACpC,cAAc,qBAAqB,CAAA;AACnC,cAAc,uBAAuB,CAAA;AACrC,cAAc,qBAAqB,CAAA"}},
    {"offset": {"line": 3075, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/mtcnn/MtcnnOptions.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/mtcnn/MtcnnOptions.ts"],"sourcesContent":["export interface IMtcnnOptions {\r\n  minFaceSize?: number\r\n  scaleFactor?: number\r\n  maxNumScales?: number\r\n  scoreThresholds?: number[]\r\n  scaleSteps?: number[]\r\n}\r\n\r\nexport class MtcnnOptions {\r\n  protected _name: string = 'MtcnnOptions'\r\n\r\n  private _minFaceSize: number\r\n  private _scaleFactor: number\r\n  private _maxNumScales: number\r\n  private _scoreThresholds: number[]\r\n  private _scaleSteps: number[] | undefined\r\n\r\n  constructor({ minFaceSize, scaleFactor, maxNumScales, scoreThresholds, scaleSteps }: IMtcnnOptions = {}) {\r\n    this._minFaceSize = minFaceSize || 20\r\n    this._scaleFactor = scaleFactor || 0.709\r\n    this._maxNumScales = maxNumScales || 10\r\n    this._scoreThresholds = scoreThresholds || [0.6, 0.7, 0.7]\r\n    this._scaleSteps = scaleSteps\r\n\r\n    if (typeof this._minFaceSize !== 'number' || this._minFaceSize < 0) {\r\n      throw new Error(`${this._name} - expected minFaceSize to be a number > 0`)\r\n    }\r\n\r\n    if (typeof this._scaleFactor !== 'number' || this._scaleFactor <= 0 || this._scaleFactor >= 1) {\r\n      throw new Error(`${this._name} - expected scaleFactor to be a number between 0 and 1`)\r\n    }\r\n\r\n    if (typeof this._maxNumScales !== 'number' || this._maxNumScales < 0) {\r\n      throw new Error(`${this._name} - expected maxNumScales to be a number > 0`)\r\n    }\r\n\r\n    if (\r\n      !Array.isArray(this._scoreThresholds)\r\n        || this._scoreThresholds.length !== 3\r\n        || this._scoreThresholds.some(th => typeof th !== 'number')\r\n    ) {\r\n      throw new Error(`${this._name} - expected scoreThresholds to be an array of numbers of length 3`)\r\n    }\r\n\r\n    if (\r\n      this._scaleSteps\r\n        && (!Array.isArray(this._scaleSteps) || this._scaleSteps.some(th => typeof th !== 'number'))\r\n    ) {\r\n      throw new Error(`${this._name} - expected scaleSteps to be an array of numbers`)\r\n    }\r\n  }\r\n\r\n  get minFaceSize(): number { return this._minFaceSize }\r\n  get scaleFactor(): number { return this._scaleFactor }\r\n  get maxNumScales(): number { return this._maxNumScales }\r\n  get scoreThresholds(): number[] { return this._scoreThresholds }\r\n  get scaleSteps(): number[] | undefined { return this._scaleSteps }\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3155, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/ssdMobilenetv1/extractParams.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/ssdMobilenetv1/extractParams.ts"],"sourcesContent":["import * as tf from '@tensorflow/tfjs-core';\r\nimport { TfjsImageRecognitionBase } from 'tfjs-image-recognition-base';\r\n\r\nimport { MobileNetV1, NetParams, PointwiseConvParams, PredictionLayerParams } from './types';\r\n\r\nfunction extractorsFactory(extractWeights: TfjsImageRecognitionBase.ExtractWeightsFunction, paramMappings: TfjsImageRecognitionBase.ParamMapping[]) {\r\n\r\n  function extractDepthwiseConvParams(numChannels: number, mappedPrefix: string): MobileNetV1.DepthwiseConvParams {\r\n\r\n    const filters = tf.tensor4d(extractWeights(3 * 3 * numChannels), [3, 3, numChannels, 1])\r\n    const batch_norm_scale = tf.tensor1d(extractWeights(numChannels))\r\n    const batch_norm_offset = tf.tensor1d(extractWeights(numChannels))\r\n    const batch_norm_mean = tf.tensor1d(extractWeights(numChannels))\r\n    const batch_norm_variance = tf.tensor1d(extractWeights(numChannels))\r\n\r\n    paramMappings.push(\r\n      { paramPath: `${mappedPrefix}/filters` },\r\n      { paramPath: `${mappedPrefix}/batch_norm_scale` },\r\n      { paramPath: `${mappedPrefix}/batch_norm_offset` },\r\n      { paramPath: `${mappedPrefix}/batch_norm_mean` },\r\n      { paramPath: `${mappedPrefix}/batch_norm_variance` }\r\n    )\r\n\r\n    return {\r\n      filters,\r\n      batch_norm_scale,\r\n      batch_norm_offset,\r\n      batch_norm_mean,\r\n      batch_norm_variance\r\n    }\r\n  }\r\n\r\n  function extractConvParams(\r\n    channelsIn: number,\r\n    channelsOut: number,\r\n    filterSize: number,\r\n    mappedPrefix: string,\r\n    isPointwiseConv?: boolean\r\n  ): TfjsImageRecognitionBase.ConvParams {\r\n\r\n    const filters = tf.tensor4d(\r\n      extractWeights(channelsIn * channelsOut * filterSize * filterSize),\r\n      [filterSize, filterSize, channelsIn, channelsOut]\r\n    )\r\n    const bias = tf.tensor1d(extractWeights(channelsOut))\r\n\r\n    paramMappings.push(\r\n      { paramPath: `${mappedPrefix}/filters` },\r\n      { paramPath: `${mappedPrefix}/${isPointwiseConv ? 'batch_norm_offset' : 'bias'}` }\r\n    )\r\n\r\n    return { filters, bias }\r\n  }\r\n\r\n  function extractPointwiseConvParams(\r\n    channelsIn: number,\r\n    channelsOut: number,\r\n    filterSize: number,\r\n    mappedPrefix: string\r\n  ): PointwiseConvParams {\r\n\r\n    const {\r\n      filters,\r\n      bias\r\n    } = extractConvParams(channelsIn, channelsOut, filterSize, mappedPrefix, true)\r\n\r\n    return {\r\n      filters,\r\n      batch_norm_offset: bias\r\n    }\r\n  }\r\n\r\n  function extractConvPairParams(\r\n    channelsIn: number,\r\n    channelsOut: number,\r\n    mappedPrefix: string\r\n  ): MobileNetV1.ConvPairParams {\r\n\r\n    const depthwise_conv = extractDepthwiseConvParams(channelsIn, `${mappedPrefix}/depthwise_conv`)\r\n    const pointwise_conv = extractPointwiseConvParams(channelsIn, channelsOut, 1, `${mappedPrefix}/pointwise_conv`)\r\n\r\n    return { depthwise_conv, pointwise_conv }\r\n  }\r\n\r\n  function extractMobilenetV1Params(): MobileNetV1.Params {\r\n\r\n    const conv_0 = extractPointwiseConvParams(3, 32, 3, 'mobilenetv1/conv_0')\r\n\r\n    const conv_1 = extractConvPairParams(32, 64, 'mobilenetv1/conv_1')\r\n    const conv_2 = extractConvPairParams(64, 128, 'mobilenetv1/conv_2')\r\n    const conv_3 = extractConvPairParams(128, 128, 'mobilenetv1/conv_3')\r\n    const conv_4 = extractConvPairParams(128, 256, 'mobilenetv1/conv_4')\r\n    const conv_5 = extractConvPairParams(256, 256, 'mobilenetv1/conv_5')\r\n    const conv_6 = extractConvPairParams(256, 512, 'mobilenetv1/conv_6')\r\n    const conv_7 = extractConvPairParams(512, 512, 'mobilenetv1/conv_7')\r\n    const conv_8 = extractConvPairParams(512, 512, 'mobilenetv1/conv_8')\r\n    const conv_9 = extractConvPairParams(512, 512, 'mobilenetv1/conv_9')\r\n    const conv_10 = extractConvPairParams(512, 512, 'mobilenetv1/conv_10')\r\n    const conv_11 = extractConvPairParams(512, 512, 'mobilenetv1/conv_11')\r\n    const conv_12 = extractConvPairParams(512, 1024, 'mobilenetv1/conv_12')\r\n    const conv_13 = extractConvPairParams(1024, 1024, 'mobilenetv1/conv_13')\r\n\r\n    return {\r\n      conv_0,\r\n      conv_1,\r\n      conv_2,\r\n      conv_3,\r\n      conv_4,\r\n      conv_5,\r\n      conv_6,\r\n      conv_7,\r\n      conv_8,\r\n      conv_9,\r\n      conv_10,\r\n      conv_11,\r\n      conv_12,\r\n      conv_13\r\n    }\r\n  }\r\n\r\n  function extractPredictionLayerParams(): PredictionLayerParams {\r\n    const conv_0 = extractPointwiseConvParams(1024, 256, 1, 'prediction_layer/conv_0')\r\n    const conv_1 = extractPointwiseConvParams(256, 512, 3, 'prediction_layer/conv_1')\r\n    const conv_2 = extractPointwiseConvParams(512, 128, 1, 'prediction_layer/conv_2')\r\n    const conv_3 = extractPointwiseConvParams(128, 256, 3, 'prediction_layer/conv_3')\r\n    const conv_4 = extractPointwiseConvParams(256, 128, 1, 'prediction_layer/conv_4')\r\n    const conv_5 = extractPointwiseConvParams(128, 256, 3, 'prediction_layer/conv_5')\r\n    const conv_6 = extractPointwiseConvParams(256, 64, 1, 'prediction_layer/conv_6')\r\n    const conv_7 = extractPointwiseConvParams(64, 128, 3, 'prediction_layer/conv_7')\r\n\r\n    const box_encoding_0_predictor = extractConvParams(512, 12, 1, 'prediction_layer/box_predictor_0/box_encoding_predictor')\r\n    const class_predictor_0 = extractConvParams(512, 9, 1, 'prediction_layer/box_predictor_0/class_predictor')\r\n    const box_encoding_1_predictor = extractConvParams(1024, 24, 1, 'prediction_layer/box_predictor_1/box_encoding_predictor')\r\n    const class_predictor_1 = extractConvParams(1024, 18, 1, 'prediction_layer/box_predictor_1/class_predictor')\r\n    const box_encoding_2_predictor = extractConvParams(512, 24, 1, 'prediction_layer/box_predictor_2/box_encoding_predictor')\r\n    const class_predictor_2 = extractConvParams(512, 18, 1, 'prediction_layer/box_predictor_2/class_predictor')\r\n    const box_encoding_3_predictor = extractConvParams(256, 24, 1, 'prediction_layer/box_predictor_3/box_encoding_predictor')\r\n    const class_predictor_3 = extractConvParams(256, 18, 1, 'prediction_layer/box_predictor_3/class_predictor')\r\n    const box_encoding_4_predictor = extractConvParams(256, 24, 1, 'prediction_layer/box_predictor_4/box_encoding_predictor')\r\n    const class_predictor_4 = extractConvParams(256, 18, 1, 'prediction_layer/box_predictor_4/class_predictor')\r\n    const box_encoding_5_predictor = extractConvParams(128, 24, 1, 'prediction_layer/box_predictor_5/box_encoding_predictor')\r\n    const class_predictor_5 = extractConvParams(128, 18, 1, 'prediction_layer/box_predictor_5/class_predictor')\r\n\r\n    const box_predictor_0 = {\r\n      box_encoding_predictor: box_encoding_0_predictor,\r\n      class_predictor: class_predictor_0\r\n    }\r\n    const box_predictor_1 = {\r\n      box_encoding_predictor: box_encoding_1_predictor,\r\n      class_predictor: class_predictor_1\r\n    }\r\n    const box_predictor_2 = {\r\n      box_encoding_predictor: box_encoding_2_predictor,\r\n      class_predictor: class_predictor_2\r\n    }\r\n    const box_predictor_3 = {\r\n      box_encoding_predictor: box_encoding_3_predictor,\r\n      class_predictor: class_predictor_3\r\n    }\r\n    const box_predictor_4 = {\r\n      box_encoding_predictor: box_encoding_4_predictor,\r\n      class_predictor: class_predictor_4\r\n    }\r\n    const box_predictor_5 = {\r\n      box_encoding_predictor: box_encoding_5_predictor,\r\n      class_predictor: class_predictor_5\r\n    }\r\n\r\n    return {\r\n      conv_0,\r\n      conv_1,\r\n      conv_2,\r\n      conv_3,\r\n      conv_4,\r\n      conv_5,\r\n      conv_6,\r\n      conv_7,\r\n      box_predictor_0,\r\n      box_predictor_1,\r\n      box_predictor_2,\r\n      box_predictor_3,\r\n      box_predictor_4,\r\n      box_predictor_5\r\n    }\r\n  }\r\n\r\n  return {\r\n    extractMobilenetV1Params,\r\n    extractPredictionLayerParams\r\n  }\r\n\r\n}\r\n\r\nexport function extractParams(weights: Float32Array): { params: NetParams, paramMappings: TfjsImageRecognitionBase.ParamMapping[] } {\r\n\r\n  const paramMappings: TfjsImageRecognitionBase.ParamMapping[] = []\r\n\r\n  const {\r\n    extractWeights,\r\n    getRemainingWeights\r\n  } = TfjsImageRecognitionBase.extractWeightsFactory(weights)\r\n\r\n  const {\r\n    extractMobilenetV1Params,\r\n    extractPredictionLayerParams\r\n  } = extractorsFactory(extractWeights, paramMappings)\r\n\r\n  const mobilenetv1 = extractMobilenetV1Params()\r\n  const prediction_layer = extractPredictionLayerParams()\r\n  const extra_dim = tf.tensor3d(\r\n    extractWeights(5118 * 4),\r\n    [1, 5118, 4]\r\n  )\r\n  const output_layer = {\r\n    extra_dim\r\n  }\r\n\r\n  paramMappings.push({ paramPath: 'output_layer/extra_dim' })\r\n\r\n  if (getRemainingWeights().length !== 0) {\r\n    throw new Error(`weights remaing after extract: ${getRemainingWeights().length}`)\r\n  }\r\n\r\n  return {\r\n    params: {\r\n      mobilenetv1,\r\n      prediction_layer,\r\n      output_layer\r\n    },\r\n    paramMappings\r\n  }\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3360, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/ssdMobilenetv1/extractParamsFromWeigthMap.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/ssdMobilenetv1/extractParamsFromWeigthMap.ts"],"sourcesContent":["import * as tf from '@tensorflow/tfjs-core';\r\nimport { isTensor3D, TfjsImageRecognitionBase } from 'tfjs-image-recognition-base';\r\n\r\nimport { BoxPredictionParams, MobileNetV1, NetParams, PointwiseConvParams, PredictionLayerParams } from './types';\r\n\r\nfunction extractorsFactory(weightMap: any, paramMappings: TfjsImageRecognitionBase.ParamMapping[]) {\r\n\r\n  const extractWeightEntry = TfjsImageRecognitionBase.extractWeightEntryFactory(weightMap, paramMappings)\r\n\r\n  function extractPointwiseConvParams(prefix: string, idx: number, mappedPrefix: string): PointwiseConvParams {\r\n\r\n    const filters = extractWeightEntry<tf.Tensor4D>(`${prefix}/Conv2d_${idx}_pointwise/weights`, 4, `${mappedPrefix}/filters`)\r\n    const batch_norm_offset = extractWeightEntry<tf.Tensor1D>(`${prefix}/Conv2d_${idx}_pointwise/convolution_bn_offset`, 1, `${mappedPrefix}/batch_norm_offset`)\r\n\r\n    return { filters, batch_norm_offset }\r\n  }\r\n\r\n  function extractConvPairParams(idx: number): MobileNetV1.ConvPairParams {\r\n\r\n    const mappedPrefix = `mobilenetv1/conv_${idx}`\r\n    const prefixDepthwiseConv = `MobilenetV1/Conv2d_${idx}_depthwise`\r\n    const mappedPrefixDepthwiseConv = `${mappedPrefix}/depthwise_conv`\r\n    const mappedPrefixPointwiseConv = `${mappedPrefix}/pointwise_conv`\r\n\r\n    const filters = extractWeightEntry<tf.Tensor4D>(`${prefixDepthwiseConv}/depthwise_weights`, 4, `${mappedPrefixDepthwiseConv}/filters`)\r\n    const batch_norm_scale = extractWeightEntry<tf.Tensor1D>(`${prefixDepthwiseConv}/BatchNorm/gamma`, 1, `${mappedPrefixDepthwiseConv}/batch_norm_scale`)\r\n    const batch_norm_offset = extractWeightEntry<tf.Tensor1D>(`${prefixDepthwiseConv}/BatchNorm/beta`, 1, `${mappedPrefixDepthwiseConv}/batch_norm_offset`)\r\n    const batch_norm_mean = extractWeightEntry<tf.Tensor1D>(`${prefixDepthwiseConv}/BatchNorm/moving_mean`, 1, `${mappedPrefixDepthwiseConv}/batch_norm_mean`)\r\n    const batch_norm_variance = extractWeightEntry<tf.Tensor1D>(`${prefixDepthwiseConv}/BatchNorm/moving_variance`, 1, `${mappedPrefixDepthwiseConv}/batch_norm_variance`)\r\n\r\n    return {\r\n      depthwise_conv: {\r\n        filters,\r\n        batch_norm_scale,\r\n        batch_norm_offset,\r\n        batch_norm_mean,\r\n        batch_norm_variance\r\n      },\r\n      pointwise_conv: extractPointwiseConvParams('MobilenetV1', idx, mappedPrefixPointwiseConv)\r\n    }\r\n  }\r\n\r\n  function extractMobilenetV1Params(): MobileNetV1.Params {\r\n    return {\r\n      conv_0: extractPointwiseConvParams('MobilenetV1', 0, 'mobilenetv1/conv_0'),\r\n      conv_1: extractConvPairParams(1),\r\n      conv_2: extractConvPairParams(2),\r\n      conv_3: extractConvPairParams(3),\r\n      conv_4: extractConvPairParams(4),\r\n      conv_5: extractConvPairParams(5),\r\n      conv_6: extractConvPairParams(6),\r\n      conv_7: extractConvPairParams(7),\r\n      conv_8: extractConvPairParams(8),\r\n      conv_9: extractConvPairParams(9),\r\n      conv_10: extractConvPairParams(10),\r\n      conv_11: extractConvPairParams(11),\r\n      conv_12: extractConvPairParams(12),\r\n      conv_13: extractConvPairParams(13)\r\n    }\r\n  }\r\n\r\n  function extractConvParams(prefix: string, mappedPrefix: string): TfjsImageRecognitionBase.ConvParams {\r\n    const filters = extractWeightEntry<tf.Tensor4D>(`${prefix}/weights`, 4, `${mappedPrefix}/filters`)\r\n    const bias = extractWeightEntry<tf.Tensor1D>(`${prefix}/biases`, 1, `${mappedPrefix}/bias`)\r\n\r\n    return { filters, bias }\r\n  }\r\n\r\n  function extractBoxPredictorParams(idx: number): BoxPredictionParams {\r\n\r\n    const box_encoding_predictor = extractConvParams(\r\n      `Prediction/BoxPredictor_${idx}/BoxEncodingPredictor`,\r\n      `prediction_layer/box_predictor_${idx}/box_encoding_predictor`\r\n    )\r\n    const class_predictor = extractConvParams(\r\n      `Prediction/BoxPredictor_${idx}/ClassPredictor`,\r\n      `prediction_layer/box_predictor_${idx}/class_predictor`\r\n    )\r\n\r\n    return { box_encoding_predictor, class_predictor }\r\n  }\r\n\r\n  function extractPredictionLayerParams(): PredictionLayerParams {\r\n    return {\r\n      conv_0: extractPointwiseConvParams('Prediction', 0, 'prediction_layer/conv_0'),\r\n      conv_1: extractPointwiseConvParams('Prediction', 1, 'prediction_layer/conv_1'),\r\n      conv_2: extractPointwiseConvParams('Prediction', 2, 'prediction_layer/conv_2'),\r\n      conv_3: extractPointwiseConvParams('Prediction', 3, 'prediction_layer/conv_3'),\r\n      conv_4: extractPointwiseConvParams('Prediction', 4, 'prediction_layer/conv_4'),\r\n      conv_5: extractPointwiseConvParams('Prediction', 5, 'prediction_layer/conv_5'),\r\n      conv_6: extractPointwiseConvParams('Prediction', 6, 'prediction_layer/conv_6'),\r\n      conv_7: extractPointwiseConvParams('Prediction', 7, 'prediction_layer/conv_7'),\r\n      box_predictor_0: extractBoxPredictorParams(0),\r\n      box_predictor_1: extractBoxPredictorParams(1),\r\n      box_predictor_2: extractBoxPredictorParams(2),\r\n      box_predictor_3: extractBoxPredictorParams(3),\r\n      box_predictor_4: extractBoxPredictorParams(4),\r\n      box_predictor_5: extractBoxPredictorParams(5)\r\n    }\r\n  }\r\n\r\n  return {\r\n    extractMobilenetV1Params,\r\n    extractPredictionLayerParams\r\n  }\r\n}\r\n\r\nexport function extractParamsFromWeigthMap(\r\n  weightMap: tf.NamedTensorMap\r\n): { params: NetParams, paramMappings: TfjsImageRecognitionBase.ParamMapping[] } {\r\n\r\n  const paramMappings: TfjsImageRecognitionBase.ParamMapping[] = []\r\n\r\n  const {\r\n    extractMobilenetV1Params,\r\n    extractPredictionLayerParams\r\n  } = extractorsFactory(weightMap, paramMappings)\r\n\r\n  const extra_dim = weightMap['Output/extra_dim']\r\n  paramMappings.push({ originalPath: 'Output/extra_dim', paramPath: 'output_layer/extra_dim' })\r\n\r\n  if (!isTensor3D(extra_dim)) {\r\n    throw new Error(`expected weightMap['Output/extra_dim'] to be a Tensor3D, instead have ${extra_dim}`)\r\n  }\r\n\r\n  const params = {\r\n    mobilenetv1: extractMobilenetV1Params(),\r\n    prediction_layer: extractPredictionLayerParams(),\r\n    output_layer: {\r\n      extra_dim\r\n    }\r\n  }\r\n\r\n  TfjsImageRecognitionBase.disposeUnusedWeightTensors(weightMap, paramMappings)\r\n\r\n  return { params, paramMappings }\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3484, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/ssdMobilenetv1/pointwiseConvLayer.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/ssdMobilenetv1/pointwiseConvLayer.ts"],"sourcesContent":["import * as tf from '@tensorflow/tfjs-core';\r\n\r\nimport { PointwiseConvParams } from './types';\r\n\r\nexport function pointwiseConvLayer(\r\n  x: tf.Tensor4D,\r\n  params: PointwiseConvParams,\r\n  strides: [number, number]\r\n) {\r\n  return tf.tidy(() => {\r\n\r\n    let out = tf.conv2d(x, params.filters, strides, 'same')\r\n    out = tf.add(out, params.batch_norm_offset)\r\n    return tf.clipByValue(out, 0, 6)\r\n\r\n  })\r\n}"],"names":[],"mappings":";;;;AAAA,OAAO,KAAK,EAAE,MAAM,uBAAuB,CAAC;;AAItC,SAAU,kBAAkB,CAChC,CAAc,EACd,MAA2B,EAC3B,OAAyB;IAEzB,OAAO,EAAE,CAAC,iLAAI,CAAC;QAEb,IAAI,GAAG,GAAG,EAAE,CAAC,mLAAM,CAAC,CAAC,EAAE,MAAM,CAAC,OAAO,EAAE,OAAO,EAAE,MAAM,CAAC,CAAA;QACvD,GAAG,GAAG,EAAE,CAAC,gLAAG,CAAC,GAAG,EAAE,MAAM,CAAC,iBAAiB,CAAC,CAAA;QAC3C,OAAO,EAAE,CAAC,wLAAW,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,CAAA;IAElC,CAAC,CAAC,CAAA;AACJ,CAAC"}},
    {"offset": {"line": 3501, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/ssdMobilenetv1/mobileNetV1.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/ssdMobilenetv1/mobileNetV1.ts"],"sourcesContent":["import * as tf from '@tensorflow/tfjs-core';\r\n\r\nimport { pointwiseConvLayer } from './pointwiseConvLayer';\r\nimport { MobileNetV1 } from './types';\r\n\r\nconst epsilon = 0.0010000000474974513\r\n\r\nfunction depthwiseConvLayer(\r\n  x: tf.Tensor4D,\r\n  params: MobileNetV1.DepthwiseConvParams,\r\n  strides: [number, number]\r\n) {\r\n  return tf.tidy(() => {\r\n\r\n    let out = tf.depthwiseConv2d(x, params.filters, strides, 'same')\r\n    out = tf.batchNorm<tf.Rank.R4>(\r\n      out,\r\n      params.batch_norm_mean,\r\n      params.batch_norm_variance,\r\n      params.batch_norm_offset,\r\n      params.batch_norm_scale,\r\n      epsilon\r\n    )\r\n    return tf.clipByValue(out, 0, 6)\r\n\r\n  })\r\n}\r\n\r\nfunction getStridesForLayerIdx(layerIdx: number): [number, number] {\r\n  return [2, 4, 6, 12].some(idx => idx === layerIdx) ? [2, 2] : [1, 1]\r\n}\r\n\r\nexport function mobileNetV1(x: tf.Tensor4D, params: MobileNetV1.Params) {\r\n  return tf.tidy(() => {\r\n\r\n    let conv11 = null\r\n    let out = pointwiseConvLayer(x, params.conv_0, [2, 2])\r\n\r\n    const convPairParams = [\r\n      params.conv_1,\r\n      params.conv_2,\r\n      params.conv_3,\r\n      params.conv_4,\r\n      params.conv_5,\r\n      params.conv_6,\r\n      params.conv_7,\r\n      params.conv_8,\r\n      params.conv_9,\r\n      params.conv_10,\r\n      params.conv_11,\r\n      params.conv_12,\r\n      params.conv_13\r\n    ]\r\n\r\n    convPairParams.forEach((param, i) => {\r\n      const layerIdx = i + 1\r\n      const depthwiseConvStrides = getStridesForLayerIdx(layerIdx)\r\n      out = depthwiseConvLayer(out, param.depthwise_conv, depthwiseConvStrides)\r\n      out = pointwiseConvLayer(out, param.pointwise_conv, [1, 1])\r\n      if (layerIdx === 11) {\r\n        conv11 = out\r\n      }\r\n    })\r\n\r\n    if (conv11 === null) {\r\n      throw new Error('mobileNetV1 - output of conv layer 11 is null')\r\n    }\r\n\r\n    return {\r\n      out,\r\n      conv11: conv11 as any\r\n    }\r\n\r\n  })\r\n}"],"names":[],"mappings":";;;;AAAA,OAAO,KAAK,EAAE,MAAM,uBAAuB,CAAC;AAE5C,OAAO,EAAE,kBAAkB,EAAE,MAAM,sBAAsB,CAAC;;;AAG1D,IAAM,OAAO,GAAG,qBAAqB,CAAA;AAErC,SAAS,kBAAkB,CACzB,CAAc,EACd,MAAuC,EACvC,OAAyB;IAEzB,OAAO,EAAE,CAAC,iLAAI,CAAC;QAEb,IAAI,GAAG,GAAG,EAAE,CAAC,4LAAe,CAAC,CAAC,EAAE,MAAM,CAAC,OAAO,EAAE,OAAO,EAAE,MAAM,CAAC,CAAA;QAChE,GAAG,GAAG,EAAE,CAAC,sLAAS,CAChB,GAAG,EACH,MAAM,CAAC,eAAe,EACtB,MAAM,CAAC,mBAAmB,EAC1B,MAAM,CAAC,iBAAiB,EACxB,MAAM,CAAC,gBAAgB,EACvB,OAAO,CACR,CAAA;QACD,OAAO,EAAE,CAAC,wLAAW,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,CAAA;IAElC,CAAC,CAAC,CAAA;AACJ,CAAC;AAED,SAAS,qBAAqB,CAAC,QAAgB;IAC7C,OAAO;QAAC,CAAC;QAAE,CAAC;QAAE,CAAC;QAAE,EAAE;KAAC,CAAC,IAAI,CAAC,SAAA,GAAG;QAAI,OAAA,GAAG,KAAK,QAAQ;IAAhB,CAAgB,CAAC,CAAC,CAAC,CAAC;QAAC,CAAC;QAAE,CAAC;KAAC,CAAC,CAAC,CAAC;QAAC,CAAC;QAAE,CAAC;KAAC,CAAA;AACtE,CAAC;AAEK,SAAU,WAAW,CAAC,CAAc,EAAE,MAA0B;IACpE,OAAO,EAAE,CAAC,iLAAI,CAAC;QAEb,IAAI,MAAM,GAAG,IAAI,CAAA;QACjB,IAAI,GAAG,OAAG,kNAAkB,EAAC,CAAC,EAAE,MAAM,CAAC,MAAM,EAAE;YAAC,CAAC;YAAE,CAAC;SAAC,CAAC,CAAA;QAEtD,IAAM,cAAc,GAAG;YACrB,MAAM,CAAC,MAAM;YACb,MAAM,CAAC,MAAM;YACb,MAAM,CAAC,MAAM;YACb,MAAM,CAAC,MAAM;YACb,MAAM,CAAC,MAAM;YACb,MAAM,CAAC,MAAM;YACb,MAAM,CAAC,MAAM;YACb,MAAM,CAAC,MAAM;YACb,MAAM,CAAC,MAAM;YACb,MAAM,CAAC,OAAO;YACd,MAAM,CAAC,OAAO;YACd,MAAM,CAAC,OAAO;YACd,MAAM,CAAC,OAAO;SACf,CAAA;QAED,cAAc,CAAC,OAAO,CAAC,SAAC,KAAK,EAAE,CAAC;YAC9B,IAAM,QAAQ,GAAG,CAAC,GAAG,CAAC,CAAA;YACtB,IAAM,oBAAoB,GAAG,qBAAqB,CAAC,QAAQ,CAAC,CAAA;YAC5D,GAAG,GAAG,kBAAkB,CAAC,GAAG,EAAE,KAAK,CAAC,cAAc,EAAE,oBAAoB,CAAC,CAAA;YACzE,GAAG,OAAG,kNAAkB,EAAC,GAAG,EAAE,KAAK,CAAC,cAAc,EAAE;gBAAC,CAAC;gBAAE,CAAC;aAAC,CAAC,CAAA;YAC3D,IAAI,QAAQ,KAAK,EAAE,EAAE;gBACnB,MAAM,GAAG,GAAG,CAAA;aACb;QACH,CAAC,CAAC,CAAA;QAEF,IAAI,MAAM,KAAK,IAAI,EAAE;YACnB,MAAM,IAAI,KAAK,CAAC,+CAA+C,CAAC,CAAA;SACjE;QAED,OAAO;YACL,GAAG,EAAA,GAAA;YACH,MAAM,EAAE,MAAa;SACtB,CAAA;IAEH,CAAC,CAAC,CAAA;AACJ,CAAC"}},
    {"offset": {"line": 3580, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/ssdMobilenetv1/nonMaxSuppression.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/ssdMobilenetv1/nonMaxSuppression.ts"],"sourcesContent":["import * as tf from '@tensorflow/tfjs-core'\r\n\r\nexport function nonMaxSuppression(\r\n  boxes: tf.Tensor2D,\r\n  scores: number[],\r\n  maxOutputSize: number,\r\n  iouThreshold: number,\r\n  scoreThreshold: number\r\n): number[] {\r\n\r\n  const numBoxes = boxes.shape[0]\r\n  const outputSize = Math.min(\r\n    maxOutputSize,\r\n    numBoxes\r\n  )\r\n\r\n  const candidates = scores\r\n    .map((score, boxIndex) => ({ score, boxIndex }))\r\n    .filter(c => c.score > scoreThreshold)\r\n    .sort((c1, c2) => c2.score - c1.score)\r\n\r\n  const suppressFunc = (x: number) => x <= iouThreshold ? 1 : 0\r\n\r\n  const selected: number[] = []\r\n\r\n  candidates.forEach(c => {\r\n    if (selected.length >= outputSize) {\r\n      return\r\n    }\r\n    const originalScore = c.score\r\n\r\n    for (let j = selected.length - 1; j >= 0; --j) {\r\n      const iou = IOU(boxes, c.boxIndex, selected[j])\r\n      if (iou === 0.0) {\r\n        continue\r\n      }\r\n      c.score *= suppressFunc(iou)\r\n      if (c.score <= scoreThreshold) {\r\n        break\r\n      }\r\n    }\r\n\r\n    if (originalScore === c.score) {\r\n      selected.push(c.boxIndex)\r\n    }\r\n  })\r\n\r\n  return selected\r\n}\r\n\r\nfunction IOU(boxes: tf.Tensor2D, i: number, j: number) {\r\n  const boxesData = boxes.arraySync()\r\n  const yminI = Math.min(boxesData[i][0], boxesData[i][2])\r\n  const xminI = Math.min(boxesData[i][1], boxesData[i][3])\r\n  const ymaxI = Math.max(boxesData[i][0], boxesData[i][2])\r\n  const xmaxI = Math.max(boxesData[i][1], boxesData[i][3])\r\n  const yminJ = Math.min(boxesData[j][0], boxesData[j][2])\r\n  const xminJ = Math.min(boxesData[j][1], boxesData[j][3])\r\n  const ymaxJ = Math.max(boxesData[j][0], boxesData[j][2])\r\n  const xmaxJ = Math.max(boxesData[j][1], boxesData[j][3])\r\n  const areaI = (ymaxI - yminI) * (xmaxI - xminI)\r\n  const areaJ = (ymaxJ - yminJ) * (xmaxJ - xminJ)\r\n  if (areaI <= 0 || areaJ <= 0) {\r\n    return 0.0\r\n  }\r\n  const intersectionYmin = Math.max(yminI, yminJ)\r\n  const intersectionXmin = Math.max(xminI, xminJ)\r\n  const intersectionYmax = Math.min(ymaxI, ymaxJ)\r\n  const intersectionXmax = Math.min(xmaxI, xmaxJ)\r\n  const intersectionArea =\r\n      Math.max(intersectionYmax - intersectionYmin, 0.0) *\r\n      Math.max(intersectionXmax - intersectionXmin, 0.0)\r\n  return intersectionArea / (areaI + areaJ - intersectionArea)\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3648, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/ssdMobilenetv1/outputLayer.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/ssdMobilenetv1/outputLayer.ts"],"sourcesContent":["import * as tf from '@tensorflow/tfjs-core';\r\n\r\nimport { OutputLayerParams } from './types';\r\n\r\n\r\nfunction getCenterCoordinatesAndSizesLayer(x: tf.Tensor2D) {\r\n  const vec = tf.unstack(tf.transpose(x, [1, 0]))\r\n\r\n  const sizes = [\r\n    tf.sub(vec[2], vec[0]),\r\n    tf.sub(vec[3], vec[1])\r\n  ]\r\n\r\n  const centers = [\r\n    tf.add(vec[0], tf.div(sizes[0], tf.scalar(2))),\r\n    tf.add(vec[1], tf.div(sizes[1], tf.scalar(2)))\r\n  ]\r\n\r\n  return {\r\n    sizes,\r\n    centers\r\n  }\r\n}\r\n\r\nfunction decodeBoxesLayer(x0: tf.Tensor2D, x1: tf.Tensor2D) {\r\n  const {\r\n    sizes,\r\n    centers\r\n  } = getCenterCoordinatesAndSizesLayer(x0)\r\n\r\n  const vec = tf.unstack(tf.transpose(x1, [1, 0]))\r\n\r\n  const div0_out = tf.div(tf.mul(tf.exp(tf.div(vec[2], tf.scalar(5))), sizes[0]), tf.scalar(2))\r\n  const add0_out = tf.add(tf.mul(tf.div(vec[0], tf.scalar(10)), sizes[0]), centers[0])\r\n\r\n  const div1_out = tf.div(tf.mul(tf.exp(tf.div(vec[3], tf.scalar(5))), sizes[1]), tf.scalar(2))\r\n  const add1_out = tf.add(tf.mul(tf.div(vec[1], tf.scalar(10)), sizes[1]), centers[1])\r\n\r\n  return tf.transpose(\r\n    tf.stack([\r\n      tf.sub(add0_out, div0_out),\r\n      tf.sub(add1_out, div1_out),\r\n      tf.add(add0_out, div0_out),\r\n      tf.add(add1_out, div1_out)\r\n    ]),\r\n    [1, 0]\r\n  )\r\n}\r\n\r\nexport function outputLayer(\r\n  boxPredictions: tf.Tensor4D,\r\n  classPredictions: tf.Tensor4D,\r\n  params: OutputLayerParams\r\n) {\r\n  return tf.tidy(() => {\r\n\r\n    const batchSize = boxPredictions.shape[0]\r\n\r\n    let boxes = decodeBoxesLayer(\r\n      tf.reshape(tf.tile(params.extra_dim, [batchSize, 1, 1]), [-1, 4]) as tf.Tensor2D,\r\n      tf.reshape(boxPredictions, [-1, 4]) as tf.Tensor2D\r\n    )\r\n    boxes = tf.reshape(\r\n      boxes,\r\n      [batchSize, (boxes.shape[0] / batchSize), 4]\r\n    )\r\n\r\n    const scoresAndClasses = tf.sigmoid(tf.slice(classPredictions, [0, 0, 1], [-1, -1, -1]))\r\n    let scores = tf.slice(scoresAndClasses, [0, 0, 0], [-1, -1, 1]) as tf.Tensor\r\n\r\n    scores = tf.reshape(\r\n      scores,\r\n      [batchSize, scores.shape[1] as number]\r\n    )\r\n\r\n    const boxesByBatch = tf.unstack(boxes) as tf.Tensor2D[]\r\n    const scoresByBatch = tf.unstack(scores) as tf.Tensor1D[]\r\n\r\n    return {\r\n      boxes: boxesByBatch,\r\n      scores: scoresByBatch\r\n    }\r\n\r\n  })\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3745, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/ssdMobilenetv1/boxPredictionLayer.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/ssdMobilenetv1/boxPredictionLayer.ts"],"sourcesContent":["import * as tf from '@tensorflow/tfjs-core';\r\nimport { TfjsImageRecognitionBase } from 'tfjs-image-recognition-base';\r\n\r\nimport { BoxPredictionParams } from './types';\r\n\r\n\r\nexport function boxPredictionLayer(\r\n  x: tf.Tensor4D,\r\n  params: BoxPredictionParams\r\n) {\r\n  return tf.tidy(() => {\r\n\r\n    const batchSize = x.shape[0]\r\n\r\n    const boxPredictionEncoding = tf.reshape(\r\n      TfjsImageRecognitionBase.convLayer(x, params.box_encoding_predictor),\r\n      [batchSize, -1, 1, 4]\r\n    )\r\n    const classPrediction = tf.reshape(\r\n      TfjsImageRecognitionBase.convLayer(x, params.class_predictor),\r\n      [batchSize, -1, 3]\r\n    )\r\n\r\n    return {\r\n      boxPredictionEncoding,\r\n      classPrediction\r\n    }\r\n  })\r\n}"],"names":[],"mappings":";;;;AAAA,OAAO,KAAK,EAAE,MAAM,uBAAuB,CAAC;;AAC5C,OAAO,EAAE,wBAAwB,EAAE,MAAM,6BAA6B,CAAC;;;AAKjE,SAAU,kBAAkB,CAChC,CAAc,EACd,MAA2B;IAE3B,OAAO,EAAE,CAAC,iLAAI,CAAC;QAEb,IAAM,SAAS,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAA;QAE5B,IAAM,qBAAqB,GAAG,EAAE,CAAC,oLAAO,CACtC,mRAAwB,CAAC,SAAS,CAAC,CAAC,EAAE,MAAM,CAAC,sBAAsB,CAAC,EACpE;YAAC,SAAS;YAAE,CAAC,CAAC;YAAE,CAAC;YAAE,CAAC;SAAC,CACtB,CAAA;QACD,IAAM,eAAe,GAAG,EAAE,CAAC,oLAAO,CAChC,mRAAwB,CAAC,SAAS,CAAC,CAAC,EAAE,MAAM,CAAC,eAAe,CAAC,EAC7D;YAAC,SAAS;YAAE,CAAC,CAAC;YAAE,CAAC;SAAC,CACnB,CAAA;QAED,OAAO;YACL,qBAAqB,EAAA,qBAAA;YACrB,eAAe,EAAA,eAAA;SAChB,CAAA;IACH,CAAC,CAAC,CAAA;AACJ,CAAC"}},
    {"offset": {"line": 3778, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/ssdMobilenetv1/predictionLayer.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/ssdMobilenetv1/predictionLayer.ts"],"sourcesContent":["import * as tf from '@tensorflow/tfjs-core';\r\n\r\nimport { boxPredictionLayer } from './boxPredictionLayer';\r\nimport { pointwiseConvLayer } from './pointwiseConvLayer';\r\nimport { PredictionLayerParams } from './types';\r\n\r\nexport function predictionLayer(\r\n  x: tf.Tensor4D,\r\n  conv11: tf.Tensor4D,\r\n  params: PredictionLayerParams\r\n) {\r\n  return tf.tidy(() => {\r\n\r\n    const conv0 = pointwiseConvLayer(x, params.conv_0, [1, 1])\r\n    const conv1 = pointwiseConvLayer(conv0, params.conv_1, [2, 2])\r\n    const conv2 = pointwiseConvLayer(conv1, params.conv_2, [1, 1])\r\n    const conv3 = pointwiseConvLayer(conv2, params.conv_3, [2, 2])\r\n    const conv4 = pointwiseConvLayer(conv3, params.conv_4, [1, 1])\r\n    const conv5 = pointwiseConvLayer(conv4, params.conv_5, [2, 2])\r\n    const conv6 = pointwiseConvLayer(conv5, params.conv_6, [1, 1])\r\n    const conv7 = pointwiseConvLayer(conv6, params.conv_7, [2, 2])\r\n\r\n    const boxPrediction0 = boxPredictionLayer(conv11, params.box_predictor_0)\r\n    const boxPrediction1 = boxPredictionLayer(x, params.box_predictor_1)\r\n    const boxPrediction2 = boxPredictionLayer(conv1, params.box_predictor_2)\r\n    const boxPrediction3 = boxPredictionLayer(conv3, params.box_predictor_3)\r\n    const boxPrediction4 = boxPredictionLayer(conv5, params.box_predictor_4)\r\n    const boxPrediction5 = boxPredictionLayer(conv7, params.box_predictor_5)\r\n\r\n    const boxPredictions = tf.concat([\r\n      boxPrediction0.boxPredictionEncoding,\r\n      boxPrediction1.boxPredictionEncoding,\r\n      boxPrediction2.boxPredictionEncoding,\r\n      boxPrediction3.boxPredictionEncoding,\r\n      boxPrediction4.boxPredictionEncoding,\r\n      boxPrediction5.boxPredictionEncoding\r\n    ], 1) as tf.Tensor4D\r\n\r\n    const classPredictions = tf.concat([\r\n      boxPrediction0.classPrediction,\r\n      boxPrediction1.classPrediction,\r\n      boxPrediction2.classPrediction,\r\n      boxPrediction3.classPrediction,\r\n      boxPrediction4.classPrediction,\r\n      boxPrediction5.classPrediction\r\n    ], 1) as tf.Tensor4D\r\n\r\n    return {\r\n      boxPredictions,\r\n      classPredictions\r\n    }\r\n  })\r\n}"],"names":[],"mappings":";;;;AAAA,OAAO,KAAK,EAAE,MAAM,uBAAuB,CAAC;AAE5C,OAAO,EAAE,kBAAkB,EAAE,MAAM,sBAAsB,CAAC;AAC1D,OAAO,EAAE,kBAAkB,EAAE,MAAM,sBAAsB,CAAC;;;;AAGpD,SAAU,eAAe,CAC7B,CAAc,EACd,MAAmB,EACnB,MAA6B;IAE7B,OAAO,EAAE,CAAC,iLAAI,CAAC;QAEb,IAAM,KAAK,OAAG,kNAAkB,EAAC,CAAC,EAAE,MAAM,CAAC,MAAM,EAAE;YAAC,CAAC;YAAE,CAAC;SAAC,CAAC,CAAA;QAC1D,IAAM,KAAK,OAAG,kNAAkB,EAAC,KAAK,EAAE,MAAM,CAAC,MAAM,EAAE;YAAC,CAAC;YAAE,CAAC;SAAC,CAAC,CAAA;QAC9D,IAAM,KAAK,OAAG,kNAAkB,EAAC,KAAK,EAAE,MAAM,CAAC,MAAM,EAAE;YAAC,CAAC;YAAE,CAAC;SAAC,CAAC,CAAA;QAC9D,IAAM,KAAK,OAAG,kNAAkB,EAAC,KAAK,EAAE,MAAM,CAAC,MAAM,EAAE;YAAC,CAAC;YAAE,CAAC;SAAC,CAAC,CAAA;QAC9D,IAAM,KAAK,OAAG,kNAAkB,EAAC,KAAK,EAAE,MAAM,CAAC,MAAM,EAAE;YAAC,CAAC;YAAE,CAAC;SAAC,CAAC,CAAA;QAC9D,IAAM,KAAK,OAAG,kNAAkB,EAAC,KAAK,EAAE,MAAM,CAAC,MAAM,EAAE;YAAC,CAAC;YAAE,CAAC;SAAC,CAAC,CAAA;QAC9D,IAAM,KAAK,OAAG,kNAAkB,EAAC,KAAK,EAAE,MAAM,CAAC,MAAM,EAAE;YAAC,CAAC;YAAE,CAAC;SAAC,CAAC,CAAA;QAC9D,IAAM,KAAK,OAAG,kNAAkB,EAAC,KAAK,EAAE,MAAM,CAAC,MAAM,EAAE;YAAC,CAAC;YAAE,CAAC;SAAC,CAAC,CAAA;QAE9D,IAAM,cAAc,OAAG,kNAAkB,EAAC,MAAM,EAAE,MAAM,CAAC,eAAe,CAAC,CAAA;QACzE,IAAM,cAAc,OAAG,kNAAkB,EAAC,CAAC,EAAE,MAAM,CAAC,eAAe,CAAC,CAAA;QACpE,IAAM,cAAc,OAAG,kNAAkB,EAAC,KAAK,EAAE,MAAM,CAAC,eAAe,CAAC,CAAA;QACxE,IAAM,cAAc,OAAG,kNAAkB,EAAC,KAAK,EAAE,MAAM,CAAC,eAAe,CAAC,CAAA;QACxE,IAAM,cAAc,OAAG,kNAAkB,EAAC,KAAK,EAAE,MAAM,CAAC,eAAe,CAAC,CAAA;QACxE,IAAM,cAAc,OAAG,kNAAkB,EAAC,KAAK,EAAE,MAAM,CAAC,eAAe,CAAC,CAAA;QAExE,IAAM,cAAc,GAAG,EAAE,CAAC,mLAAM,CAAC;YAC/B,cAAc,CAAC,qBAAqB;YACpC,cAAc,CAAC,qBAAqB;YACpC,cAAc,CAAC,qBAAqB;YACpC,cAAc,CAAC,qBAAqB;YACpC,cAAc,CAAC,qBAAqB;YACpC,cAAc,CAAC,qBAAqB;SACrC,EAAE,CAAC,CAAgB,CAAA;QAEpB,IAAM,gBAAgB,GAAG,EAAE,CAAC,mLAAM,CAAC;YACjC,cAAc,CAAC,eAAe;YAC9B,cAAc,CAAC,eAAe;YAC9B,cAAc,CAAC,eAAe;YAC9B,cAAc,CAAC,eAAe;YAC9B,cAAc,CAAC,eAAe;YAC9B,cAAc,CAAC,eAAe;SAC/B,EAAE,CAAC,CAAgB,CAAA;QAEpB,OAAO;YACL,cAAc,EAAA,cAAA;YACd,gBAAgB,EAAA,gBAAA;SACjB,CAAA;IACH,CAAC,CAAC,CAAA;AACJ,CAAC"}},
    {"offset": {"line": 3854, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/ssdMobilenetv1/SsdMobilenetv1Options.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/ssdMobilenetv1/SsdMobilenetv1Options.ts"],"sourcesContent":["export interface ISsdMobilenetv1Options {\r\n  minConfidence?: number\r\n  maxResults?: number\r\n}\r\n\r\nexport class SsdMobilenetv1Options {\r\n  protected _name: string = 'SsdMobilenetv1Options'\r\n\r\n  private _minConfidence: number\r\n  private _maxResults: number\r\n\r\n  constructor({ minConfidence, maxResults }: ISsdMobilenetv1Options = {}) {\r\n    this._minConfidence = minConfidence || 0.5\r\n    this._maxResults = maxResults || 100\r\n\r\n    if (typeof this._minConfidence !== 'number' || this._minConfidence <= 0 || this._minConfidence >= 1) {\r\n      throw new Error(`${this._name} - expected minConfidence to be a number between 0 and 1`)\r\n    }\r\n\r\n    if (typeof this._maxResults !== 'number') {\r\n      throw new Error(`${this._name} - expected maxResults to be a number`)\r\n    }\r\n  }\r\n\r\n  get minConfidence(): number { return this._minConfidence }\r\n  get maxResults(): number { return this._maxResults }\r\n}"],"names":[],"mappings":";;;;AAKA,IAAA,wBAAA;IAME,SAAA,sBAAY,EAA0D;YAA1D,KAAA,OAAA,KAAA,IAAA,CAAA,IAAA,EAA0D,EAAxD,gBAAA,GAAA,aAAa,EAAE,aAAA,GAAA,UAAU;QAL7B,IAAA,CAAA,KAAK,GAAW,uBAAuB,CAAA;QAM/C,IAAI,CAAC,cAAc,GAAG,aAAa,IAAI,GAAG,CAAA;QAC1C,IAAI,CAAC,WAAW,GAAG,UAAU,IAAI,GAAG,CAAA;QAEpC,IAAI,OAAO,IAAI,CAAC,cAAc,KAAK,QAAQ,IAAI,IAAI,CAAC,cAAc,IAAI,CAAC,IAAI,IAAI,CAAC,cAAc,IAAI,CAAC,EAAE;YACnG,MAAM,IAAI,KAAK,CAAI,IAAI,CAAC,KAAK,GAAA,0DAA0D,CAAC,CAAA;SACzF;QAED,IAAI,OAAO,IAAI,CAAC,WAAW,KAAK,QAAQ,EAAE;YACxC,MAAM,IAAI,KAAK,CAAI,IAAI,CAAC,KAAK,GAAA,uCAAuC,CAAC,CAAA;SACtE;IACH,CAAC;IAED,OAAA,cAAA,CAAI,sBAAA,SAAA,EAAA,eAAa,EAAA;aAAjB;YAA8B,OAAO,IAAI,CAAC,cAAc,CAAA;QAAC,CAAC;;;OAAA;IAC1D,OAAA,cAAA,CAAI,sBAAA,SAAA,EAAA,YAAU,EAAA;aAAd;YAA2B,OAAO,IAAI,CAAC,WAAW,CAAA;QAAC,CAAC;;;OAAA;IACtD,OAAA,qBAAC;AAAD,CAAC,AArBD,IAqBC"}},
    {"offset": {"line": 3893, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/ssdMobilenetv1/SsdMobilenetv1.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/ssdMobilenetv1/SsdMobilenetv1.ts"],"sourcesContent":["import * as tf from '@tensorflow/tfjs-core';\r\nimport { NetInput, NeuralNetwork, Rect, TNetInput, toNetInput } from 'tfjs-image-recognition-base';\r\n\r\nimport { FaceDetection } from '../classes/FaceDetection';\r\nimport { extractParams } from './extractParams';\r\nimport { extractParamsFromWeigthMap } from './extractParamsFromWeigthMap';\r\nimport { mobileNetV1 } from './mobileNetV1';\r\nimport { nonMaxSuppression } from './nonMaxSuppression';\r\nimport { outputLayer } from './outputLayer';\r\nimport { predictionLayer } from './predictionLayer';\r\nimport { ISsdMobilenetv1Options, SsdMobilenetv1Options } from './SsdMobilenetv1Options';\r\nimport { NetParams } from './types';\r\n\r\n\r\nexport class SsdMobilenetv1 extends NeuralNetwork<NetParams> {\r\n\r\n  constructor() {\r\n    super('SsdMobilenetv1')\r\n  }\r\n\r\n  public forwardInput(input: NetInput) {\r\n\r\n    const { params } = this\r\n\r\n    if (!params) {\r\n      throw new Error('SsdMobilenetv1 - load model before inference')\r\n    }\r\n\r\n    return tf.tidy(() => {\r\n      const batchTensor = input.toBatchTensor(512, false).toFloat()\r\n\r\n      const x = tf.sub(tf.mul(batchTensor, tf.scalar(0.007843137718737125)), tf.scalar(1)) as tf.Tensor4D\r\n      const features = mobileNetV1(x, params.mobilenetv1)\r\n\r\n      const {\r\n        boxPredictions,\r\n        classPredictions\r\n      } = predictionLayer(features.out, features.conv11, params.prediction_layer)\r\n\r\n      return outputLayer(boxPredictions, classPredictions, params.output_layer)\r\n    })\r\n  }\r\n\r\n  public async forward(input: TNetInput) {\r\n    return this.forwardInput(await toNetInput(input))\r\n  }\r\n\r\n  public async locateFaces(\r\n    input: TNetInput,\r\n    options: ISsdMobilenetv1Options = {}\r\n  ): Promise<FaceDetection[]> {\r\n\r\n    const { maxResults, minConfidence } = new SsdMobilenetv1Options(options)\r\n\r\n    const netInput = await toNetInput(input)\r\n\r\n    const {\r\n      boxes: _boxes,\r\n      scores: _scores\r\n    } = this.forwardInput(netInput)\r\n\r\n\r\n    // TODO batches\r\n    const boxes = _boxes[0]\r\n    const scores = _scores[0]\r\n    for (let i = 1; i < _boxes.length; i++) {\r\n      _boxes[i].dispose()\r\n      _scores[i].dispose()\r\n    }\r\n\r\n    // TODO find a better way to filter by minConfidence\r\n    const scoresData = Array.from(await scores.data())\r\n\r\n    const iouThreshold = 0.5\r\n    const indices = nonMaxSuppression(\r\n      boxes,\r\n      scoresData,\r\n      maxResults,\r\n      iouThreshold,\r\n      minConfidence\r\n    )\r\n\r\n    const reshapedDims = netInput.getReshapedInputDimensions(0)\r\n    const inputSize = netInput.inputSize as number\r\n    const padX = inputSize / reshapedDims.width\r\n    const padY = inputSize / reshapedDims.height\r\n\r\n    const boxesData = boxes.arraySync()\r\n    const results = indices\r\n      .map(idx => {\r\n        const [top, bottom] = [\r\n          Math.max(0, boxesData[idx][0]),\r\n          Math.min(1.0, boxesData[idx][2])\r\n        ].map(val => val * padY)\r\n        const [left, right] = [\r\n          Math.max(0, boxesData[idx][1]),\r\n          Math.min(1.0, boxesData[idx][3])\r\n        ].map(val => val * padX)\r\n        return new FaceDetection(\r\n          scoresData[idx],\r\n          new Rect(\r\n            left,\r\n            top,\r\n            right - left,\r\n            bottom - top\r\n          ),\r\n          {\r\n            height: netInput.getInputHeight(0),\r\n            width: netInput.getInputWidth(0)\r\n          }\r\n        )\r\n      })\r\n\r\n    boxes.dispose()\r\n    scores.dispose()\r\n\r\n    return results\r\n  }\r\n\r\n  protected getDefaultModelName(): string {\r\n    return 'ssd_mobilenetv1_model'\r\n  }\r\n\r\n  protected extractParamsFromWeigthMap(weightMap: tf.NamedTensorMap) {\r\n    return extractParamsFromWeigthMap(weightMap)\r\n  }\r\n\r\n  protected extractParams(weights: Float32Array) {\r\n    return extractParams(weights)\r\n  }\r\n}"],"names":[],"mappings":";;;;;AAAA,OAAO,KAAK,EAAE,MAAM,uBAAuB,CAAC;;;;AAC5C,OAAO,EAAY,aAAa,EAAE,IAAI,EAAa,UAAU,EAAE,MAAM,6BAA6B,CAAC;AAEnG,OAAO,EAAE,aAAa,EAAE,MAAM,0BAA0B,CAAC;AACzD,OAAO,EAAE,aAAa,EAAE,MAAM,iBAAiB,CAAC;AAChD,OAAO,EAAE,0BAA0B,EAAE,MAAM,8BAA8B,CAAC;AAC1E,OAAO,EAAE,WAAW,EAAE,MAAM,eAAe,CAAC;AAC5C,OAAO,EAAE,iBAAiB,EAAE,MAAM,qBAAqB,CAAC;AACxD,OAAO,EAAE,WAAW,EAAE,MAAM,eAAe,CAAC;AAC5C,OAAO,EAAE,eAAe,EAAE,MAAM,mBAAmB,CAAC;AACpD,OAAO,EAA0B,qBAAqB,EAAE,MAAM,yBAAyB,CAAC;;;;;;;;;;;;AAIxF,IAAA,iBAAA,SAAA,MAAA;IAAoC,0LAAA,CAAA,gBAAA,QAAwB;IAE1D,SAAA;eACE,OAAA,IAAA,CAAA,IAAA,EAAM,gBAAgB,CAAC,IAAA,IAAA;IACzB,CAAC;IAEM,eAAA,SAAA,CAAA,YAAY,GAAnB,SAAoB,KAAe;QAEzB,IAAA,SAAA,IAAA,CAAA,MAAM,CAAS;QAEvB,IAAI,CAAC,MAAM,EAAE;YACX,MAAM,IAAI,KAAK,CAAC,8CAA8C,CAAC,CAAA;SAChE;QAED,OAAO,EAAE,CAAC,iLAAI,CAAC;YACb,IAAM,WAAW,GAAG,KAAK,CAAC,aAAa,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC,OAAO,EAAE,CAAA;YAE7D,IAAM,CAAC,GAAG,EAAE,CAAC,gLAAG,CAAC,EAAE,CAAC,gLAAG,CAAC,WAAW,EAAE,EAAE,CAAC,mLAAM,CAAC,oBAAoB,CAAC,CAAC,EAAE,EAAE,CAAC,mLAAM,CAAC,CAAC,CAAC,CAAgB,CAAA;YACnG,IAAM,QAAQ,OAAG,oMAAW,EAAC,CAAC,EAAE,MAAM,CAAC,WAAW,CAAC,CAAA;YAE7C,IAAA,KAAA,IAAA,4MAAA,EAAA,SAAA,GAAA,EAAA,SAAA,MAAA,EAAA,OAAA,gBAAA,CAGqE,EAFzE,iBAAA,GAAA,cAAc,EACd,mBAAA,GAAA,gBACyE,CAAA;YAE3E,WAAO,oMAAW,EAAC,cAAc,EAAE,gBAAgB,EAAE,MAAM,CAAC,YAAY,CAAC,CAAA;QAC3E,CAAC,CAAC,CAAA;IACJ,CAAC;IAEY,eAAA,SAAA,CAAA,OAAO,GAApB,SAAqB,KAAgB;;;;;;wBAC5B,KAAA,IAAI,CAAC,YAAY,CAAA;wBAAC,OAAA;4BAAA,EAAA,OAAA;gCAAM,0MAAU,EAAC,KAAK,CAAC;yBAAA,CAAA;;wBAAhD,OAAA;4BAAA,EAAA,QAAA;4BAAO,GAAA,KAAA,CAAA,IAAI,EAAA;gCAAc,GAAA,IAAA,EAAuB;6BAAA,CAAC;yBAAA,CAAA;;;;KAClD;IAEY,eAAA,SAAA,CAAA,WAAW,GAAxB,SACE,KAAgB,EAChB,OAAoC;QAApC,IAAA,YAAA,KAAA,GAAA;YAAA,UAAA,CAAA,CAAoC;QAAA;;;;;;wBAG9B,KAAgC,IAAI,wNAAqB,CAAC,OAAO,CAAC,EAAhE,UAAU,GAAA,GAAA,UAAA,EAAE,aAAa,GAAA,GAAA,aAAA,CAAuC;wBAEvD,OAAA;4BAAA,EAAA,OAAA;gCAAM,0MAAU,EAAC,KAAK,CAAC;yBAAA,CAAA;;wBAAlC,QAAQ,GAAG,GAAA,IAAA,EAAuB;wBAElC,KAGF,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,EAFtB,MAAM,GAAA,GAAA,KAAA,EACL,OAAO,GAAA,GAAA,MAAA,CACc;wBAIzB,KAAK,GAAG,MAAM,CAAC,CAAC,CAAC,CAAA;wBACjB,MAAM,GAAG,OAAO,CAAC,CAAC,CAAC,CAAA;wBACzB,IAAS,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,CAAE;4BACtC,MAAM,CAAC,CAAC,CAAC,CAAC,OAAO,EAAE,CAAA;4BACnB,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO,EAAE,CAAA;yBACrB;wBAGkB,KAAA,CAAA,KAAA,KAAK,CAAA,CAAC,IAAI,CAAA;wBAAC,OAAA;4BAAA,EAAA,OAAA;4BAAM,MAAM,CAAC,IAAI,EAAE;yBAAA,CAAA;;wBAA3C,UAAU,GAAG,GAAA,KAAA,CAAA,IAAA;4BAAW,GAAA,IAAA,EAAmB;yBAAA,CAAC;wBAE5C,YAAY,GAAG,GAAG,CAAA;wBAClB,OAAO,OAAG,gNAAiB,EAC/B,KAAK,EACL,UAAU,EACV,UAAU,EACV,YAAY,EACZ,aAAa,CACd,CAAA;wBAEK,YAAY,GAAG,QAAQ,CAAC,0BAA0B,CAAC,CAAC,CAAC,CAAA;wBACrD,SAAS,GAAG,QAAQ,CAAC,SAAmB,CAAA;wBACxC,IAAI,GAAG,SAAS,GAAG,YAAY,CAAC,KAAK,CAAA;wBACrC,IAAI,GAAG,SAAS,GAAG,YAAY,CAAC,MAAM,CAAA;wBAEtC,SAAS,GAAG,KAAK,CAAC,SAAS,EAAE,CAAA;wBAC7B,OAAO,GAAG,OAAO,CACpB,GAAG,CAAC,SAAA,GAAG;4BACA,IAAA,KAAA;;;;;8BAGkB,EAHjB,MAAA,EAAA,CAAA,EAAG,EAAE,SAAA,EAAA,CAAA,EAGY,CAAA;4BAClB,IAAA,KAAA;;;;;8BAGkB,EAHjB,OAAA,EAAA,CAAA,EAAI,EAAE,QAAA,EAAA,CAAA,EAGW,CAAA;4BACxB,OAAO,IAAI,iMAAa,CACtB,UAAU,CAAC,GAAG,CAAC,EACf,IAAI,kMAAI,CACN,IAAI,EACJ,GAAG,EACH,KAAK,GAAG,IAAI,EACZ,MAAM,GAAG,GAAG,CACb,EACD;gCACE,MAAM,EAAE,QAAQ,CAAC,cAAc,CAAC,CAAC,CAAC;gCAClC,KAAK,EAAE,QAAQ,CAAC,aAAa,CAAC,CAAC,CAAC;6BACjC,CACF,CAAA;wBACH,CAAC,CAAC,CAAA;wBAEJ,KAAK,CAAC,OAAO,EAAE,CAAA;wBACf,MAAM,CAAC,OAAO,EAAE,CAAA;wBAEhB,OAAA;4BAAA,EAAA,QAAA;4BAAO,OAAO;yBAAA,CAAA;;;;KACf;IAES,eAAA,SAAA,CAAA,mBAAmB,GAA7B;QACE,OAAO,uBAAuB,CAAA;IAChC,CAAC;IAES,eAAA,SAAA,CAAA,0BAA0B,GAApC,SAAqC,SAA4B;QAC/D,WAAO,kOAA0B,EAAC,SAAS,CAAC,CAAA;IAC9C,CAAC;IAES,eAAA,SAAA,CAAA,aAAa,GAAvB,SAAwB,OAAqB;QAC3C,WAAO,wMAAa,EAAC,OAAO,CAAC,CAAA;IAC/B,CAAC;IACH,OAAA,cAAC;AAAD,CAAC,AApHD,CAAoC,yMAAa,GAoHhD"}},
    {"offset": {"line": 4046, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/ssdMobilenetv1/index.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/ssdMobilenetv1/index.ts"],"sourcesContent":["import { SsdMobilenetv1 } from './SsdMobilenetv1';\r\n\r\nexport * from './SsdMobilenetv1';\r\nexport * from './SsdMobilenetv1Options';\r\n\r\nexport function createSsdMobilenetv1(weights: Float32Array) {\r\n  const net = new SsdMobilenetv1()\r\n  net.extractWeights(weights)\r\n  return net\r\n}\r\n\r\nexport function createFaceDetectionNet(weights: Float32Array) {\r\n  return createSsdMobilenetv1(weights)\r\n}\r\n\r\n// alias for backward compatibily\r\nexport class FaceDetectionNet extends SsdMobilenetv1 {}"],"names":[],"mappings":";;;;;;;;;AAAA,OAAO,EAAE,cAAc,EAAE,MAAM,kBAAkB,CAAC;AAGlD,cAAc,yBAAyB,CAAC;;;;;AAElC,SAAU,oBAAoB,CAAC,OAAqB;IACxD,IAAM,GAAG,GAAG,IAAI,0MAAc,EAAE,CAAA;IAChC,GAAG,CAAC,cAAc,CAAC,OAAO,CAAC,CAAA;IAC3B,OAAO,GAAG,CAAA;AACZ,CAAC;AAEK,SAAU,sBAAsB,CAAC,OAAqB;IAC1D,OAAO,oBAAoB,CAAC,OAAO,CAAC,CAAA;AACtC,CAAC;AAED,iCAAiC;AACjC,IAAA,mBAAA,SAAA,MAAA;IAAsC,0LAAA,CAAA,kBAAA,QAAc;IAApD,SAAA;;IAAsD,CAAC;IAAD,OAAA,gBAAC;AAAD,CAAC,AAAvD,CAAsC,0MAAc,GAAG"}},
    {"offset": {"line": 4083, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/tinyFaceDetector/TinyFaceDetectorOptions.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/tinyFaceDetector/TinyFaceDetectorOptions.ts"],"sourcesContent":["import { TfjsImageRecognitionBase } from 'tfjs-image-recognition-base';\r\n\r\nexport interface ITinyFaceDetectorOptions extends TfjsImageRecognitionBase.ITinyYolov2Options {}\r\n\r\nexport class TinyFaceDetectorOptions extends TfjsImageRecognitionBase.TinyYolov2Options {\r\n  protected _name: string = 'TinyFaceDetectorOptions'\r\n}"],"names":[],"mappings":";;;;;;AAAA,OAAO,EAAE,wBAAwB,EAAE,MAAM,6BAA6B,CAAC;;;AAIvE,IAAA,0BAAA,SAAA,MAAA;IAA6C,0LAAA,CAAA,yBAAA,QAA0C;IAAvF,SAAA;QAAA,IAAA,QAAA,WAAA,QAAA,OAAA,KAAA,CAAA,IAAA,EAAA,cAAA,IAAA,CAEC;QADW,MAAA,KAAK,GAAW,yBAAyB,CAAA;;IACrD,CAAC;IAAD,OAAA,uBAAC;AAAD,CAAC,AAFD,CAA6C,mRAAwB,CAAC,iBAAiB,GAEtF"}},
    {"offset": {"line": 4107, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/globalApi/ComposableTask.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/globalApi/ComposableTask.ts"],"sourcesContent":["export class ComposableTask<T> {\r\n\r\n  public async then(\r\n    onfulfilled: (value: T) => T | PromiseLike<T>\r\n  ): Promise<T> {\r\n    return onfulfilled(await this.run())\r\n  }\r\n\r\n  public async run(): Promise<T> {\r\n    throw new Error('ComposableTask - run is not implemented')\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA,IAAA,iBAAA;IAAA,SAAA,kBAWA,CAAC;IATc,eAAA,SAAA,CAAA,IAAI,GAAjB,SACE,WAA6C;;;;;;wBAEtC,KAAA,WAAW,CAAA;wBAAC,OAAA;4BAAA,EAAA,OAAA;4BAAM,IAAI,CAAC,GAAG,EAAE;yBAAA,CAAA;;wBAAnC,OAAA;4BAAA,EAAA,QAAA;4BAAO,GAAA,KAAA,CAAA,KAAA,GAAA;gCAAY,GAAA,IAAA,EAAgB;6BAAA,CAAC;yBAAA,CAAA;;;;KACrC;IAEY,eAAA,SAAA,CAAA,GAAG,GAAhB;;;gBACE,MAAM,IAAI,KAAK,CAAC,yCAAyC,CAAC,CAAA;;;KAC3D;IACH,OAAA,cAAC;AAAD,CAAC,AAXD,IAWC"}},
    {"offset": {"line": 4152, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/globalApi/extractFacesAndComputeResults.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/globalApi/extractFacesAndComputeResults.ts"],"sourcesContent":["import * as tf from '@tensorflow/tfjs-core';\r\nimport { TNetInput } from 'tfjs-image-recognition-base';\r\n\r\nimport { FaceDetection } from '../classes/FaceDetection';\r\nimport { extractFaces, extractFaceTensors } from '../dom';\r\nimport { WithFaceDetection } from '../factories/WithFaceDetection';\r\nimport { isWithFaceLandmarks, WithFaceLandmarks } from '../factories/WithFaceLandmarks';\r\n\r\nexport async function extractAllFacesAndComputeResults<TSource extends WithFaceDetection<{}>, TResult>(\r\n  parentResults: TSource[],\r\n  input: TNetInput,\r\n  computeResults: (faces: Array<HTMLCanvasElement | tf.Tensor3D>) => Promise<TResult>,\r\n  extractedFaces?: Array<HTMLCanvasElement | tf.Tensor3D> | null,\r\n  getRectForAlignment: (parentResult: WithFaceLandmarks<TSource, any>) => FaceDetection = ({ alignedRect }) => alignedRect\r\n) {\r\n  const faceBoxes = parentResults.map(parentResult =>\r\n    isWithFaceLandmarks(parentResult)\r\n      ? getRectForAlignment(parentResult)\r\n      : parentResult.detection\r\n  )\r\n  const faces: Array<HTMLCanvasElement | tf.Tensor3D> = extractedFaces || (\r\n    input instanceof tf.Tensor\r\n      ? await extractFaceTensors(input, faceBoxes)\r\n      : await extractFaces(input, faceBoxes)\r\n  )\r\n\r\n  const results = await computeResults(faces)\r\n\r\n  faces.forEach(f => f instanceof tf.Tensor && f.dispose())\r\n\r\n  return results\r\n}\r\n\r\nexport async function extractSingleFaceAndComputeResult<TSource extends WithFaceDetection<{}>, TResult>(\r\n  parentResult: TSource,\r\n  input: TNetInput,\r\n  computeResult: (face: HTMLCanvasElement | tf.Tensor3D) => Promise<TResult>,\r\n  extractedFaces?: Array<HTMLCanvasElement | tf.Tensor3D> | null,\r\n  getRectForAlignment?: (parentResult: WithFaceLandmarks<TSource, any>) => FaceDetection\r\n) {\r\n  return extractAllFacesAndComputeResults<TSource, TResult>(\r\n    [parentResult],\r\n    input,\r\n    async faces => computeResult(faces[0]),\r\n    extractedFaces,\r\n    getRectForAlignment\r\n  )\r\n}"],"names":[],"mappings":";;;;;;;AAAA,OAAO,KAAK,EAAE,MAAM,uBAAuB,CAAC;;;AAI5C,OAAO,EAAE,YAAY,EAAE,kBAAkB,EAAE,MAAM,QAAQ,CAAC;AAE1D,OAAO,EAAE,mBAAmB,EAAqB,MAAM,gCAAgC,CAAC;;;;;AAElF,SAAgB,gCAAgC,CACpD,aAAwB,EACxB,KAAgB,EAChB,cAAmF,EACnF,cAA8D,EAC9D,mBAAwH;IAAxH,IAAA,wBAAA,KAAA,GAAA;QAAA,sBAAA,SAAyF,EAAe;gBAAb,cAAA,GAAA,WAAW;YAAO,OAAA,WAAW;QAAX,CAAW;IAAA;;;;;;oBAElH,SAAS,GAAG,aAAa,CAAC,GAAG,CAAC,SAAA,YAAY;wBAC9C,WAAA,6MAAmB,EAAC,YAAY,CAAC,GAC7B,mBAAmB,CAAC,YAAY,CAAC,GACjC,YAAY,CAAC,SAAS;oBAF1B,CAE0B,CAC3B,CAAA;oBACqD,KAAA,cAAc,CAAA;4BAAd,OAAA;wBAAA,EAAA,OAAA;wBAAA;qBAAA,CAAc;yBAClE,CAAA,KAAK,YAAY,EAAE,CAAC,mLAAM,CAAA,EAA1B,OAAA;wBAAA,EAAA,OAAA;wBAAA;qBAAA,CAA0B;oBACtB,OAAA;wBAAA,EAAA,OAAA;4BAAM,uMAAkB,EAAC,KAAK,EAAE,SAAS,CAAC;qBAAA,CAAA;;oBAA1C,KAAA,GAAA,IAAA,EAA0C,CAAA;;;;;;oBAC1C,OAAA;wBAAA,EAAA,OAAA;4BAAM,2LAAY,EAAC,KAAK,EAAE,SAAS,CAAC;qBAAA,CAAA;;oBAApC,KAAA,GAAA,IAAA,EAAoC,CAAA;;;oBAH8B,KAAA,GAIvE,CAAA;;;oBAJK,KAAK,GAAA,EAIV;oBAEe,OAAA;wBAAA,EAAA,OAAA;wBAAM,cAAc,CAAC,KAAK,CAAC;qBAAA,CAAA;;oBAArC,OAAO,GAAG,GAAA,IAAA,EAA2B;oBAE3C,KAAK,CAAC,OAAO,CAAC,SAAA,CAAC;wBAAI,OAAA,CAAC,YAAY,EAAE,CAAC,mLAAM,IAAI,CAAC,CAAC,OAAO,EAAE;oBAArC,CAAqC,CAAC,CAAA;oBAEzD,OAAA;wBAAA,EAAA,QAAA;wBAAO,OAAO;qBAAA,CAAA;;;;CACf;AAEK,SAAgB,iCAAiC,CACrD,YAAqB,EACrB,KAAgB,EAChB,aAA0E,EAC1E,cAA8D,EAC9D,mBAAsF;;;;YAEtF,OAAA;gBAAA,EAAA,QAAA;gBAAO,gCAAgC,CACrC;oBAAC,YAAY;iBAAC,EACd,KAAK,EACL,SAAM,KAAK;oBAAA,OAAA,0LAAA,CAAA,OAAA,KAAA,GAAA,KAAA,GAAA;wBAAA,OAAA,4LAAA,CAAA,IAAA,EAAA,SAAA,EAAA;4BAAI,OAAA;gCAAA,EAAA,QAAA;gCAAA,aAAa,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;6BAAA,CAAA;;;iBAAA,EACtC,cAAc,EACd,mBAAmB,CACpB;aAAA,CAAA;;;CACF"}},
    {"offset": {"line": 4258, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/mtcnn/bgrToRgbTensor.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/mtcnn/bgrToRgbTensor.ts"],"sourcesContent":["import * as tf from '@tensorflow/tfjs-core';\r\n\r\nexport function bgrToRgbTensor(tensor: tf.Tensor4D): tf.Tensor4D {\r\n  return tf.tidy(\r\n    () => tf.stack(tf.unstack(tensor, 3).reverse(), 3)\r\n  ) as tf.Tensor4D\r\n}"],"names":[],"mappings":";;;;AAAA,OAAO,KAAK,EAAE,MAAM,uBAAuB,CAAC;;AAEtC,SAAU,cAAc,CAAC,MAAmB;IAChD,OAAO,EAAE,CAAC,iLAAI,CACZ;QAAM,OAAA,EAAE,CAAC,kLAAK,CAAC,EAAE,CAAC,oLAAO,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;IAA5C,CAA4C,CACpC,CAAA;AAClB,CAAC"}},
    {"offset": {"line": 4273, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/mtcnn/config.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/mtcnn/config.ts"],"sourcesContent":["export const CELL_STRIDE = 2\r\nexport const CELL_SIZE = 12"],"names":[],"mappings":";;;;;;AAAO,IAAM,WAAW,GAAG,CAAC,CAAA;AACrB,IAAM,SAAS,GAAG,EAAE,CAAA"}},
    {"offset": {"line": 4285, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/mtcnn/extractParams.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/mtcnn/extractParams.ts"],"sourcesContent":["import * as tf from '@tensorflow/tfjs-core';\r\nimport { TfjsImageRecognitionBase } from 'tfjs-image-recognition-base';\r\n\r\nimport { NetParams, ONetParams, PNetParams, RNetParams, SharedParams } from './types';\r\n\r\nfunction extractorsFactory(extractWeights: TfjsImageRecognitionBase.ExtractWeightsFunction, paramMappings: TfjsImageRecognitionBase.ParamMapping[]) {\r\n\r\n  const extractConvParams = TfjsImageRecognitionBase.extractConvParamsFactory(extractWeights, paramMappings)\r\n  const extractFCParams = TfjsImageRecognitionBase.extractFCParamsFactory(extractWeights, paramMappings)\r\n\r\n  function extractPReluParams(size: number, paramPath: string): tf.Tensor1D {\r\n    const alpha = tf.tensor1d(extractWeights(size))\r\n    paramMappings.push({ paramPath })\r\n    return alpha\r\n  }\r\n\r\n  function extractSharedParams(numFilters: number[], mappedPrefix: string, isRnet: boolean = false): SharedParams {\r\n\r\n    const conv1 = extractConvParams(numFilters[0], numFilters[1], 3, `${mappedPrefix}/conv1`)\r\n    const prelu1_alpha = extractPReluParams(numFilters[1], `${mappedPrefix}/prelu1_alpha`)\r\n    const conv2 = extractConvParams(numFilters[1], numFilters[2], 3, `${mappedPrefix}/conv2`)\r\n    const prelu2_alpha = extractPReluParams(numFilters[2], `${mappedPrefix}/prelu2_alpha`)\r\n    const conv3 = extractConvParams(numFilters[2], numFilters[3], isRnet ? 2 : 3, `${mappedPrefix}/conv3`)\r\n    const prelu3_alpha = extractPReluParams(numFilters[3], `${mappedPrefix}/prelu3_alpha`)\r\n\r\n    return { conv1, prelu1_alpha, conv2, prelu2_alpha, conv3, prelu3_alpha }\r\n  }\r\n\r\n  function extractPNetParams(): PNetParams {\r\n\r\n    const sharedParams = extractSharedParams([3, 10, 16, 32], 'pnet')\r\n    const conv4_1 = extractConvParams(32, 2, 1, 'pnet/conv4_1')\r\n    const conv4_2 = extractConvParams(32, 4, 1, 'pnet/conv4_2')\r\n\r\n    return { ...sharedParams, conv4_1, conv4_2 }\r\n  }\r\n\r\n  function extractRNetParams(): RNetParams {\r\n\r\n    const sharedParams = extractSharedParams([3, 28, 48, 64], 'rnet', true)\r\n    const fc1 = extractFCParams(576, 128, 'rnet/fc1')\r\n    const prelu4_alpha = extractPReluParams(128, 'rnet/prelu4_alpha')\r\n    const fc2_1 = extractFCParams(128, 2, 'rnet/fc2_1')\r\n    const fc2_2 = extractFCParams(128, 4, 'rnet/fc2_2')\r\n\r\n    return { ...sharedParams, fc1, prelu4_alpha, fc2_1, fc2_2 }\r\n  }\r\n\r\n  function extractONetParams(): ONetParams {\r\n\r\n    const sharedParams = extractSharedParams([3, 32, 64, 64], 'onet')\r\n    const conv4 = extractConvParams(64, 128, 2, 'onet/conv4')\r\n    const prelu4_alpha = extractPReluParams(128, 'onet/prelu4_alpha')\r\n    const fc1 = extractFCParams(1152, 256, 'onet/fc1')\r\n    const prelu5_alpha = extractPReluParams(256, 'onet/prelu5_alpha')\r\n    const fc2_1 = extractFCParams(256, 2, 'onet/fc2_1')\r\n    const fc2_2 = extractFCParams(256, 4, 'onet/fc2_2')\r\n    const fc2_3 = extractFCParams(256, 10, 'onet/fc2_3')\r\n\r\n    return { ...sharedParams, conv4, prelu4_alpha, fc1, prelu5_alpha, fc2_1, fc2_2, fc2_3 }\r\n  }\r\n\r\n  return {\r\n    extractPNetParams,\r\n    extractRNetParams,\r\n    extractONetParams\r\n  }\r\n\r\n}\r\n\r\nexport function extractParams(weights: Float32Array): { params: NetParams, paramMappings: TfjsImageRecognitionBase.ParamMapping[] } {\r\n\r\n  const {\r\n    extractWeights,\r\n    getRemainingWeights\r\n  } = TfjsImageRecognitionBase.extractWeightsFactory(weights)\r\n\r\n  const paramMappings: TfjsImageRecognitionBase.ParamMapping[] = []\r\n\r\n  const {\r\n    extractPNetParams,\r\n    extractRNetParams,\r\n    extractONetParams\r\n  } = extractorsFactory(extractWeights, paramMappings)\r\n\r\n  const pnet = extractPNetParams()\r\n  const rnet = extractRNetParams()\r\n  const onet = extractONetParams()\r\n\r\n  if (getRemainingWeights().length !== 0) {\r\n    throw new Error(`weights remaing after extract: ${getRemainingWeights().length}`)\r\n  }\r\n\r\n  return { params: { pnet, rnet, onet }, paramMappings }\r\n}"],"names":[],"mappings":";;;;;AAAA,OAAO,KAAK,EAAE,MAAM,uBAAuB,CAAC;;AAC5C,OAAO,EAAE,wBAAwB,EAAE,MAAM,6BAA6B,CAAC;;;;AAIvE,SAAS,iBAAiB,CAAC,cAA+D,EAAE,aAAsD;IAEhJ,IAAM,iBAAiB,GAAG,mRAAwB,CAAC,wBAAwB,CAAC,cAAc,EAAE,aAAa,CAAC,CAAA;IAC1G,IAAM,eAAe,GAAG,mRAAwB,CAAC,sBAAsB,CAAC,cAAc,EAAE,aAAa,CAAC,CAAA;IAEtG,SAAS,kBAAkB,CAAC,IAAY,EAAE,SAAiB;QACzD,IAAM,KAAK,GAAG,EAAE,CAAC,qLAAQ,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,CAAA;QAC/C,aAAa,CAAC,IAAI,CAAC;YAAE,SAAS,EAAA,SAAA;QAAA,CAAE,CAAC,CAAA;QACjC,OAAO,KAAK,CAAA;IACd,CAAC;IAED,SAAS,mBAAmB,CAAC,UAAoB,EAAE,YAAoB,EAAE,MAAuB;QAAvB,IAAA,WAAA,KAAA,GAAA;YAAA,SAAA,KAAuB;QAAA;QAE9F,IAAM,KAAK,GAAG,iBAAiB,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE,UAAU,CAAC,CAAC,CAAC,EAAE,CAAC,EAAK,YAAY,GAAA,QAAQ,CAAC,CAAA;QACzF,IAAM,YAAY,GAAG,kBAAkB,CAAC,UAAU,CAAC,CAAC,CAAC,EAAK,YAAY,GAAA,eAAe,CAAC,CAAA;QACtF,IAAM,KAAK,GAAG,iBAAiB,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE,UAAU,CAAC,CAAC,CAAC,EAAE,CAAC,EAAK,YAAY,GAAA,QAAQ,CAAC,CAAA;QACzF,IAAM,YAAY,GAAG,kBAAkB,CAAC,UAAU,CAAC,CAAC,CAAC,EAAK,YAAY,GAAA,eAAe,CAAC,CAAA;QACtF,IAAM,KAAK,GAAG,iBAAiB,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE,UAAU,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAK,YAAY,GAAA,QAAQ,CAAC,CAAA;QACtG,IAAM,YAAY,GAAG,kBAAkB,CAAC,UAAU,CAAC,CAAC,CAAC,EAAK,YAAY,GAAA,eAAe,CAAC,CAAA;QAEtF,OAAO;YAAE,KAAK,EAAA,KAAA;YAAE,YAAY,EAAA,YAAA;YAAE,KAAK,EAAA,KAAA;YAAE,YAAY,EAAA,YAAA;YAAE,KAAK,EAAA,KAAA;YAAE,YAAY,EAAA,YAAA;QAAA,CAAE,CAAA;IAC1E,CAAC;IAED,SAAS,iBAAiB;QAExB,IAAM,YAAY,GAAG,mBAAmB,CAAC;YAAC,CAAC;YAAE,EAAE;YAAE,EAAE;YAAE,EAAE;SAAC,EAAE,MAAM,CAAC,CAAA;QACjE,IAAM,OAAO,GAAG,iBAAiB,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAA;QAC3D,IAAM,OAAO,GAAG,iBAAiB,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAA;QAE3D,OAAA,yLAAA,CAAA,CAAA,GAAY,YAAY,EAAA;YAAE,OAAO,EAAA,OAAA;YAAE,OAAO,EAAA,OAAA;QAAA,GAAE;IAC9C,CAAC;IAED,SAAS,iBAAiB;QAExB,IAAM,YAAY,GAAG,mBAAmB,CAAC;YAAC,CAAC;YAAE,EAAE;YAAE,EAAE;YAAE,EAAE;SAAC,EAAE,MAAM,EAAE,IAAI,CAAC,CAAA;QACvE,IAAM,GAAG,GAAG,eAAe,CAAC,GAAG,EAAE,GAAG,EAAE,UAAU,CAAC,CAAA;QACjD,IAAM,YAAY,GAAG,kBAAkB,CAAC,GAAG,EAAE,mBAAmB,CAAC,CAAA;QACjE,IAAM,KAAK,GAAG,eAAe,CAAC,GAAG,EAAE,CAAC,EAAE,YAAY,CAAC,CAAA;QACnD,IAAM,KAAK,GAAG,eAAe,CAAC,GAAG,EAAE,CAAC,EAAE,YAAY,CAAC,CAAA;QAEnD,OAAA,yLAAA,CAAA,CAAA,GAAY,YAAY,EAAA;YAAE,GAAG,EAAA,GAAA;YAAE,YAAY,EAAA,YAAA;YAAE,KAAK,EAAA,KAAA;YAAE,KAAK,EAAA,KAAA;QAAA,GAAE;IAC7D,CAAC;IAED,SAAS,iBAAiB;QAExB,IAAM,YAAY,GAAG,mBAAmB,CAAC;YAAC,CAAC;YAAE,EAAE;YAAE,EAAE;YAAE,EAAE;SAAC,EAAE,MAAM,CAAC,CAAA;QACjE,IAAM,KAAK,GAAG,iBAAiB,CAAC,EAAE,EAAE,GAAG,EAAE,CAAC,EAAE,YAAY,CAAC,CAAA;QACzD,IAAM,YAAY,GAAG,kBAAkB,CAAC,GAAG,EAAE,mBAAmB,CAAC,CAAA;QACjE,IAAM,GAAG,GAAG,eAAe,CAAC,IAAI,EAAE,GAAG,EAAE,UAAU,CAAC,CAAA;QAClD,IAAM,YAAY,GAAG,kBAAkB,CAAC,GAAG,EAAE,mBAAmB,CAAC,CAAA;QACjE,IAAM,KAAK,GAAG,eAAe,CAAC,GAAG,EAAE,CAAC,EAAE,YAAY,CAAC,CAAA;QACnD,IAAM,KAAK,GAAG,eAAe,CAAC,GAAG,EAAE,CAAC,EAAE,YAAY,CAAC,CAAA;QACnD,IAAM,KAAK,GAAG,eAAe,CAAC,GAAG,EAAE,EAAE,EAAE,YAAY,CAAC,CAAA;QAEpD,OAAA,yLAAA,CAAA,CAAA,GAAY,YAAY,EAAA;YAAE,KAAK,EAAA,KAAA;YAAE,YAAY,EAAA,YAAA;YAAE,GAAG,EAAA,GAAA;YAAE,YAAY,EAAA,YAAA;YAAE,KAAK,EAAA,KAAA;YAAE,KAAK,EAAA,KAAA;YAAE,KAAK,EAAA,KAAA;QAAA,GAAE;IACzF,CAAC;IAED,OAAO;QACL,iBAAiB,EAAA,iBAAA;QACjB,iBAAiB,EAAA,iBAAA;QACjB,iBAAiB,EAAA,iBAAA;KAClB,CAAA;AAEH,CAAC;AAEK,SAAU,aAAa,CAAC,OAAqB;IAE3C,IAAA,KAAA,mRAAA,CAAA,qBAAA,CAAA,QAGqD,EAFzD,iBAAA,GAAA,cAAc,EACd,sBAAA,GAAA,mBACyD,CAAA;IAE3D,IAAM,aAAa,GAA4C,EAAE,CAAA;IAE3D,IAAA,KAAA,kBAAA,gBAAA,cAI8C,EAHlD,oBAAA,GAAA,iBAAiB,EACjB,oBAAA,GAAA,iBAAiB,EACjB,oBAAA,GAAA,iBACkD,CAAA;IAEpD,IAAM,IAAI,GAAG,iBAAiB,EAAE,CAAA;IAChC,IAAM,IAAI,GAAG,iBAAiB,EAAE,CAAA;IAChC,IAAM,IAAI,GAAG,iBAAiB,EAAE,CAAA;IAEhC,IAAI,mBAAmB,EAAE,CAAC,MAAM,KAAK,CAAC,EAAE;QACtC,MAAM,IAAI,KAAK,CAAC,oCAAkC,mBAAmB,EAAE,CAAC,MAAQ,CAAC,CAAA;KAClF;IAED,OAAO;QAAE,MAAM,EAAE;YAAE,IAAI,EAAA,IAAA;YAAE,IAAI,EAAA,IAAA;YAAE,IAAI,EAAA,IAAA;QAAA,CAAE;QAAE,aAAa,EAAA,aAAA;IAAA,CAAE,CAAA;AACxD,CAAC"}},
    {"offset": {"line": 4410, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/mtcnn/extractParamsFromWeigthMap.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/mtcnn/extractParamsFromWeigthMap.ts"],"sourcesContent":["import * as tf from '@tensorflow/tfjs-core';\r\nimport { TfjsImageRecognitionBase } from 'tfjs-image-recognition-base';\r\n\r\nimport { NetParams, ONetParams, PNetParams, RNetParams, SharedParams } from './types';\r\n\r\nfunction extractorsFactory(weightMap: any, paramMappings: TfjsImageRecognitionBase.ParamMapping[]) {\r\n\r\n  const extractWeightEntry = TfjsImageRecognitionBase.extractWeightEntryFactory(weightMap, paramMappings)\r\n\r\n  function extractConvParams(prefix: string): TfjsImageRecognitionBase.ConvParams {\r\n    const filters = extractWeightEntry<tf.Tensor4D>(`${prefix}/weights`, 4, `${prefix}/filters`)\r\n    const bias = extractWeightEntry<tf.Tensor1D>(`${prefix}/bias`, 1)\r\n\r\n    return { filters, bias }\r\n  }\r\n\r\n  function extractFCParams(prefix: string): TfjsImageRecognitionBase.FCParams {\r\n    const weights = extractWeightEntry<tf.Tensor2D>(`${prefix}/weights`, 2)\r\n    const bias = extractWeightEntry<tf.Tensor1D>(`${prefix}/bias`, 1)\r\n\r\n    return { weights, bias }\r\n  }\r\n\r\n  function extractPReluParams(paramPath: string): tf.Tensor1D {\r\n    return extractWeightEntry<tf.Tensor1D>(paramPath, 1)\r\n  }\r\n\r\n  function extractSharedParams(prefix: string): SharedParams {\r\n\r\n    const conv1 = extractConvParams(`${prefix}/conv1`)\r\n    const prelu1_alpha = extractPReluParams(`${prefix}/prelu1_alpha`)\r\n    const conv2 = extractConvParams(`${prefix}/conv2`)\r\n    const prelu2_alpha = extractPReluParams(`${prefix}/prelu2_alpha`)\r\n    const conv3 = extractConvParams(`${prefix}/conv3`)\r\n    const prelu3_alpha = extractPReluParams(`${prefix}/prelu3_alpha`)\r\n\r\n    return { conv1, prelu1_alpha, conv2, prelu2_alpha, conv3, prelu3_alpha }\r\n  }\r\n\r\n  function extractPNetParams(): PNetParams {\r\n\r\n    const sharedParams = extractSharedParams('pnet')\r\n    const conv4_1 = extractConvParams('pnet/conv4_1')\r\n    const conv4_2 = extractConvParams('pnet/conv4_2')\r\n\r\n    return { ...sharedParams, conv4_1, conv4_2 }\r\n  }\r\n\r\n  function extractRNetParams(): RNetParams {\r\n\r\n    const sharedParams = extractSharedParams('rnet')\r\n    const fc1 = extractFCParams('rnet/fc1')\r\n    const prelu4_alpha = extractPReluParams('rnet/prelu4_alpha')\r\n    const fc2_1 = extractFCParams('rnet/fc2_1')\r\n    const fc2_2 = extractFCParams('rnet/fc2_2')\r\n\r\n    return { ...sharedParams, fc1, prelu4_alpha, fc2_1, fc2_2 }\r\n  }\r\n\r\n  function extractONetParams(): ONetParams {\r\n\r\n    const sharedParams = extractSharedParams('onet')\r\n    const conv4 = extractConvParams('onet/conv4')\r\n    const prelu4_alpha = extractPReluParams('onet/prelu4_alpha')\r\n    const fc1 = extractFCParams('onet/fc1')\r\n    const prelu5_alpha = extractPReluParams('onet/prelu5_alpha')\r\n    const fc2_1 = extractFCParams('onet/fc2_1')\r\n    const fc2_2 = extractFCParams('onet/fc2_2')\r\n    const fc2_3 = extractFCParams('onet/fc2_3')\r\n\r\n    return { ...sharedParams, conv4, prelu4_alpha, fc1, prelu5_alpha, fc2_1, fc2_2, fc2_3 }\r\n  }\r\n\r\n  return {\r\n    extractPNetParams,\r\n    extractRNetParams,\r\n    extractONetParams\r\n  }\r\n\r\n}\r\n\r\nexport function extractParamsFromWeigthMap(\r\n  weightMap: tf.NamedTensorMap\r\n): { params: NetParams, paramMappings: TfjsImageRecognitionBase.ParamMapping[] } {\r\n\r\n  const paramMappings: TfjsImageRecognitionBase.ParamMapping[] = []\r\n\r\n  const {\r\n    extractPNetParams,\r\n    extractRNetParams,\r\n    extractONetParams\r\n  } = extractorsFactory(weightMap, paramMappings)\r\n\r\n  const pnet = extractPNetParams()\r\n  const rnet = extractRNetParams()\r\n  const onet = extractONetParams()\r\n\r\n  TfjsImageRecognitionBase.disposeUnusedWeightTensors(weightMap, paramMappings)\r\n\r\n  return { params: { pnet, rnet, onet }, paramMappings }\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4523, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/mtcnn/getSizesForScale.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/mtcnn/getSizesForScale.ts"],"sourcesContent":["export function getSizesForScale(scale: number, [height, width]: number[]) {\r\n  return {\r\n    height: Math.floor(height * scale),\r\n    width: Math.floor(width * scale)\r\n  }\r\n}"],"names":[],"mappings":";;;;AAAM,SAAU,gBAAgB,CAAC,KAAa,EAAE,EAAyB;QAAxB,SAAA,EAAA,CAAA,EAAM,EAAE,QAAA,EAAA,CAAA,EAAK;IAC5D,OAAO;QACL,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC;QAClC,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC;KACjC,CAAA;AACH,CAAC"}},
    {"offset": {"line": 4538, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/mtcnn/pyramidDown.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/mtcnn/pyramidDown.ts"],"sourcesContent":["import { CELL_SIZE } from './config';\r\n\r\nexport function pyramidDown(minFaceSize: number, scaleFactor: number, dims: number[]): number[] {\r\n\r\n  const [height, width] = dims\r\n  const m = CELL_SIZE / minFaceSize\r\n\r\n  const scales = []\r\n\r\n  let minLayer = Math.min(height, width) * m\r\n  let exp = 0\r\n  while (minLayer >= 12) {\r\n    scales.push(m * Math.pow(scaleFactor, exp))\r\n    minLayer = minLayer * scaleFactor\r\n    exp += 1\r\n  }\r\n\r\n  return scales\r\n}"],"names":[],"mappings":";;;;AAAA,OAAO,EAAE,SAAS,EAAE,MAAM,UAAU,CAAC;;AAE/B,SAAU,WAAW,CAAC,WAAmB,EAAE,WAAmB,EAAE,IAAc;IAE3E,IAAA,SAAA,IAAA,CAAA,EAAM,EAAE,QAAA,IAAA,CAAA,EAAK,CAAQ;IAC5B,IAAM,CAAC,GAAG,oLAAS,GAAG,WAAW,CAAA;IAEjC,IAAM,MAAM,GAAG,EAAE,CAAA;IAEjB,IAAI,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,KAAK,CAAC,GAAG,CAAC,CAAA;IAC1C,IAAI,GAAG,GAAG,CAAC,CAAA;IACX,MAAO,QAAQ,IAAI,EAAE,CAAE;QACrB,MAAM,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,GAAG,CAAC,CAAC,CAAA;QAC3C,QAAQ,GAAG,QAAQ,GAAG,WAAW,CAAA;QACjC,GAAG,IAAI,CAAC,CAAA;KACT;IAED,OAAO,MAAM,CAAA;AACf,CAAC"}},
    {"offset": {"line": 4561, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/mtcnn/MtcnnBox.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/mtcnn/MtcnnBox.ts"],"sourcesContent":["import { Box } from 'tfjs-image-recognition-base';\r\n\r\nexport class MtcnnBox extends Box<MtcnnBox> {\r\n  constructor(left: number, top: number, right: number, bottom: number) {\r\n    super({ left, top, right, bottom }, true)\r\n  }\r\n}"],"names":[],"mappings":";;;;;;AAAA,OAAO,EAAE,GAAG,EAAE,MAAM,6BAA6B,CAAC;;;AAElD,IAAA,WAAA,SAAA,MAAA;IAA8B,0LAAA,CAAA,UAAA,QAAa;IACzC,SAAA,SAAY,IAAY,EAAE,GAAW,EAAE,KAAa,EAAE,MAAc;eAClE,OAAA,IAAA,CAAA,IAAA,EAAM;YAAE,IAAI,EAAA,IAAA;YAAE,GAAG,EAAA,GAAA;YAAE,KAAK,EAAA,KAAA;YAAE,MAAM,EAAA,MAAA;QAAA,CAAE,EAAE,IAAI,CAAC,IAAA,IAAA;IAC3C,CAAC;IACH,OAAA,QAAC;AAAD,CAAC,AAJD,CAA8B,gMAAG,GAIhC"}},
    {"offset": {"line": 4588, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/mtcnn/normalize.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/mtcnn/normalize.ts"],"sourcesContent":["import * as tf from '@tensorflow/tfjs-core';\r\n\r\nexport function normalize(x: tf.Tensor4D): tf.Tensor4D {\r\n  return tf.tidy(\r\n    () => tf.mul(tf.sub(x, tf.scalar(127.5)), tf.scalar(0.0078125))\r\n  )\r\n}"],"names":[],"mappings":";;;;AAAA,OAAO,KAAK,EAAE,MAAM,uBAAuB,CAAC;;AAEtC,SAAU,SAAS,CAAC,CAAc;IACtC,OAAO,EAAE,CAAC,iLAAI,CACZ;QAAM,OAAA,EAAE,CAAC,gLAAG,CAAC,EAAE,CAAC,gLAAG,CAAC,CAAC,EAAE,EAAE,CAAC,mLAAM,CAAC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,mLAAM,CAAC,SAAS,CAAC,CAAC;IAAzD,CAAyD,CAChE,CAAA;AACH,CAAC"}},
    {"offset": {"line": 4603, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/mtcnn/prelu.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/mtcnn/prelu.ts"],"sourcesContent":["import * as tf from '@tensorflow/tfjs-core';\r\n\r\nexport function prelu<T extends tf.Tensor>(x: T, alpha: tf.Tensor1D): T {\r\n  return tf.tidy(() =>\r\n    tf.add(\r\n      tf.relu(x),\r\n      tf.mul(alpha, tf.neg(tf.relu(tf.neg(x))))\r\n    )\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;AAAA,OAAO,KAAK,EAAE,MAAM,uBAAuB,CAAC;;AAEtC,SAAU,KAAK,CAAsB,CAAI,EAAE,KAAkB;IACjE,OAAO,EAAE,CAAC,iLAAI,CAAC;QACb,OAAA,EAAE,CAAC,gLAAG,CACJ,EAAE,CAAC,iLAAI,CAAC,CAAC,CAAC,EACV,EAAE,CAAC,gLAAG,CAAC,KAAK,EAAE,EAAE,CAAC,gLAAG,CAAC,EAAE,CAAC,iLAAI,CAAC,EAAE,CAAC,gLAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAC1C;IAHD,CAGC,CACF,CAAA;AACH,CAAC"}},
    {"offset": {"line": 4618, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/mtcnn/sharedLayers.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/mtcnn/sharedLayers.ts"],"sourcesContent":["import * as tf from '@tensorflow/tfjs-core';\r\nimport { TfjsImageRecognitionBase } from 'tfjs-image-recognition-base';\r\n\r\nimport { prelu } from './prelu';\r\nimport { SharedParams } from './types';\r\n\r\nexport function sharedLayer(x: tf.Tensor4D, params: SharedParams, isPnet: boolean = false) {\r\n  return tf.tidy(() => {\r\n\r\n    let out = TfjsImageRecognitionBase.convLayer(x, params.conv1, 'valid')\r\n    out = prelu<tf.Tensor4D>(out, params.prelu1_alpha)\r\n    out = tf.maxPool(out, isPnet ? [2, 2]: [3, 3], [2, 2], 'same')\r\n    out = TfjsImageRecognitionBase.convLayer(out, params.conv2, 'valid')\r\n    out = prelu<tf.Tensor4D>(out, params.prelu2_alpha)\r\n    out = isPnet ? out : tf.maxPool(out, [3, 3], [2, 2], 'valid')\r\n    out = TfjsImageRecognitionBase.convLayer(out, params.conv3, 'valid')\r\n    out = prelu<tf.Tensor4D>(out, params.prelu3_alpha)\r\n\r\n    return out\r\n  })\r\n}"],"names":[],"mappings":";;;;AAAA,OAAO,KAAK,EAAE,MAAM,uBAAuB,CAAC;;AAC5C,OAAO,EAAE,wBAAwB,EAAE,MAAM,6BAA6B,CAAC;AAEvE,OAAO,EAAE,KAAK,EAAE,MAAM,SAAS,CAAC;;;;AAG1B,SAAU,WAAW,CAAC,CAAc,EAAE,MAAoB,EAAE,MAAuB;IAAvB,IAAA,WAAA,KAAA,GAAA;QAAA,SAAA,KAAuB;IAAA;IACvF,OAAO,EAAE,CAAC,iLAAI,CAAC;QAEb,IAAI,GAAG,GAAG,mRAAwB,CAAC,SAAS,CAAC,CAAC,EAAE,MAAM,CAAC,KAAK,EAAE,OAAO,CAAC,CAAA;QACtE,GAAG,OAAG,+KAAK,EAAc,GAAG,EAAE,MAAM,CAAC,YAAY,CAAC,CAAA;QAClD,GAAG,GAAG,EAAE,CAAC,oLAAO,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC,CAAC;YAAC,CAAC;YAAE,CAAC;SAAC,CAAA,CAAC,CAAC;YAAC,CAAC;YAAE,CAAC;SAAC,EAAE;YAAC,CAAC;YAAE,CAAC;SAAC,EAAE,MAAM,CAAC,CAAA;QAC9D,GAAG,GAAG,mRAAwB,CAAC,SAAS,CAAC,GAAG,EAAE,MAAM,CAAC,KAAK,EAAE,OAAO,CAAC,CAAA;QACpE,GAAG,OAAG,+KAAK,EAAc,GAAG,EAAE,MAAM,CAAC,YAAY,CAAC,CAAA;QAClD,GAAG,GAAG,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,oLAAO,CAAC,GAAG,EAAE;YAAC,CAAC;YAAE,CAAC;SAAC,EAAE;YAAC,CAAC;YAAE,CAAC;SAAC,EAAE,OAAO,CAAC,CAAA;QAC7D,GAAG,GAAG,mRAAwB,CAAC,SAAS,CAAC,GAAG,EAAE,MAAM,CAAC,KAAK,EAAE,OAAO,CAAC,CAAA;QACpE,GAAG,OAAG,+KAAK,EAAc,GAAG,EAAE,MAAM,CAAC,YAAY,CAAC,CAAA;QAElD,OAAO,GAAG,CAAA;IACZ,CAAC,CAAC,CAAA;AACJ,CAAC"}},
    {"offset": {"line": 4664, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/mtcnn/PNet.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/mtcnn/PNet.ts"],"sourcesContent":["import * as tf from '@tensorflow/tfjs-core';\r\nimport { TfjsImageRecognitionBase } from 'tfjs-image-recognition-base';\r\n\r\nimport { sharedLayer } from './sharedLayers';\r\nimport { PNetParams } from './types';\r\n\r\nexport function PNet(x: tf.Tensor4D, params: PNetParams): { prob: tf.Tensor4D, regions: tf.Tensor4D } {\r\n  return tf.tidy(() => {\r\n\r\n    let out = sharedLayer(x, params, true)\r\n    const conv = TfjsImageRecognitionBase.convLayer(out, params.conv4_1, 'valid')\r\n    const max = tf.expandDims(tf.max(conv, 3), 3)\r\n    const prob = tf.softmax(tf.sub(conv, max), 3) as tf.Tensor4D\r\n    const regions = TfjsImageRecognitionBase.convLayer(out, params.conv4_2, 'valid')\r\n\r\n    return { prob, regions }\r\n  })\r\n}"],"names":[],"mappings":";;;;AAAA,OAAO,KAAK,EAAE,MAAM,uBAAuB,CAAC;;AAC5C,OAAO,EAAE,wBAAwB,EAAE,MAAM,6BAA6B,CAAC;AAEvE,OAAO,EAAE,WAAW,EAAE,MAAM,gBAAgB,CAAC;;;;AAGvC,SAAU,IAAI,CAAC,CAAc,EAAE,MAAkB;IACrD,OAAO,EAAE,CAAC,iLAAI,CAAC;QAEb,IAAI,GAAG,OAAG,4LAAW,EAAC,CAAC,EAAE,MAAM,EAAE,IAAI,CAAC,CAAA;QACtC,IAAM,IAAI,GAAG,mRAAwB,CAAC,SAAS,CAAC,GAAG,EAAE,MAAM,CAAC,OAAO,EAAE,OAAO,CAAC,CAAA;QAC7E,IAAM,GAAG,GAAG,EAAE,CAAC,uLAAU,CAAC,EAAE,CAAC,gLAAG,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAA;QAC7C,IAAM,IAAI,GAAG,EAAE,CAAC,oLAAO,CAAC,EAAE,CAAC,gLAAG,CAAC,IAAI,EAAE,GAAG,CAAC,EAAE,CAAC,CAAgB,CAAA;QAC5D,IAAM,OAAO,GAAG,mRAAwB,CAAC,SAAS,CAAC,GAAG,EAAE,MAAM,CAAC,OAAO,EAAE,OAAO,CAAC,CAAA;QAEhF,OAAO;YAAE,IAAI,EAAA,IAAA;YAAE,OAAO,EAAA,OAAA;QAAA,CAAE,CAAA;IAC1B,CAAC,CAAC,CAAA;AACJ,CAAC"}},
    {"offset": {"line": 4692, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/mtcnn/stage1.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/mtcnn/stage1.ts"],"sourcesContent":["import * as tf from '@tensorflow/tfjs-core';\r\nimport { BoundingBox, nonMaxSuppression, Point } from 'tfjs-image-recognition-base';\r\n\r\nimport { CELL_SIZE, CELL_STRIDE } from './config';\r\nimport { getSizesForScale } from './getSizesForScale';\r\nimport { MtcnnBox } from './MtcnnBox';\r\nimport { normalize } from './normalize';\r\nimport { PNet } from './PNet';\r\nimport { PNetParams } from './types';\r\n\r\nfunction rescaleAndNormalize(x: tf.Tensor4D, scale: number): tf.Tensor4D {\r\n  return tf.tidy(() => {\r\n\r\n    const { height, width } = getSizesForScale(scale, x.shape.slice(1))\r\n    const resized = tf.image.resizeBilinear(x, [height, width])\r\n    const normalized = normalize(resized)\r\n\r\n    return (tf.transpose(normalized, [0, 2, 1, 3]) as tf.Tensor4D)\r\n  })\r\n}\r\n\r\nfunction extractBoundingBoxes(\r\n  scoresTensor: tf.Tensor2D,\r\n  regionsTensor: tf.Tensor3D,\r\n  scale: number,\r\n  scoreThreshold: number\r\n) {\r\n\r\n  // TODO: fix this!, maybe better to use tf.gather here\r\n  const indices: Point[] = []\r\n  const scoresData = scoresTensor.arraySync();\r\n  for (let y = 0; y < scoresTensor.shape[0]; y++) {\r\n    for (let x = 0; x < scoresTensor.shape[1]; x++) {\r\n      if (scoresData[y][x] >= scoreThreshold) {\r\n        indices.push(new Point(x, y))\r\n      }\r\n    }\r\n  }\r\n\r\n  const boundingBoxes = indices.map(idx => {\r\n    const cell = new BoundingBox(\r\n      Math.round((idx.y * CELL_STRIDE + 1) / scale),\r\n      Math.round((idx.x * CELL_STRIDE + 1) / scale),\r\n      Math.round((idx.y * CELL_STRIDE + CELL_SIZE) / scale),\r\n      Math.round((idx.x * CELL_STRIDE + CELL_SIZE) / scale)\r\n    )\r\n\r\n    const score = scoresData[idx.y][idx.x]\r\n\r\n    const regionsData = regionsTensor.arraySync()\r\n    const region = new MtcnnBox(\r\n      regionsData[idx.y][idx.x][0],\r\n      regionsData[idx.y][idx.x][1],\r\n      regionsData[idx.y][idx.x][2],\r\n      regionsData[idx.y][idx.x][3]\r\n    )\r\n\r\n    return {\r\n      cell,\r\n      score,\r\n      region\r\n    }\r\n  })\r\n\r\n  return boundingBoxes\r\n}\r\n\r\nexport function stage1(\r\n  imgTensor: tf.Tensor4D,\r\n  scales: number[],\r\n  scoreThreshold: number,\r\n  params: PNetParams,\r\n  stats: any\r\n) {\r\n  stats.stage1 = []\r\n\r\n  const pnetOutputs = scales.map((scale) => tf.tidy(() => {\r\n    const statsForScale: any = { scale }\r\n    const resized = rescaleAndNormalize(imgTensor, scale)\r\n\r\n    let ts = Date.now()\r\n    const { prob, regions } = PNet(resized, params)\r\n    statsForScale.pnet = Date.now() - ts\r\n\r\n    const scoresTensor = tf.unstack(tf.unstack(prob, 3)[1])[0] as tf.Tensor2D\r\n    const regionsTensor = tf.unstack(regions)[0] as tf.Tensor3D\r\n\r\n    return {\r\n      scoresTensor,\r\n      regionsTensor,\r\n      scale,\r\n      statsForScale\r\n    }\r\n  }))\r\n\r\n  const boxesForScale = pnetOutputs.map(({ scoresTensor, regionsTensor, scale, statsForScale }) => {\r\n    const boundingBoxes = extractBoundingBoxes(\r\n      scoresTensor,\r\n      regionsTensor,\r\n      scale,\r\n      scoreThreshold\r\n    )\r\n\r\n    scoresTensor.dispose()\r\n    regionsTensor.dispose()\r\n\r\n    if (!boundingBoxes.length) {\r\n      stats.stage1.push(statsForScale)\r\n      return []\r\n    }\r\n\r\n    let ts = Date.now()\r\n    const indices = nonMaxSuppression(\r\n      boundingBoxes.map(bbox => bbox.cell),\r\n      boundingBoxes.map(bbox => bbox.score),\r\n      0.5\r\n    )\r\n    statsForScale.nms = Date.now() - ts\r\n    statsForScale.numBoxes = indices.length\r\n\r\n    stats.stage1.push(statsForScale)\r\n    return indices.map(boxIdx => boundingBoxes[boxIdx])\r\n  })\r\n\r\n  const allBoxes = boxesForScale.reduce(\r\n    (all, boxes) => all.concat(boxes), []\r\n  )\r\n\r\n  let finalBoxes: BoundingBox[] = []\r\n  let finalScores: number[] = []\r\n\r\n  if (allBoxes.length > 0) {\r\n    let ts = Date.now()\r\n    const indices = nonMaxSuppression(\r\n      allBoxes.map(bbox => bbox.cell),\r\n      allBoxes.map(bbox => bbox.score),\r\n      0.7\r\n    )\r\n    stats.stage1_nms = Date.now() - ts\r\n\r\n    finalScores = indices.map(idx => allBoxes[idx].score)\r\n    finalBoxes = indices\r\n      .map(idx => allBoxes[idx])\r\n      .map(({ cell, region }) =>\r\n        new BoundingBox(\r\n          cell.left + (region.left * cell.width),\r\n          cell.top + (region.top * cell.height),\r\n          cell.right + (region.right * cell.width),\r\n          cell.bottom + (region.bottom * cell.height)\r\n        ).toSquare().round()\r\n      )\r\n\r\n  }\r\n\r\n  return {\r\n    boxes: finalBoxes,\r\n    scores: finalScores\r\n  }\r\n\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4828, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/mtcnn/extractImagePatches.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/mtcnn/extractImagePatches.ts"],"sourcesContent":["import * as tf from '@tensorflow/tfjs-core';\r\nimport {\r\n  Box,\r\n  createCanvas,\r\n  createCanvasFromMedia,\r\n  env,\r\n  getContext2dOrThrow,\r\n  IDimensions,\r\n} from 'tfjs-image-recognition-base';\r\n\r\nimport { normalize } from './normalize';\r\n\r\nexport async function extractImagePatches(\r\n  img: HTMLCanvasElement,\r\n  boxes: Box[],\r\n  { width, height }: IDimensions\r\n): Promise<tf.Tensor4D[]> {\r\n\r\n\r\n  const imgCtx = getContext2dOrThrow(img)\r\n\r\n  const bitmaps = await Promise.all(boxes.map(async box => {\r\n    // TODO: correct padding\r\n    const { y, ey, x, ex } = box.padAtBorders(img.height, img.width)\r\n\r\n    const fromX = x - 1\r\n    const fromY = y - 1\r\n    const imgData = imgCtx.getImageData(fromX, fromY, (ex - fromX), (ey - fromY))\r\n\r\n    return env.isNodejs() ? createCanvasFromMedia(imgData) : createImageBitmap(imgData)\r\n  }))\r\n\r\n  const imagePatchesDatas: number[][] = []\r\n\r\n  bitmaps.forEach(bmp => {\r\n    const patch = createCanvas({ width, height })\r\n    const patchCtx = getContext2dOrThrow(patch)\r\n    patchCtx.drawImage(bmp, 0, 0, width, height)\r\n    const { data } = patchCtx.getImageData(0, 0, width, height)\r\n\r\n    const currData = []\r\n    // RGBA -> BGR\r\n    for(let i = 0; i < data.length; i+=4) {\r\n      currData.push(data[i + 2])\r\n      currData.push(data[i + 1])\r\n      currData.push(data[i])\r\n    }\r\n    imagePatchesDatas.push(currData)\r\n  })\r\n\r\n\r\n  return imagePatchesDatas.map(data => {\r\n    const t = tf.tidy(() => {\r\n      const imagePatchTensor = tf.transpose(\r\n        tf.tensor4d(data, [1, width, height, 3]),\r\n        [0, 2, 1, 3]\r\n      ).toFloat() as tf.Tensor4D\r\n\r\n      return normalize(imagePatchTensor)\r\n    })\r\n    return t\r\n  })\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4918, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/mtcnn/RNet.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/mtcnn/RNet.ts"],"sourcesContent":["import * as tf from '@tensorflow/tfjs-core';\r\n\r\nimport { fullyConnectedLayer } from '../common/fullyConnectedLayer';\r\nimport { prelu } from './prelu';\r\nimport { sharedLayer } from './sharedLayers';\r\nimport { RNetParams } from './types';\r\n\r\nexport function RNet(x: tf.Tensor4D, params: RNetParams): { scores: tf.Tensor1D, regions: tf.Tensor2D } {\r\n  return tf.tidy(() => {\r\n\r\n    const convOut = sharedLayer(x, params)\r\n    const vectorized = tf.reshape(convOut, [convOut.shape[0], params.fc1.weights.shape[0]]) as tf.Tensor2D\r\n    const fc1 = fullyConnectedLayer(vectorized, params.fc1)\r\n    const prelu4 = prelu<tf.Tensor2D>(fc1, params.prelu4_alpha)\r\n    const fc2_1 = fullyConnectedLayer(prelu4, params.fc2_1)\r\n    const max = tf.expandDims(tf.max(fc2_1, 1), 1)\r\n    const prob = tf.softmax(tf.sub(fc2_1, max), 1) as tf.Tensor2D\r\n    const regions = fullyConnectedLayer(prelu4, params.fc2_2)\r\n\r\n    const scores = tf.unstack(prob, 1)[1] as tf.Tensor1D\r\n    return { scores, regions }\r\n  })\r\n}"],"names":[],"mappings":";;;;AAAA,OAAO,KAAK,EAAE,MAAM,uBAAuB,CAAC;AAE5C,OAAO,EAAE,mBAAmB,EAAE,MAAM,+BAA+B,CAAC;AACpE,OAAO,EAAE,KAAK,EAAE,MAAM,SAAS,CAAC;AAChC,OAAO,EAAE,WAAW,EAAE,MAAM,gBAAgB,CAAC;;;;;AAGvC,SAAU,IAAI,CAAC,CAAc,EAAE,MAAkB;IACrD,OAAO,EAAE,CAAC,iLAAI,CAAC;QAEb,IAAM,OAAO,OAAG,4LAAW,EAAC,CAAC,EAAE,MAAM,CAAC,CAAA;QACtC,IAAM,UAAU,GAAG,EAAE,CAAC,oLAAO,CAAC,OAAO,EAAE;YAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC;YAAE,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC;SAAC,CAAgB,CAAA;QACtG,IAAM,GAAG,OAAG,4MAAmB,EAAC,UAAU,EAAE,MAAM,CAAC,GAAG,CAAC,CAAA;QACvD,IAAM,MAAM,OAAG,+KAAK,EAAc,GAAG,EAAE,MAAM,CAAC,YAAY,CAAC,CAAA;QAC3D,IAAM,KAAK,OAAG,4MAAmB,EAAC,MAAM,EAAE,MAAM,CAAC,KAAK,CAAC,CAAA;QACvD,IAAM,GAAG,GAAG,EAAE,CAAC,uLAAU,CAAC,EAAE,CAAC,gLAAG,CAAC,KAAK,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAA;QAC9C,IAAM,IAAI,GAAG,EAAE,CAAC,oLAAO,CAAC,EAAE,CAAC,gLAAG,CAAC,KAAK,EAAE,GAAG,CAAC,EAAE,CAAC,CAAgB,CAAA;QAC7D,IAAM,OAAO,OAAG,4MAAmB,EAAC,MAAM,EAAE,MAAM,CAAC,KAAK,CAAC,CAAA;QAEzD,IAAM,MAAM,GAAG,EAAE,CAAC,oLAAO,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC,CAAgB,CAAA;QACpD,OAAO;YAAE,MAAM,EAAA,MAAA;YAAE,OAAO,EAAA,OAAA;QAAA,CAAE,CAAA;IAC5B,CAAC,CAAC,CAAA;AACJ,CAAC"}},
    {"offset": {"line": 4954, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/mtcnn/stage2.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/mtcnn/stage2.ts"],"sourcesContent":["import * as tf from '@tensorflow/tfjs-core';\r\nimport { Box, nonMaxSuppression } from 'tfjs-image-recognition-base';\r\n\r\nimport { extractImagePatches } from './extractImagePatches';\r\nimport { MtcnnBox } from './MtcnnBox';\r\nimport { RNet } from './RNet';\r\nimport { RNetParams } from './types';\r\n\r\nexport async function stage2(\r\n  img: HTMLCanvasElement,\r\n  inputBoxes: Box[],\r\n  scoreThreshold: number,\r\n  params: RNetParams,\r\n  stats: any\r\n) {\r\n\r\n  let ts = Date.now()\r\n  const rnetInputs = await extractImagePatches(img, inputBoxes, { width: 24, height: 24 })\r\n  stats.stage2_extractImagePatches = Date.now() - ts\r\n\r\n  ts = Date.now()\r\n  const rnetOuts = rnetInputs.map(\r\n    rnetInput => {\r\n      const out = RNet(rnetInput, params)\r\n      rnetInput.dispose()\r\n      return out\r\n    }\r\n  )\r\n  stats.stage2_rnet = Date.now() - ts\r\n\r\n  const scoresTensor = rnetOuts.length > 1\r\n    ? tf.concat(rnetOuts.map(out => out.scores))\r\n    : rnetOuts[0].scores\r\n  const scores = Array.from(await scoresTensor.data())\r\n  scoresTensor.dispose()\r\n\r\n  const indices = scores\r\n    .map((score, idx) => ({ score, idx }))\r\n    .filter(c => c.score > scoreThreshold)\r\n    .map(({ idx }) => idx)\r\n\r\n  const filteredBoxes = indices.map(idx => inputBoxes[idx])\r\n  const filteredScores = indices.map(idx => scores[idx])\r\n\r\n  let finalBoxes: Box[] = []\r\n  let finalScores: number[] = []\r\n\r\n  if (filteredBoxes.length > 0) {\r\n    ts = Date.now()\r\n    const indicesNms = nonMaxSuppression(\r\n      filteredBoxes,\r\n      filteredScores,\r\n      0.7\r\n    )\r\n    stats.stage2_nms = Date.now() - ts\r\n\r\n    const regions = indicesNms.map(idx =>{\r\n        const regionsData = rnetOuts[indices[idx]].regions.arraySync()\r\n        return new MtcnnBox(\r\n          regionsData[0][0],\r\n          regionsData[0][1],\r\n          regionsData[0][2],\r\n          regionsData[0][3]\r\n        )\r\n      }\r\n    )\r\n\r\n    finalScores = indicesNms.map(idx => filteredScores[idx])\r\n    finalBoxes = indicesNms.map((idx, i) => filteredBoxes[idx].calibrate(regions[i]))\r\n  }\r\n\r\n  rnetOuts.forEach(t => {\r\n    t.regions.dispose()\r\n    t.scores.dispose()\r\n  })\r\n\r\n  return {\r\n    boxes: finalBoxes,\r\n    scores: finalScores\r\n  }\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5061, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/mtcnn/ONet.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/mtcnn/ONet.ts"],"sourcesContent":["import * as tf from '@tensorflow/tfjs-core';\r\nimport { TfjsImageRecognitionBase } from 'tfjs-image-recognition-base';\r\n\r\nimport { fullyConnectedLayer } from '../common/fullyConnectedLayer';\r\nimport { prelu } from './prelu';\r\nimport { sharedLayer } from './sharedLayers';\r\nimport { ONetParams } from './types';\r\n\r\nexport function ONet(x: tf.Tensor4D, params: ONetParams): { scores: tf.Tensor1D, regions: tf.Tensor2D, points: tf.Tensor2D } {\r\n  return tf.tidy(() => {\r\n\r\n    let out = sharedLayer(x, params)\r\n    out = tf.maxPool(out, [2, 2], [2, 2], 'same')\r\n    out = TfjsImageRecognitionBase.convLayer(out, params.conv4, 'valid')\r\n    out = prelu<tf.Tensor4D>(out, params.prelu4_alpha)\r\n\r\n    const vectorized = tf.reshape(out, [out.shape[0], params.fc1.weights.shape[0]]) as tf.Tensor2D\r\n    const fc1 = fullyConnectedLayer(vectorized, params.fc1)\r\n    const prelu5 = prelu<tf.Tensor2D>(fc1, params.prelu5_alpha)\r\n    const fc2_1 = fullyConnectedLayer(prelu5, params.fc2_1)\r\n    const max = tf.expandDims(tf.max(fc2_1, 1), 1)\r\n\r\n    const prob = tf.softmax(tf.sub(fc2_1, max), 1) as tf.Tensor2D\r\n    const regions = fullyConnectedLayer(prelu5, params.fc2_2)\r\n    const points = fullyConnectedLayer(prelu5, params.fc2_3)\r\n\r\n    const scores = tf.unstack(prob, 1)[1] as tf.Tensor1D\r\n    return { scores, regions, points }\r\n  })\r\n}"],"names":[],"mappings":";;;;AAAA,OAAO,KAAK,EAAE,MAAM,uBAAuB,CAAC;;AAC5C,OAAO,EAAE,wBAAwB,EAAE,MAAM,6BAA6B,CAAC;AAEvE,OAAO,EAAE,mBAAmB,EAAE,MAAM,+BAA+B,CAAC;AACpE,OAAO,EAAE,KAAK,EAAE,MAAM,SAAS,CAAC;AAChC,OAAO,EAAE,WAAW,EAAE,MAAM,gBAAgB,CAAC;;;;;;AAGvC,SAAU,IAAI,CAAC,CAAc,EAAE,MAAkB;IACrD,OAAO,EAAE,CAAC,iLAAI,CAAC;QAEb,IAAI,GAAG,OAAG,4LAAW,EAAC,CAAC,EAAE,MAAM,CAAC,CAAA;QAChC,GAAG,GAAG,EAAE,CAAC,oLAAO,CAAC,GAAG,EAAE;YAAC,CAAC;YAAE,CAAC;SAAC,EAAE;YAAC,CAAC;YAAE,CAAC;SAAC,EAAE,MAAM,CAAC,CAAA;QAC7C,GAAG,GAAG,mRAAwB,CAAC,SAAS,CAAC,GAAG,EAAE,MAAM,CAAC,KAAK,EAAE,OAAO,CAAC,CAAA;QACpE,GAAG,OAAG,+KAAK,EAAc,GAAG,EAAE,MAAM,CAAC,YAAY,CAAC,CAAA;QAElD,IAAM,UAAU,GAAG,EAAE,CAAC,oLAAO,CAAC,GAAG,EAAE;YAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;YAAE,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC;SAAC,CAAgB,CAAA;QAC9F,IAAM,GAAG,OAAG,4MAAmB,EAAC,UAAU,EAAE,MAAM,CAAC,GAAG,CAAC,CAAA;QACvD,IAAM,MAAM,OAAG,+KAAK,EAAc,GAAG,EAAE,MAAM,CAAC,YAAY,CAAC,CAAA;QAC3D,IAAM,KAAK,OAAG,4MAAmB,EAAC,MAAM,EAAE,MAAM,CAAC,KAAK,CAAC,CAAA;QACvD,IAAM,GAAG,GAAG,EAAE,CAAC,uLAAU,CAAC,EAAE,CAAC,gLAAG,CAAC,KAAK,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAA;QAE9C,IAAM,IAAI,GAAG,EAAE,CAAC,oLAAO,CAAC,EAAE,CAAC,gLAAG,CAAC,KAAK,EAAE,GAAG,CAAC,EAAE,CAAC,CAAgB,CAAA;QAC7D,IAAM,OAAO,OAAG,4MAAmB,EAAC,MAAM,EAAE,MAAM,CAAC,KAAK,CAAC,CAAA;QACzD,IAAM,MAAM,OAAG,4MAAmB,EAAC,MAAM,EAAE,MAAM,CAAC,KAAK,CAAC,CAAA;QAExD,IAAM,MAAM,GAAG,EAAE,CAAC,oLAAO,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC,CAAgB,CAAA;QACpD,OAAO;YAAE,MAAM,EAAA,MAAA;YAAE,OAAO,EAAA,OAAA;YAAE,MAAM,EAAA,MAAA;QAAA,CAAE,CAAA;IACpC,CAAC,CAAC,CAAA;AACJ,CAAC"}},
    {"offset": {"line": 5111, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/mtcnn/stage3.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/mtcnn/stage3.ts"],"sourcesContent":["import * as tf from '@tensorflow/tfjs-core';\r\nimport { BoundingBox, Box, nonMaxSuppression, Point } from 'tfjs-image-recognition-base';\r\n\r\nimport { extractImagePatches } from './extractImagePatches';\r\nimport { MtcnnBox } from './MtcnnBox';\r\nimport { ONet } from './ONet';\r\nimport { ONetParams } from './types';\r\n\r\nexport async function stage3(\r\n  img: HTMLCanvasElement,\r\n  inputBoxes: BoundingBox[],\r\n  scoreThreshold: number,\r\n  params: ONetParams,\r\n  stats: any\r\n) {\r\n\r\n  let ts = Date.now()\r\n  const onetInputs = await extractImagePatches(img, inputBoxes, { width: 48, height: 48 })\r\n  stats.stage3_extractImagePatches = Date.now() - ts\r\n\r\n  ts = Date.now()\r\n  const onetOuts = onetInputs.map(\r\n    onetInput => {\r\n      const out = ONet(onetInput, params)\r\n      onetInput.dispose()\r\n      return out\r\n    }\r\n  )\r\n  stats.stage3_onet = Date.now() - ts\r\n\r\n  const scoresTensor = onetOuts.length > 1\r\n    ? tf.concat(onetOuts.map(out => out.scores))\r\n    : onetOuts[0].scores\r\n  const scores = Array.from(await scoresTensor.data())\r\n  scoresTensor.dispose()\r\n\r\n  const indices = scores\r\n    .map((score, idx) => ({ score, idx }))\r\n    .filter(c => c.score > scoreThreshold)\r\n    .map(({ idx }) => idx)\r\n\r\n  const filteredRegions = indices.map(idx => {\r\n    const regionsData = onetOuts[idx].regions.arraySync();\r\n    return new MtcnnBox(\r\n      regionsData[0][0],\r\n      regionsData[0][1],\r\n      regionsData[0][2],\r\n      regionsData[0][3]\r\n  )})\r\n  const filteredBoxes = indices\r\n    .map((idx, i) => inputBoxes[idx].calibrate(filteredRegions[i]))\r\n  const filteredScores = indices.map(idx => scores[idx])\r\n\r\n  let finalBoxes: Box[] = []\r\n  let finalScores: number[] = []\r\n  let points: Point[][] = []\r\n\r\n  if (filteredBoxes.length > 0) {\r\n\r\n    ts = Date.now()\r\n    const indicesNms = nonMaxSuppression(\r\n      filteredBoxes,\r\n      filteredScores,\r\n      0.7,\r\n      false\r\n    )\r\n    stats.stage3_nms = Date.now() - ts\r\n\r\n    finalBoxes = indicesNms.map(idx => filteredBoxes[idx])\r\n    finalScores = indicesNms.map(idx => filteredScores[idx])\r\n    points = indicesNms.map((idx, i) =>\r\n      Array(5).fill(0).map((_, ptIdx) =>{\r\n          const pointsData = onetOuts[idx].points.arraySync()\r\n          return new Point(\r\n            ((pointsData[0][ptIdx] * (finalBoxes[i].width + 1)) + finalBoxes[i].left) ,\r\n            ((pointsData[0][ptIdx+5] * (finalBoxes[i].height + 1)) + finalBoxes[i].top)\r\n          )\r\n        }\r\n      )\r\n    )\r\n  }\r\n\r\n  onetOuts.forEach(t => {\r\n    t.regions.dispose()\r\n    t.scores.dispose()\r\n    t.points.dispose()\r\n  })\r\n\r\n  return {\r\n    boxes: finalBoxes,\r\n    scores: finalScores,\r\n    points\r\n  }\r\n\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA,OAAO,KAAK,EAAE,MAAM,uBAAuB,CAAC;;;AAC5C,OAAO,EAAoB,iBAAiB,EAAE,KAAK,EAAE,MAAM,6BAA6B,CAAC;AAEzF,OAAO,EAAE,mBAAmB,EAAE,MAAM,uBAAuB,CAAC;AAC5D,OAAO,EAAE,QAAQ,EAAE,MAAM,YAAY,CAAC;AACtC,OAAO,EAAE,IAAI,EAAE,MAAM,QAAQ,CAAC;;;;;;;AAGxB,SAAgB,MAAM,CAC1B,GAAsB,EACtB,UAAyB,EACzB,cAAsB,EACtB,MAAkB,EAClB,KAAU;;;;;;oBAGN,EAAE,GAAG,IAAI,CAAC,GAAG,EAAE,CAAA;oBACA,OAAA;wBAAA,EAAA,OAAA;4BAAM,2MAAmB,EAAC,GAAG,EAAE,UAAU,EAAE;4BAAE,KAAK,EAAE,EAAE;4BAAE,MAAM,EAAE,EAAE;wBAAA,CAAE,CAAC;qBAAA,CAAA;;oBAAlF,UAAU,GAAG,GAAA,IAAA,EAAqE;oBACxF,KAAK,CAAC,0BAA0B,GAAG,IAAI,CAAC,GAAG,EAAE,GAAG,EAAE,CAAA;oBAElD,EAAE,GAAG,IAAI,CAAC,GAAG,EAAE,CAAA;oBACT,QAAQ,GAAG,UAAU,CAAC,GAAG,CAC7B,SAAA,SAAS;wBACP,IAAM,GAAG,OAAG,6KAAI,EAAC,SAAS,EAAE,MAAM,CAAC,CAAA;wBACnC,SAAS,CAAC,OAAO,EAAE,CAAA;wBACnB,OAAO,GAAG,CAAA;oBACZ,CAAC,CACF,CAAA;oBACD,KAAK,CAAC,WAAW,GAAG,IAAI,CAAC,GAAG,EAAE,GAAG,EAAE,CAAA;oBAE7B,YAAY,GAAG,QAAQ,CAAC,MAAM,GAAG,CAAC,GACpC,EAAE,CAAC,mLAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,SAAA,GAAG;wBAAI,OAAA,GAAG,CAAC,MAAM;oBAAV,CAAU,CAAC,CAAC,GAC1C,QAAQ,CAAC,CAAC,CAAC,CAAC,MAAM,CAAA;oBACP,KAAA,CAAA,KAAA,KAAK,CAAA,CAAC,IAAI,CAAA;oBAAC,OAAA;wBAAA,EAAA,OAAA;wBAAM,YAAY,CAAC,IAAI,EAAE;qBAAA,CAAA;;oBAA7C,MAAM,GAAG,GAAA,KAAA,CAAA,IAAA;wBAAW,GAAA,IAAA,EAAyB;qBAAA,CAAC;oBACpD,YAAY,CAAC,OAAO,EAAE,CAAA;oBAEhB,OAAO,GAAG,MAAM,CACnB,GAAG,CAAC,SAAC,KAAK,EAAE,GAAG;wBAAK,OAAA,AAAC;4BAAE,KAAK,EAAA,KAAA;4BAAE,GAAG,EAAA,GAAA;wBAAA,CAAE,CAAC;oBAAhB,CAAgB,CAAC,CACrC,MAAM,CAAC,SAAA,CAAC;wBAAI,OAAA,CAAC,CAAC,KAAK,GAAG,cAAc;oBAAxB,CAAwB,CAAC,CACrC,GAAG,CAAC,SAAC,EAAO;4BAAL,MAAA,GAAA,GAAG;wBAAO,OAAA,GAAG;oBAAH,CAAG,CAAC,CAAA;oBAElB,eAAe,GAAG,OAAO,CAAC,GAAG,CAAC,SAAA,GAAG;wBACrC,IAAM,WAAW,GAAG,QAAQ,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,SAAS,EAAE,CAAC;wBACtD,OAAO,IAAI,qLAAQ,CACjB,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EACjB,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EACjB,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EACjB,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CACpB,CAAA;oBAAA,CAAC,CAAC,CAAA;oBACG,aAAa,GAAG,OAAO,CAC1B,GAAG,CAAC,SAAC,GAAG,EAAE,CAAC;wBAAK,OAAA,UAAU,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;oBAA7C,CAA6C,CAAC,CAAA;oBAC3D,cAAc,GAAG,OAAO,CAAC,GAAG,CAAC,SAAA,GAAG;wBAAI,OAAA,MAAM,CAAC,GAAG,CAAC;oBAAX,CAAW,CAAC,CAAA;oBAElD,UAAU,GAAU,EAAE,CAAA;oBACtB,WAAW,GAAa,EAAE,CAAA;oBAC1B,MAAM,GAAc,EAAE,CAAA;oBAE1B,IAAI,aAAa,CAAC,MAAM,GAAG,CAAC,EAAE;wBAE5B,EAAE,GAAG,IAAI,CAAC,GAAG,EAAE,CAAA;wBACT,UAAU,OAAG,wNAAiB,EAClC,aAAa,EACb,cAAc,EACd,GAAG,EACH,KAAK,CACN,CAAA;wBACD,KAAK,CAAC,UAAU,GAAG,IAAI,CAAC,GAAG,EAAE,GAAG,EAAE,CAAA;wBAElC,UAAU,GAAG,UAAU,CAAC,GAAG,CAAC,SAAA,GAAG;4BAAI,OAAA,aAAa,CAAC,GAAG,CAAC;wBAAlB,CAAkB,CAAC,CAAA;wBACtD,WAAW,GAAG,UAAU,CAAC,GAAG,CAAC,SAAA,GAAG;4BAAI,OAAA,cAAc,CAAC,GAAG,CAAC;wBAAnB,CAAmB,CAAC,CAAA;wBACxD,MAAM,GAAG,UAAU,CAAC,GAAG,CAAC,SAAC,GAAG,EAAE,CAAC;4BAC7B,OAAA,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,SAAC,CAAC,EAAE,KAAK;gCAC1B,IAAM,UAAU,GAAG,QAAQ,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,SAAS,EAAE,CAAA;gCACnD,OAAO,IAAI,oMAAK,CACd,AAAC,AAAC,UAAU,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,EAAG,UAAU,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CACxE,AAAC,CAAF,SAAY,CAAC,CAAC,CAAC,CAAC,KAAK,GAAC,CAAC,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,EAAG,UAAU,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAC5E,CAAA;4BACH,CAAC,CACF;wBAPD,CAOC,CACF,CAAA;qBACF;oBAED,QAAQ,CAAC,OAAO,CAAC,SAAA,CAAC;wBAChB,CAAC,CAAC,OAAO,CAAC,OAAO,EAAE,CAAA;wBACnB,CAAC,CAAC,MAAM,CAAC,OAAO,EAAE,CAAA;wBAClB,CAAC,CAAC,MAAM,CAAC,OAAO,EAAE,CAAA;oBACpB,CAAC,CAAC,CAAA;oBAEF,OAAA;wBAAA,EAAA,QAAA;wBAAO;4BACL,KAAK,EAAE,UAAU;4BACjB,MAAM,EAAE,WAAW;4BACnB,MAAM,EAAA,MAAA;yBACP;qBAAA,CAAA;;;;CAEF"}},
    {"offset": {"line": 5228, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/mtcnn/Mtcnn.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/mtcnn/Mtcnn.ts"],"sourcesContent":["import * as tf from '@tensorflow/tfjs-core';\r\nimport { NetInput, NeuralNetwork, Point, Rect, TNetInput, toNetInput } from 'tfjs-image-recognition-base';\r\n\r\nimport { FaceDetection } from '../classes/FaceDetection';\r\nimport { FaceLandmarks5 } from '../classes/FaceLandmarks5';\r\nimport { extendWithFaceDetection, extendWithFaceLandmarks } from '../factories';\r\nimport { bgrToRgbTensor } from './bgrToRgbTensor';\r\nimport { CELL_SIZE } from './config';\r\nimport { extractParams } from './extractParams';\r\nimport { extractParamsFromWeigthMap } from './extractParamsFromWeigthMap';\r\nimport { getSizesForScale } from './getSizesForScale';\r\nimport { IMtcnnOptions, MtcnnOptions } from './MtcnnOptions';\r\nimport { pyramidDown } from './pyramidDown';\r\nimport { stage1 } from './stage1';\r\nimport { stage2 } from './stage2';\r\nimport { stage3 } from './stage3';\r\nimport { MtcnnResult, NetParams } from './types';\r\n\r\nexport class Mtcnn extends NeuralNetwork<NetParams> {\r\n\r\n  constructor() {\r\n    super('Mtcnn')\r\n  }\r\n\r\n  public async forwardInput(\r\n    input: NetInput,\r\n    forwardParams: IMtcnnOptions = {}\r\n  ): Promise<{ results: MtcnnResult[], stats: any }> {\r\n\r\n    const { params } = this\r\n\r\n    if (!params) {\r\n      throw new Error('Mtcnn - load model before inference')\r\n    }\r\n\r\n    const inputCanvas = input.canvases[0]\r\n\r\n    if (!inputCanvas) {\r\n      throw new Error('Mtcnn - inputCanvas is not defined, note that passing tensors into Mtcnn.forwardInput is not supported yet.')\r\n    }\r\n\r\n    const stats: any = {}\r\n\r\n    const tsTotal = Date.now()\r\n\r\n    const imgTensor = tf.tidy(() =>\r\n      bgrToRgbTensor(\r\n        tf.expandDims(tf.browser.fromPixels(inputCanvas)).toFloat() as tf.Tensor4D\r\n      )\r\n    )\r\n\r\n    const onReturn = (results: any) => {\r\n      // dispose tensors on return\r\n      imgTensor.dispose()\r\n      stats.total = Date.now() - tsTotal\r\n      return results\r\n    }\r\n\r\n    const [height, width] = imgTensor.shape.slice(1)\r\n\r\n    const {\r\n      minFaceSize,\r\n      scaleFactor,\r\n      maxNumScales,\r\n      scoreThresholds,\r\n      scaleSteps\r\n    } = new MtcnnOptions(forwardParams)\r\n\r\n    const scales = (scaleSteps || pyramidDown(minFaceSize, scaleFactor, [height, width]))\r\n      .filter(scale => {\r\n        const sizes = getSizesForScale(scale, [height, width])\r\n        return Math.min(sizes.width, sizes.height) > CELL_SIZE\r\n      })\r\n      .slice(0, maxNumScales)\r\n\r\n    stats.scales = scales\r\n    stats.pyramid = scales.map(scale => getSizesForScale(scale, [height, width]))\r\n\r\n    let ts = Date.now()\r\n    const out1 = await stage1(imgTensor, scales, scoreThresholds[0], params.pnet, stats)\r\n    stats.total_stage1 = Date.now() - ts\r\n\r\n    if (!out1.boxes.length) {\r\n      return onReturn({ results: [], stats })\r\n    }\r\n\r\n    stats.stage2_numInputBoxes = out1.boxes.length\r\n    // using the inputCanvas to extract and resize the image patches, since it is faster\r\n    // than doing this on the gpu\r\n    ts = Date.now()\r\n    const out2 = await stage2(inputCanvas, out1.boxes, scoreThresholds[1], params.rnet, stats)\r\n    stats.total_stage2 = Date.now() - ts\r\n\r\n    if (!out2.boxes.length) {\r\n      return onReturn({ results: [], stats })\r\n    }\r\n\r\n    stats.stage3_numInputBoxes = out2.boxes.length\r\n\r\n    ts = Date.now()\r\n    const out3 = await stage3(inputCanvas, out2.boxes, scoreThresholds[2], params.onet, stats)\r\n    stats.total_stage3 = Date.now() - ts\r\n\r\n    const results = out3.boxes.map((box, idx) => extendWithFaceLandmarks(\r\n      extendWithFaceDetection<{}>(\r\n        {},\r\n        new FaceDetection(\r\n          out3.scores[idx],\r\n          new Rect(\r\n            box.left / width,\r\n            box.top / height,\r\n            box.width / width,\r\n            box.height / height\r\n          ),\r\n          {\r\n            height,\r\n            width\r\n          }\r\n        )\r\n      ),\r\n      new FaceLandmarks5(\r\n        out3.points[idx].map(pt => pt.sub(new Point(box.left, box.top)).div(new Point(box.width, box.height))),\r\n        { width: box.width, height: box.height }\r\n      )\r\n    ))\r\n\r\n    return onReturn({ results, stats })\r\n  }\r\n\r\n  public async forward(\r\n    input: TNetInput,\r\n    forwardParams: IMtcnnOptions = {}\r\n  ): Promise<MtcnnResult[]> {\r\n    return (\r\n      await this.forwardInput(\r\n        await toNetInput(input),\r\n        forwardParams\r\n      )\r\n    ).results\r\n  }\r\n\r\n  public async forwardWithStats(\r\n    input: TNetInput,\r\n    forwardParams: IMtcnnOptions = {}\r\n  ): Promise<{ results: MtcnnResult[], stats: any }> {\r\n    return this.forwardInput(\r\n      await toNetInput(input),\r\n      forwardParams\r\n    )\r\n  }\r\n\r\n  protected getDefaultModelName(): string {\r\n    return 'mtcnn_model'\r\n  }\r\n\r\n  protected extractParamsFromWeigthMap(weightMap: tf.NamedTensorMap) {\r\n    return extractParamsFromWeigthMap(weightMap)\r\n  }\r\n\r\n  protected extractParams(weights: Float32Array) {\r\n    return extractParams(weights)\r\n  }\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5464, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/tinyFaceDetector/const.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/tinyFaceDetector/const.ts"],"sourcesContent":["import { Point } from 'tfjs-image-recognition-base';\r\n\r\nexport const IOU_THRESHOLD = 0.4\r\n\r\nexport const BOX_ANCHORS = [\r\n  new Point(1.603231, 2.094468),\r\n  new Point(6.041143, 7.080126),\r\n  new Point(2.882459, 3.518061),\r\n  new Point(4.266906, 5.178857),\r\n  new Point(9.041765, 10.66308)\r\n]\r\n\r\nexport const MEAN_RGB: [number, number, number] = [117.001, 114.697, 97.404]"],"names":[],"mappings":";;;;;;;;;AAAA,OAAO,EAAE,KAAK,EAAE,MAAM,6BAA6B,CAAC;;AAE7C,IAAM,aAAa,GAAG,GAAG,CAAA;AAEzB,IAAM,WAAW,GAAG;IACzB,IAAI,oMAAK,CAAC,QAAQ,EAAE,QAAQ,CAAC;IAC7B,IAAI,oMAAK,CAAC,QAAQ,EAAE,QAAQ,CAAC;IAC7B,IAAI,oMAAK,CAAC,QAAQ,EAAE,QAAQ,CAAC;IAC7B,IAAI,oMAAK,CAAC,QAAQ,EAAE,QAAQ,CAAC;IAC7B,IAAI,oMAAK,CAAC,QAAQ,EAAE,QAAQ,CAAC;CAC9B,CAAA;AAEM,IAAM,QAAQ,GAA6B;IAAC,OAAO;IAAE,OAAO;IAAE,MAAM;CAAC,CAAA"}},
    {"offset": {"line": 5492, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/tinyFaceDetector/TinyFaceDetector.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/tinyFaceDetector/TinyFaceDetector.ts"],"sourcesContent":["import * as tf from '@tensorflow/tfjs-core';\r\nimport { Point, TfjsImageRecognitionBase, TNetInput } from 'tfjs-image-recognition-base';\r\n\r\nimport { FaceDetection } from '../classes';\r\nimport { BOX_ANCHORS, IOU_THRESHOLD, MEAN_RGB } from './const';\r\n\r\nexport class TinyFaceDetector extends TfjsImageRecognitionBase.TinyYolov2 {\r\n\r\n  constructor() {\r\n    const config = {\r\n      withSeparableConvs: true,\r\n      iouThreshold: IOU_THRESHOLD,\r\n      classes: ['face'],\r\n      anchors: BOX_ANCHORS,\r\n      meanRgb: MEAN_RGB,\r\n      isFirstLayerConv2d: true,\r\n      filterSizes: [3, 16, 32, 64, 128, 256, 512]\r\n    }\r\n\r\n    super(config)\r\n  }\r\n\r\n  public get anchors(): Point[] {\r\n    return this.config.anchors\r\n  }\r\n\r\n  public async locateFaces(input: TNetInput, forwardParams: TfjsImageRecognitionBase.ITinyYolov2Options): Promise<FaceDetection[]> {\r\n    const objectDetections = await this.detect(input, forwardParams)\r\n    return objectDetections.map(det => new FaceDetection(det.score, det.relativeBox, { width: det.imageWidth, height: det.imageHeight }))\r\n  }\r\n\r\n  protected getDefaultModelName(): string {\r\n    return 'tiny_face_detector_model'\r\n  }\r\n\r\n  protected extractParamsFromWeigthMap(weightMap: tf.NamedTensorMap): { params: TfjsImageRecognitionBase.TinyYolov2NetParams, paramMappings: TfjsImageRecognitionBase.ParamMapping[] } {\r\n    return super.extractParamsFromWeigthMap(weightMap)\r\n  }\r\n}"],"names":[],"mappings":";;;;;;AACA,OAAO,EAAS,wBAAwB,EAAa,MAAM,6BAA6B,CAAC;;AAEzF,OAAO,EAAE,aAAa,EAAE,MAAM,YAAY,CAAC;AAC3C,OAAO,EAAE,WAAW,EAAE,aAAa,EAAE,QAAQ,EAAE,MAAM,SAAS,CAAC;;;;;AAE/D,IAAA,mBAAA,SAAA,MAAA;IAAsC,0LAAA,CAAA,kBAAA,QAAmC;IAEvE,SAAA;QAAA,IAAA,QAAA,IAAA,CAYC;QAXC,IAAM,MAAM,GAAG;YACb,kBAAkB,EAAE,IAAI;YACxB,YAAY,EAAE,kMAAa;YAC3B,OAAO,EAAE;gBAAC,MAAM;aAAC;YACjB,OAAO,EAAE,gMAAW;YACpB,OAAO,EAAE,6LAAQ;YACjB,kBAAkB,EAAE,IAAI;YACxB,WAAW,EAAE;gBAAC,CAAC;gBAAE,EAAE;gBAAE,EAAE;gBAAE,EAAE;gBAAE,GAAG;gBAAE,GAAG;gBAAE,GAAG;aAAC;SAC5C,CAAA;QAED,QAAA,OAAA,IAAA,CAAA,IAAA,EAAM,MAAM,CAAC,IAAA,IAAA,CAAA;;IACf,CAAC;IAED,OAAA,cAAA,CAAW,iBAAA,SAAA,EAAA,SAAO,EAAA;aAAlB;YACE,OAAO,IAAI,CAAC,MAAM,CAAC,OAAO,CAAA;QAC5B,CAAC;;;OAAA;IAEY,iBAAA,SAAA,CAAA,WAAW,GAAxB,SAAyB,KAAgB,EAAE,aAA0D;;;;;;wBAC1E,OAAA;4BAAA,EAAA,OAAA;4BAAM,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,aAAa,CAAC;yBAAA,CAAA;;wBAA1D,gBAAgB,GAAG,GAAA,IAAA,EAAuC;wBAChE,OAAA;4BAAA,EAAA,QAAA;4BAAO,gBAAgB,CAAC,GAAG,CAAC,SAAA,GAAG;gCAAI,OAAA,IAAI,iMAAa,CAAC,GAAG,CAAC,KAAK,EAAE,GAAG,CAAC,WAAW,EAAE;oCAAE,KAAK,EAAE,GAAG,CAAC,UAAU;oCAAE,MAAM,EAAE,GAAG,CAAC,WAAW;gCAAA,CAAE,CAAC;4BAAjG,CAAiG,CAAC;yBAAA,CAAA;;;;KACtI;IAES,iBAAA,SAAA,CAAA,mBAAmB,GAA7B;QACE,OAAO,0BAA0B,CAAA;IACnC,CAAC;IAES,iBAAA,SAAA,CAAA,0BAA0B,GAApC,SAAqC,SAA4B;QAC/D,OAAO,OAAA,SAAA,CAAM,0BAA0B,CAAA,IAAA,CAAA,IAAA,EAAC,SAAS,CAAC,CAAA;IACpD,CAAC;IACH,OAAA,gBAAC;AAAD,CAAC,AAhCD,CAAsC,mRAAwB,CAAC,UAAU,GAgCxE"}},
    {"offset": {"line": 5578, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/tinyYolov2/const.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/tinyYolov2/const.ts"],"sourcesContent":["import { Point } from 'tfjs-image-recognition-base';\r\n\r\nexport const IOU_THRESHOLD = 0.4\r\n\r\nexport const BOX_ANCHORS = [\r\n  new Point(0.738768, 0.874946),\r\n  new Point(2.42204, 2.65704),\r\n  new Point(4.30971, 7.04493),\r\n  new Point(10.246, 4.59428),\r\n  new Point(12.6868, 11.8741)\r\n]\r\n\r\nexport const BOX_ANCHORS_SEPARABLE = [\r\n  new Point(1.603231, 2.094468),\r\n  new Point(6.041143, 7.080126),\r\n  new Point(2.882459, 3.518061),\r\n  new Point(4.266906, 5.178857),\r\n  new Point(9.041765, 10.66308)\r\n]\r\n\r\nexport const MEAN_RGB_SEPARABLE: [number, number, number] = [117.001, 114.697, 97.404]\r\n\r\nexport const DEFAULT_MODEL_NAME = 'tiny_yolov2_model'\r\nexport const DEFAULT_MODEL_NAME_SEPARABLE_CONV = 'tiny_yolov2_separable_conv_model'"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,OAAO,EAAE,KAAK,EAAE,MAAM,6BAA6B,CAAC;;AAE7C,IAAM,aAAa,GAAG,GAAG,CAAA;AAEzB,IAAM,WAAW,GAAG;IACzB,IAAI,oMAAK,CAAC,QAAQ,EAAE,QAAQ,CAAC;IAC7B,IAAI,oMAAK,CAAC,OAAO,EAAE,OAAO,CAAC;IAC3B,IAAI,oMAAK,CAAC,OAAO,EAAE,OAAO,CAAC;IAC3B,IAAI,oMAAK,CAAC,MAAM,EAAE,OAAO,CAAC;IAC1B,IAAI,oMAAK,CAAC,OAAO,EAAE,OAAO,CAAC;CAC5B,CAAA;AAEM,IAAM,qBAAqB,GAAG;IACnC,IAAI,oMAAK,CAAC,QAAQ,EAAE,QAAQ,CAAC;IAC7B,IAAI,oMAAK,CAAC,QAAQ,EAAE,QAAQ,CAAC;IAC7B,IAAI,oMAAK,CAAC,QAAQ,EAAE,QAAQ,CAAC;IAC7B,IAAI,oMAAK,CAAC,QAAQ,EAAE,QAAQ,CAAC;IAC7B,IAAI,oMAAK,CAAC,QAAQ,EAAE,QAAQ,CAAC;CAC9B,CAAA;AAEM,IAAM,kBAAkB,GAA6B;IAAC,OAAO;IAAE,OAAO;IAAE,MAAM;CAAC,CAAA;AAE/E,IAAM,kBAAkB,GAAG,mBAAmB,CAAA;AAC9C,IAAM,iCAAiC,GAAG,kCAAkC,CAAA"}},
    {"offset": {"line": 5621, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/tinyYolov2/TinyYolov2.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/tinyYolov2/TinyYolov2.ts"],"sourcesContent":["import * as tf from '@tensorflow/tfjs-core';\r\nimport { Point, TfjsImageRecognitionBase, TNetInput } from 'tfjs-image-recognition-base';\r\n\r\nimport { FaceDetection } from '../classes';\r\nimport {\r\n  BOX_ANCHORS,\r\n  BOX_ANCHORS_SEPARABLE,\r\n  DEFAULT_MODEL_NAME,\r\n  DEFAULT_MODEL_NAME_SEPARABLE_CONV,\r\n  IOU_THRESHOLD,\r\n  MEAN_RGB_SEPARABLE,\r\n} from './const';\r\n\r\nexport class TinyYolov2 extends TfjsImageRecognitionBase.TinyYolov2 {\r\n\r\n  constructor(withSeparableConvs: boolean = true) {\r\n    const config = Object.assign({}, {\r\n      withSeparableConvs,\r\n      iouThreshold: IOU_THRESHOLD,\r\n      classes: ['face']\r\n    },\r\n    withSeparableConvs\r\n      ? {\r\n        anchors: BOX_ANCHORS_SEPARABLE,\r\n        meanRgb: MEAN_RGB_SEPARABLE\r\n      }\r\n      : {\r\n        anchors: BOX_ANCHORS,\r\n        withClassScores: true\r\n      }\r\n    )\r\n\r\n    super(config)\r\n  }\r\n\r\n  public get withSeparableConvs(): boolean {\r\n    return this.config.withSeparableConvs\r\n  }\r\n\r\n  public get anchors(): Point[] {\r\n    return this.config.anchors\r\n  }\r\n\r\n  public async locateFaces(input: TNetInput, forwardParams: TfjsImageRecognitionBase.ITinyYolov2Options): Promise<FaceDetection[]> {\r\n    const objectDetections = await this.detect(input, forwardParams)\r\n    return objectDetections.map(det => new FaceDetection(det.score, det.relativeBox, { width: det.imageWidth, height: det.imageHeight }))\r\n  }\r\n\r\n  protected getDefaultModelName(): string {\r\n    return this.withSeparableConvs ? DEFAULT_MODEL_NAME_SEPARABLE_CONV : DEFAULT_MODEL_NAME\r\n  }\r\n\r\n  protected extractParamsFromWeigthMap(weightMap: tf.NamedTensorMap): { params: TfjsImageRecognitionBase.TinyYolov2NetParams, paramMappings: TfjsImageRecognitionBase.ParamMapping[] } {\r\n    return super.extractParamsFromWeigthMap(weightMap)\r\n  }\r\n}"],"names":[],"mappings":";;;;;;AACA,OAAO,EAAS,wBAAwB,EAAa,MAAM,6BAA6B,CAAC;;AAEzF,OAAO,EAAE,aAAa,EAAE,MAAM,YAAY,CAAC;AAC3C,OAAO,EACL,WAAW,EACX,qBAAqB,EACrB,kBAAkB,EAClB,iCAAiC,EACjC,aAAa,EACb,kBAAkB,GACnB,MAAM,SAAS,CAAC;;;;;AAEjB,IAAA,aAAA,SAAA,MAAA;IAAgC,0LAAA,CAAA,YAAA,QAAmC;IAEjE,SAAA,WAAY,kBAAkC;QAAlC,IAAA,uBAAA,KAAA,GAAA;YAAA,qBAAA,IAAkC;QAAA;QAA9C,IAAA,QAAA,IAAA,CAkBC;QAjBC,IAAM,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,CAAA,CAAE,EAAE;YAC/B,kBAAkB,EAAA,kBAAA;YAClB,YAAY,EAAE,4LAAa;YAC3B,OAAO,EAAE;gBAAC,MAAM;aAAC;SAClB,EACD,kBAAkB,GACd;YACA,OAAO,EAAE,oMAAqB;YAC9B,OAAO,EAAE,iMAAkB;SAC5B,GACC;YACA,OAAO,EAAE,0LAAW;YACpB,eAAe,EAAE,IAAI;SACtB,CACF,CAAA;QAED,QAAA,OAAA,IAAA,CAAA,IAAA,EAAM,MAAM,CAAC,IAAA,IAAA,CAAA;;IACf,CAAC;IAED,OAAA,cAAA,CAAW,WAAA,SAAA,EAAA,oBAAkB,EAAA;aAA7B;YACE,OAAO,IAAI,CAAC,MAAM,CAAC,kBAAkB,CAAA;QACvC,CAAC;;;OAAA;IAED,OAAA,cAAA,CAAW,WAAA,SAAA,EAAA,SAAO,EAAA;aAAlB;YACE,OAAO,IAAI,CAAC,MAAM,CAAC,OAAO,CAAA;QAC5B,CAAC;;;OAAA;IAEY,WAAA,SAAA,CAAA,WAAW,GAAxB,SAAyB,KAAgB,EAAE,aAA0D;;;;;;wBAC1E,OAAA;4BAAA,EAAA,OAAA;4BAAM,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,aAAa,CAAC;yBAAA,CAAA;;wBAA1D,gBAAgB,GAAG,GAAA,IAAA,EAAuC;wBAChE,OAAA;4BAAA,EAAA,QAAA;4BAAO,gBAAgB,CAAC,GAAG,CAAC,SAAA,GAAG;gCAAI,OAAA,IAAI,iMAAa,CAAC,GAAG,CAAC,KAAK,EAAE,GAAG,CAAC,WAAW,EAAE;oCAAE,KAAK,EAAE,GAAG,CAAC,UAAU;oCAAE,MAAM,EAAE,GAAG,CAAC,WAAW;gCAAA,CAAE,CAAC;4BAAjG,CAAiG,CAAC;yBAAA,CAAA;;;;KACtI;IAES,WAAA,SAAA,CAAA,mBAAmB,GAA7B;QACE,OAAO,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC,gNAAiC,CAAC,CAAC,CAAC,iMAAkB,CAAA;IACzF,CAAC;IAES,WAAA,SAAA,CAAA,0BAA0B,GAApC,SAAqC,SAA4B;QAC/D,OAAO,OAAA,SAAA,CAAM,0BAA0B,CAAA,IAAA,CAAA,IAAA,EAAC,SAAS,CAAC,CAAA;IACpD,CAAC;IACH,OAAA,UAAC;AAAD,CAAC,AA1CD,CAAgC,mRAAwB,CAAC,UAAU,GA0ClE"}},
    {"offset": {"line": 5711, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/tinyYolov2/index.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/tinyYolov2/index.ts"],"sourcesContent":["import { TinyYolov2 } from './TinyYolov2';\r\n\r\nexport { TinyYolov2 }\r\n\r\nexport function createTinyYolov2(weights: Float32Array, withSeparableConvs: boolean = true) {\r\n  const net = new TinyYolov2(withSeparableConvs)\r\n  net.extractWeights(weights)\r\n  return net\r\n}"],"names":[],"mappings":";;;;AAAA,OAAO,EAAE,UAAU,EAAE,MAAM,cAAc,CAAC;;;AAIpC,SAAU,gBAAgB,CAAC,OAAqB,EAAE,kBAAkC;IAAlC,IAAA,uBAAA,KAAA,GAAA;QAAA,qBAAA,IAAkC;IAAA;IACxF,IAAM,GAAG,GAAG,IAAI,8LAAU,CAAC,kBAAkB,CAAC,CAAA;IAC9C,GAAG,CAAC,cAAc,CAAC,OAAO,CAAC,CAAA;IAC3B,OAAO,GAAG,CAAA;AACZ,CAAC"}},
    {"offset": {"line": 5730, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/globalApi/nets.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/globalApi/nets.ts"],"sourcesContent":["import { TfjsImageRecognitionBase, TNetInput } from 'tfjs-image-recognition-base';\r\n\r\nimport { AgeGenderNet } from '../ageGenderNet/AgeGenderNet';\r\nimport { AgeAndGenderPrediction } from '../ageGenderNet/types';\r\nimport { FaceDetection } from '../classes/FaceDetection';\r\nimport { FaceLandmarks5 } from '../classes/FaceLandmarks5';\r\nimport { FaceLandmarks68 } from '../classes/FaceLandmarks68';\r\nimport { FaceExpressionNet } from '../faceExpressionNet/FaceExpressionNet';\r\nimport { FaceExpressions } from '../faceExpressionNet/FaceExpressions';\r\nimport { FaceLandmark68Net } from '../faceLandmarkNet/FaceLandmark68Net';\r\nimport { FaceLandmark68TinyNet } from '../faceLandmarkNet/FaceLandmark68TinyNet';\r\nimport { FaceRecognitionNet } from '../faceRecognitionNet/FaceRecognitionNet';\r\nimport { WithFaceDetection } from '../factories/WithFaceDetection';\r\nimport { WithFaceLandmarks } from '../factories/WithFaceLandmarks';\r\nimport { Mtcnn } from '../mtcnn/Mtcnn';\r\nimport { MtcnnOptions } from '../mtcnn/MtcnnOptions';\r\nimport { SsdMobilenetv1 } from '../ssdMobilenetv1/SsdMobilenetv1';\r\nimport { SsdMobilenetv1Options } from '../ssdMobilenetv1/SsdMobilenetv1Options';\r\nimport { TinyFaceDetector } from '../tinyFaceDetector/TinyFaceDetector';\r\nimport { TinyFaceDetectorOptions } from '../tinyFaceDetector/TinyFaceDetectorOptions';\r\nimport { TinyYolov2 } from '../tinyYolov2';\r\n\r\nexport const nets = {\r\n  ssdMobilenetv1: new SsdMobilenetv1(),\r\n  tinyFaceDetector: new TinyFaceDetector(),\r\n  tinyYolov2: new TinyYolov2(),\r\n  mtcnn: new Mtcnn(),\r\n  faceLandmark68Net: new FaceLandmark68Net(),\r\n  faceLandmark68TinyNet: new FaceLandmark68TinyNet(),\r\n  faceRecognitionNet: new FaceRecognitionNet(),\r\n  faceExpressionNet: new FaceExpressionNet(),\r\n  ageGenderNet: new AgeGenderNet()\r\n}\r\n\r\n/**\r\n * Attempts to detect all faces in an image using SSD Mobilenetv1 Network.\r\n *\r\n * @param input The input image.\r\n * @param options (optional, default: see SsdMobilenetv1Options constructor for default parameters).\r\n * @returns Bounding box of each face with score.\r\n */\r\nexport const ssdMobilenetv1 = (input: TNetInput, options: SsdMobilenetv1Options): Promise<FaceDetection[]> =>\r\n  nets.ssdMobilenetv1.locateFaces(input, options)\r\n\r\n/**\r\n * Attempts to detect all faces in an image using the Tiny Face Detector.\r\n *\r\n * @param input The input image.\r\n * @param options (optional, default: see TinyFaceDetectorOptions constructor for default parameters).\r\n * @returns Bounding box of each face with score.\r\n */\r\nexport const tinyFaceDetector = (input: TNetInput, options: TinyFaceDetectorOptions): Promise<FaceDetection[]> =>\r\n  nets.tinyFaceDetector.locateFaces(input, options)\r\n\r\n/**\r\n * Attempts to detect all faces in an image using the Tiny Yolov2 Network.\r\n *\r\n * @param input The input image.\r\n * @param options (optional, default: see TinyYolov2Options constructor for default parameters).\r\n * @returns Bounding box of each face with score.\r\n */\r\nexport const tinyYolov2 = (input: TNetInput, options: TfjsImageRecognitionBase.ITinyYolov2Options): Promise<FaceDetection[]> =>\r\n  nets.tinyYolov2.locateFaces(input, options)\r\n\r\n/**\r\n * Attempts to detect all faces in an image and the 5 point face landmarks\r\n * of each detected face using the MTCNN Network.\r\n *\r\n * @param input The input image.\r\n * @param options (optional, default: see MtcnnOptions constructor for default parameters).\r\n * @returns Bounding box of each face with score and 5 point face landmarks.\r\n */\r\nexport const mtcnn = (input: TNetInput, options: MtcnnOptions): Promise<WithFaceLandmarks<WithFaceDetection<{}>, FaceLandmarks5>[]> =>\r\n  nets.mtcnn.forward(input, options)\r\n\r\n/**\r\n * Detects the 68 point face landmark positions of the face shown in an image.\r\n *\r\n * @param inputs The face image extracted from the bounding box of a face. Can\r\n * also be an array of input images, which will be batch processed.\r\n * @returns 68 point face landmarks or array thereof in case of batch input.\r\n */\r\nexport const detectFaceLandmarks = (input: TNetInput): Promise<FaceLandmarks68 | FaceLandmarks68[]> =>\r\n  nets.faceLandmark68Net.detectLandmarks(input)\r\n\r\n/**\r\n * Detects the 68 point face landmark positions of the face shown in an image\r\n * using a tinier version of the 68 point face landmark model, which is slightly\r\n * faster at inference, but also slightly less accurate.\r\n *\r\n * @param inputs The face image extracted from the bounding box of a face. Can\r\n * also be an array of input images, which will be batch processed.\r\n * @returns 68 point face landmarks or array thereof in case of batch input.\r\n */\r\nexport const detectFaceLandmarksTiny = (input: TNetInput): Promise<FaceLandmarks68 | FaceLandmarks68[]>  =>\r\n  nets.faceLandmark68TinyNet.detectLandmarks(input)\r\n\r\n/**\r\n * Computes a 128 entry vector (face descriptor / face embeddings) from the face shown in an image,\r\n * which uniquely represents the features of that persons face. The computed face descriptor can\r\n * be used to measure the similarity between faces, by computing the euclidean distance of two\r\n * face descriptors.\r\n *\r\n * @param inputs The face image extracted from the aligned bounding box of a face. Can\r\n * also be an array of input images, which will be batch processed.\r\n * @returns Face descriptor with 128 entries or array thereof in case of batch input.\r\n */\r\nexport const computeFaceDescriptor = (input: TNetInput): Promise<Float32Array | Float32Array[]>  =>\r\n  nets.faceRecognitionNet.computeFaceDescriptor(input)\r\n\r\n\r\n/**\r\n * Recognizes the facial expressions from a face image.\r\n *\r\n * @param inputs The face image extracted from the bounding box of a face. Can\r\n * also be an array of input images, which will be batch processed.\r\n * @returns Facial expressions with corresponding probabilities or array thereof in case of batch input.\r\n */\r\nexport const recognizeFaceExpressions = (input: TNetInput): Promise<FaceExpressions | FaceExpressions[]> =>\r\n  nets.faceExpressionNet.predictExpressions(input)\r\n\r\n/**\r\n * Predicts age and gender from a face image.\r\n *\r\n * @param inputs The face image extracted from the bounding box of a face. Can\r\n * also be an array of input images, which will be batch processed.\r\n * @returns Predictions with age, gender and gender probability or array thereof in case of batch input.\r\n */\r\nexport const predictAgeAndGender = (input: TNetInput): Promise<AgeAndGenderPrediction | AgeAndGenderPrediction[]> =>\r\n  nets.ageGenderNet.predictAgeAndGender(input)\r\n\r\nexport const loadSsdMobilenetv1Model = (url: string) => nets.ssdMobilenetv1.load(url)\r\nexport const loadTinyFaceDetectorModel = (url: string) => nets.tinyFaceDetector.load(url)\r\nexport const loadMtcnnModel = (url: string) => nets.mtcnn.load(url)\r\nexport const loadTinyYolov2Model = (url: string) => nets.tinyYolov2.load(url)\r\nexport const loadFaceLandmarkModel = (url: string) => nets.faceLandmark68Net.load(url)\r\nexport const loadFaceLandmarkTinyModel = (url: string) => nets.faceLandmark68TinyNet.load(url)\r\nexport const loadFaceRecognitionModel = (url: string) => nets.faceRecognitionNet.load(url)\r\nexport const loadFaceExpressionModel = (url: string) => nets.faceExpressionNet.load(url)\r\nexport const loadAgeGenderModel = (url: string) => nets.ageGenderNet.load(url)\r\n\r\n// backward compatibility\r\nexport const loadFaceDetectionModel = loadSsdMobilenetv1Model\r\nexport const locateFaces = ssdMobilenetv1\r\nexport const detectLandmarks = detectFaceLandmarks"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5867, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/factories/WithAge.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/factories/WithAge.ts"],"sourcesContent":["export type WithAge<TSource> = TSource & {\r\n  age: number\r\n}\r\n\r\nexport function isWithAge(obj: any): obj is WithAge<{}> {\r\n  return typeof obj['age'] === 'number'\r\n}\r\n\r\nexport function extendWithAge<\r\n  TSource\r\n> (\r\n  sourceObj: TSource,\r\n  age: number\r\n): WithAge<TSource> {\r\n\r\n  const extension = { age }\r\n  return Object.assign({}, sourceObj, extension)\r\n}"],"names":[],"mappings":";;;;;;AAIM,SAAU,SAAS,CAAC,GAAQ;IAChC,OAAO,OAAO,GAAG,CAAC,KAAK,CAAC,KAAK,QAAQ,CAAA;AACvC,CAAC;AAEK,SAAU,aAAa,CAG3B,SAAkB,EAClB,GAAW;IAGX,IAAM,SAAS,GAAG;QAAE,GAAG,EAAA,GAAA;IAAA,CAAE,CAAA;IACzB,OAAO,MAAM,CAAC,MAAM,CAAC,CAAA,CAAE,EAAE,SAAS,EAAE,SAAS,CAAC,CAAA;AAChD,CAAC"}},
    {"offset": {"line": 5886, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/factories/WithGender.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/factories/WithGender.ts"],"sourcesContent":["import { isValidProbablitiy } from 'tfjs-image-recognition-base';\r\n\r\nimport { Gender } from '../ageGenderNet/types';\r\n\r\nexport type WithGender<TSource> = TSource & {\r\n  gender: Gender\r\n  genderProbability: number\r\n}\r\n\r\nexport function isWithGender(obj: any): obj is WithGender<{}> {\r\n  return (obj['gender'] === Gender.MALE || obj['gender'] === Gender.FEMALE)\r\n    && isValidProbablitiy(obj['genderProbability'])\r\n}\r\n\r\nexport function extendWithGender<\r\n  TSource\r\n> (\r\n  sourceObj: TSource,\r\n  gender: Gender,\r\n  genderProbability: number\r\n): WithGender<TSource> {\r\n\r\n  const extension = { gender, genderProbability }\r\n  return Object.assign({}, sourceObj, extension)\r\n}"],"names":[],"mappings":";;;;;;;AAAA,OAAO,EAAE,kBAAkB,EAAE,MAAM,6BAA6B,CAAC;AAEjE,OAAO,EAAE,MAAM,EAAE,MAAM,uBAAuB,CAAC;;;AAOzC,SAAU,YAAY,CAAC,GAAQ;IACnC,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,KAAK,uLAAM,CAAC,IAAI,IAAI,GAAG,CAAC,QAAQ,CAAC,KAAK,uLAAM,CAAC,MAAM,CAAC,QACpE,+MAAkB,EAAC,GAAG,CAAC,mBAAmB,CAAC,CAAC,CAAA;AACnD,CAAC;AAEK,SAAU,gBAAgB,CAG9B,SAAkB,EAClB,MAAc,EACd,iBAAyB;IAGzB,IAAM,SAAS,GAAG;QAAE,MAAM,EAAA,MAAA;QAAE,iBAAiB,EAAA,iBAAA;IAAA,CAAE,CAAA;IAC/C,OAAO,MAAM,CAAC,MAAM,CAAC,CAAA,CAAE,EAAE,SAAS,EAAE,SAAS,CAAC,CAAA;AAChD,CAAC"}},
    {"offset": {"line": 5911, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/globalApi/PredictFaceExpressionsTask.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/globalApi/PredictFaceExpressionsTask.ts"],"sourcesContent":["import * as tf from '@tensorflow/tfjs-core';\r\nimport { TNetInput } from 'tfjs-image-recognition-base';\r\n\r\nimport { FaceExpressions } from '../faceExpressionNet/FaceExpressions';\r\nimport { WithFaceDetection } from '../factories/WithFaceDetection';\r\nimport { extendWithFaceExpressions, WithFaceExpressions } from '../factories/WithFaceExpressions';\r\nimport { WithFaceLandmarks } from '../factories/WithFaceLandmarks';\r\nimport { ComposableTask } from './ComposableTask';\r\nimport { ComputeAllFaceDescriptorsTask, ComputeSingleFaceDescriptorTask } from './ComputeFaceDescriptorsTasks';\r\nimport { extractAllFacesAndComputeResults, extractSingleFaceAndComputeResult } from './extractFacesAndComputeResults';\r\nimport { nets } from './nets';\r\nimport {\r\n  PredictAllAgeAndGenderTask,\r\n  PredictAllAgeAndGenderWithFaceAlignmentTask,\r\n  PredictSingleAgeAndGenderTask,\r\n  PredictSingleAgeAndGenderWithFaceAlignmentTask,\r\n} from './PredictAgeAndGenderTask';\r\n\r\nexport class PredictFaceExpressionsTaskBase<TReturn, TParentReturn> extends ComposableTask<TReturn> {\r\n  constructor(\r\n    protected parentTask: ComposableTask<TParentReturn> | Promise<TParentReturn>,\r\n    protected input: TNetInput,\r\n    protected extractedFaces?: Array<HTMLCanvasElement | tf.Tensor3D>\r\n  ) {\r\n    super()\r\n  }\r\n}\r\n\r\nexport class PredictAllFaceExpressionsTask<\r\n  TSource extends WithFaceDetection<{}>\r\n> extends PredictFaceExpressionsTaskBase<WithFaceExpressions<TSource>[], TSource[]> {\r\n\r\n  public async run(): Promise<WithFaceExpressions<TSource>[]> {\r\n\r\n    const parentResults = await this.parentTask\r\n\r\n    const faceExpressionsByFace = await extractAllFacesAndComputeResults<TSource, FaceExpressions[]>(\r\n      parentResults,\r\n      this.input,\r\n      async faces => await Promise.all(faces.map(\r\n        face => nets.faceExpressionNet.predictExpressions(face) as Promise<FaceExpressions>\r\n      )),\r\n      this.extractedFaces\r\n    )\r\n\r\n    return parentResults.map(\r\n      (parentResult, i) => extendWithFaceExpressions<TSource>(parentResult, faceExpressionsByFace[i])\r\n    )\r\n  }\r\n\r\n  withAgeAndGender() {\r\n    return new PredictAllAgeAndGenderTask(this, this.input)\r\n  }\r\n}\r\n\r\nexport class PredictSingleFaceExpressionsTask<\r\n  TSource extends WithFaceDetection<{}>\r\n>  extends PredictFaceExpressionsTaskBase<WithFaceExpressions<TSource> | undefined, TSource | undefined> {\r\n\r\n  public async run(): Promise<WithFaceExpressions<TSource> | undefined> {\r\n\r\n    const parentResult = await this.parentTask\r\n    if (!parentResult) {\r\n      return\r\n    }\r\n\r\n    const faceExpressions = await extractSingleFaceAndComputeResult<TSource, FaceExpressions>(\r\n      parentResult,\r\n      this.input,\r\n      face => nets.faceExpressionNet.predictExpressions(face) as Promise<FaceExpressions>,\r\n      this.extractedFaces\r\n    )\r\n\r\n    return extendWithFaceExpressions(parentResult, faceExpressions)\r\n  }\r\n\r\n  withAgeAndGender() {\r\n    return new PredictSingleAgeAndGenderTask(this, this.input)\r\n  }\r\n}\r\n\r\nexport class PredictAllFaceExpressionsWithFaceAlignmentTask<\r\n  TSource extends WithFaceLandmarks<WithFaceDetection<{}>>\r\n> extends PredictAllFaceExpressionsTask<TSource> {\r\n\r\n  withAgeAndGender() {\r\n    return new PredictAllAgeAndGenderWithFaceAlignmentTask(this, this.input)\r\n  }\r\n\r\n  withFaceDescriptors() {\r\n    return new ComputeAllFaceDescriptorsTask(this, this.input)\r\n  }\r\n}\r\n\r\nexport class PredictSingleFaceExpressionsWithFaceAlignmentTask<\r\n  TSource extends WithFaceLandmarks<WithFaceDetection<{}>>\r\n> extends PredictSingleFaceExpressionsTask<TSource> {\r\n\r\n  withAgeAndGender() {\r\n    return new PredictSingleAgeAndGenderWithFaceAlignmentTask(this, this.input)\r\n  }\r\n\r\n  withFaceDescriptor() {\r\n    return new ComputeSingleFaceDescriptorTask(this, this.input)\r\n  }\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6085, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/globalApi/PredictAgeAndGenderTask.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/globalApi/PredictAgeAndGenderTask.ts"],"sourcesContent":["import * as tf from '@tensorflow/tfjs-core';\r\nimport { TNetInput } from 'tfjs-image-recognition-base';\r\n\r\nimport { AgeAndGenderPrediction } from '../ageGenderNet/types';\r\nimport { extendWithAge, WithAge } from '../factories/WithAge';\r\nimport { WithFaceDetection } from '../factories/WithFaceDetection';\r\nimport { WithFaceLandmarks } from '../factories/WithFaceLandmarks';\r\nimport { extendWithGender, WithGender } from '../factories/WithGender';\r\nimport { ComposableTask } from './ComposableTask';\r\nimport { ComputeAllFaceDescriptorsTask, ComputeSingleFaceDescriptorTask } from './ComputeFaceDescriptorsTasks';\r\nimport { extractAllFacesAndComputeResults, extractSingleFaceAndComputeResult } from './extractFacesAndComputeResults';\r\nimport { nets } from './nets';\r\nimport {\r\n  PredictAllFaceExpressionsTask,\r\n  PredictAllFaceExpressionsWithFaceAlignmentTask,\r\n  PredictSingleFaceExpressionsTask,\r\n  PredictSingleFaceExpressionsWithFaceAlignmentTask,\r\n} from './PredictFaceExpressionsTask';\r\n\r\nexport class PredictAgeAndGenderTaskBase<TReturn, TParentReturn> extends ComposableTask<TReturn> {\r\n  constructor(\r\n    protected parentTask: ComposableTask<TParentReturn> | Promise<TParentReturn>,\r\n    protected input: TNetInput,\r\n    protected extractedFaces?: Array<HTMLCanvasElement | tf.Tensor3D>\r\n  ) {\r\n    super()\r\n  }\r\n}\r\n\r\nexport class PredictAllAgeAndGenderTask<\r\n  TSource extends WithFaceDetection<{}>\r\n> extends PredictAgeAndGenderTaskBase<WithAge<WithGender<TSource>>[], TSource[]> {\r\n\r\n  public async run(): Promise<WithAge<WithGender<TSource>>[]> {\r\n\r\n    const parentResults = await this.parentTask\r\n\r\n    const ageAndGenderByFace = await extractAllFacesAndComputeResults<TSource, AgeAndGenderPrediction[]>(\r\n      parentResults,\r\n      this.input,\r\n      async faces => await Promise.all(faces.map(\r\n        face => nets.ageGenderNet.predictAgeAndGender(face) as Promise<AgeAndGenderPrediction>\r\n      )),\r\n      this.extractedFaces\r\n    )\r\n\r\n    return parentResults.map((parentResult, i) => {\r\n      const { age, gender, genderProbability } = ageAndGenderByFace[i]\r\n      return extendWithAge(extendWithGender(parentResult, gender, genderProbability), age)\r\n    })\r\n  }\r\n\r\n  withFaceExpressions() {\r\n    return new PredictAllFaceExpressionsTask(this, this.input)\r\n  }\r\n}\r\n\r\nexport class PredictSingleAgeAndGenderTask<\r\n  TSource extends WithFaceDetection<{}>\r\n>  extends PredictAgeAndGenderTaskBase<WithAge<WithGender<TSource>> | undefined, TSource | undefined> {\r\n\r\n  public async run(): Promise<WithAge<WithGender<TSource>> | undefined> {\r\n\r\n    const parentResult = await this.parentTask\r\n    if (!parentResult) {\r\n      return\r\n    }\r\n\r\n    const { age, gender, genderProbability } = await extractSingleFaceAndComputeResult<TSource, AgeAndGenderPrediction>(\r\n      parentResult,\r\n      this.input,\r\n      face => nets.ageGenderNet.predictAgeAndGender(face) as Promise<AgeAndGenderPrediction>,\r\n      this.extractedFaces\r\n    )\r\n\r\n    return extendWithAge(extendWithGender(parentResult, gender, genderProbability), age)\r\n  }\r\n\r\n  withFaceExpressions() {\r\n    return new PredictSingleFaceExpressionsTask(this, this.input)\r\n  }\r\n}\r\n\r\nexport class PredictAllAgeAndGenderWithFaceAlignmentTask<\r\n  TSource extends WithFaceLandmarks<WithFaceDetection<{}>>\r\n> extends PredictAllAgeAndGenderTask<TSource> {\r\n\r\n  withFaceExpressions() {\r\n    return new PredictAllFaceExpressionsWithFaceAlignmentTask(this, this.input)\r\n  }\r\n\r\n  withFaceDescriptors() {\r\n    return new ComputeAllFaceDescriptorsTask(this, this.input)\r\n  }\r\n}\r\n\r\nexport class PredictSingleAgeAndGenderWithFaceAlignmentTask<\r\n  TSource extends WithFaceLandmarks<WithFaceDetection<{}>>\r\n> extends PredictSingleAgeAndGenderTask<TSource> {\r\n\r\n  withFaceExpressions() {\r\n    return new PredictSingleFaceExpressionsWithFaceAlignmentTask(this, this.input)\r\n  }\r\n\r\n  withFaceDescriptor() {\r\n    return new ComputeSingleFaceDescriptorTask(this, this.input)\r\n  }\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6262, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/globalApi/ComputeFaceDescriptorsTasks.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/globalApi/ComputeFaceDescriptorsTasks.ts"],"sourcesContent":["import { TNetInput } from 'tfjs-image-recognition-base';\r\n\r\nimport { extendWithFaceDescriptor, WithFaceDescriptor } from '../factories/WithFaceDescriptor';\r\nimport { WithFaceDetection } from '../factories/WithFaceDetection';\r\nimport { WithFaceLandmarks } from '../factories/WithFaceLandmarks';\r\nimport { ComposableTask } from './ComposableTask';\r\nimport { extractAllFacesAndComputeResults, extractSingleFaceAndComputeResult } from './extractFacesAndComputeResults';\r\nimport { nets } from './nets';\r\nimport {\r\n  PredictAllAgeAndGenderWithFaceAlignmentTask,\r\n  PredictSingleAgeAndGenderWithFaceAlignmentTask,\r\n} from './PredictAgeAndGenderTask';\r\nimport {\r\n  PredictAllFaceExpressionsWithFaceAlignmentTask,\r\n  PredictSingleFaceExpressionsWithFaceAlignmentTask,\r\n} from './PredictFaceExpressionsTask';\r\n\r\nexport class ComputeFaceDescriptorsTaskBase<TReturn, TParentReturn> extends ComposableTask<TReturn> {\r\n  constructor(\r\n    protected parentTask: ComposableTask<TParentReturn> | Promise<TParentReturn>,\r\n    protected input: TNetInput\r\n  ) {\r\n    super()\r\n  }\r\n}\r\n\r\nexport class ComputeAllFaceDescriptorsTask<\r\n  TSource extends WithFaceLandmarks<WithFaceDetection<{}>>\r\n> extends ComputeFaceDescriptorsTaskBase<WithFaceDescriptor<TSource>[], TSource[]> {\r\n\r\n  public async run(): Promise<WithFaceDescriptor<TSource>[]> {\r\n\r\n    const parentResults = await this.parentTask\r\n\r\n    const descriptors = await extractAllFacesAndComputeResults<TSource, Float32Array[]>(\r\n      parentResults,\r\n      this.input,\r\n      faces => Promise.all(faces.map(face =>\r\n        nets.faceRecognitionNet.computeFaceDescriptor(face) as Promise<Float32Array>\r\n      )),\r\n      null,\r\n      parentResult => parentResult.landmarks.align(null, { useDlibAlignment: true })\r\n    )\r\n\r\n    return descriptors.map((descriptor, i) => extendWithFaceDescriptor<TSource>(parentResults[i], descriptor))\r\n  }\r\n\r\n  withFaceExpressions() {\r\n    return new PredictAllFaceExpressionsWithFaceAlignmentTask(this, this.input)\r\n  }\r\n\r\n  withAgeAndGender() {\r\n    return new PredictAllAgeAndGenderWithFaceAlignmentTask(this, this.input)\r\n  }\r\n}\r\n\r\nexport class ComputeSingleFaceDescriptorTask<\r\n  TSource extends WithFaceLandmarks<WithFaceDetection<{}>>\r\n> extends ComputeFaceDescriptorsTaskBase<WithFaceDescriptor<TSource> | undefined, TSource | undefined> {\r\n\r\n  public async run(): Promise<WithFaceDescriptor<TSource> | undefined> {\r\n\r\n    const parentResult = await this.parentTask\r\n    if (!parentResult) {\r\n      return\r\n    }\r\n    const descriptor = await extractSingleFaceAndComputeResult<TSource, Float32Array>(\r\n      parentResult,\r\n      this.input,\r\n      face => nets.faceRecognitionNet.computeFaceDescriptor(face) as Promise<Float32Array>,\r\n      null,\r\n      parentResult => parentResult.landmarks.align(null, { useDlibAlignment: true })\r\n    )\r\n\r\n    return extendWithFaceDescriptor(parentResult, descriptor)\r\n  }\r\n\r\n  withFaceExpressions() {\r\n    return new PredictSingleFaceExpressionsWithFaceAlignmentTask(this, this.input)\r\n  }\r\n\r\n  withAgeAndGender() {\r\n    return new PredictSingleAgeAndGenderWithFaceAlignmentTask(this, this.input)\r\n  }\r\n}"],"names":[],"mappings":";;;;;;;;;AAEA,OAAO,EAAE,wBAAwB,EAAsB,MAAM,iCAAiC,CAAC;AAG/F,OAAO,EAAE,cAAc,EAAE,MAAM,kBAAkB,CAAC;AAClD,OAAO,EAAE,gCAAgC,EAAE,iCAAiC,EAAE,MAAM,iCAAiC,CAAC;AACtH,OAAO,EAAE,IAAI,EAAE,MAAM,QAAQ,CAAC;AAC9B,OAAO,EACL,2CAA2C,EAC3C,8CAA8C,GAC/C,MAAM,2BAA2B,CAAC;AACnC,OAAO,EACL,8CAA8C,EAC9C,iDAAiD,GAClD,MAAM,8BAA8B,CAAC;;;;;;;;AAEtC,IAAA,iCAAA,SAAA,MAAA;IAA4E,0LAAA,CAAA,gCAAA,QAAuB;IACjG,SAAA,+BACY,UAAkE,EAClE,KAAgB;QAF5B,IAAA,QAIE,OAAA,IAAA,CAAA,IAAA,CAAO,IAAA,IAAA,CACR;QAJW,MAAA,UAAU,GAAV,UAAU,CAAwD;QAClE,MAAA,KAAK,GAAL,KAAK,CAAW;;IAG5B,CAAC;IACH,OAAA,8BAAC;AAAD,CAAC,AAPD,CAA4E,qMAAc,GAOzF;;AAED,IAAA,gCAAA,SAAA,MAAA;IAEU,0LAAA,CAAA,+BAAA,QAAwE;IAFlF,SAAA;;IA4BA,CAAC;IAxBc,8BAAA,SAAA,CAAA,GAAG,GAAhB;;;;;;wBAEwB,OAAA;4BAAA,EAAA,OAAA;4BAAM,IAAI,CAAC,UAAU;yBAAA,CAAA;;wBAArC,aAAa,GAAG,GAAA,IAAA,EAAqB;wBAEvB,OAAA;4BAAA,EAAA,OAAA;gCAAM,sOAAgC,EACxD,aAAa,EACb,IAAI,CAAC,KAAK,EACV,SAAA,KAAK;gCAAI,OAAA,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,SAAA,IAAI;oCACjC,OAAA,iLAAI,CAAC,kBAAkB,CAAC,qBAAqB,CAAC,IAAI,CAA0B;gCAA5E,CAA4E,CAC7E,CAAC;4BAFO,CAEP,EACF,IAAI,EACJ,SAAA,YAAY;gCAAI,OAAA,YAAY,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,EAAE;oCAAE,gBAAgB,EAAE,IAAI;gCAAA,CAAE,CAAC;4BAA9D,CAA8D,CAC/E;yBAAA,CAAA;;wBARK,WAAW,GAAG,GAAA,IAAA,EAQnB;wBAED,OAAA;4BAAA,EAAA,QAAA;4BAAO,WAAW,CAAC,GAAG,CAAC,SAAC,UAAU,EAAE,CAAC;gCAAK,WAAA,mNAAwB,EAAU,aAAa,CAAC,CAAC,CAAC,EAAE,UAAU,CAAC;4BAA/D,CAA+D,CAAC;yBAAA,CAAA;;;;KAC3G;IAED,8BAAA,SAAA,CAAA,mBAAmB,GAAnB;QACE,OAAO,IAAI,iPAA8C,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,CAAA;IAC7E,CAAC;IAED,8BAAA,SAAA,CAAA,gBAAgB,GAAhB;QACE,OAAO,IAAI,2OAA2C,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,CAAA;IAC1E,CAAC;IACH,OAAA,6BAAC;AAAD,CAAC,AA5BD,CAEU,8BAA8B,GA0BvC;;AAED,IAAA,kCAAA,SAAA,MAAA;IAEU,0LAAA,CAAA,iCAAA,QAA4F;IAFtG,SAAA;;IA4BA,CAAC;IAxBc,gCAAA,SAAA,CAAA,GAAG,GAAhB;;;;;;wBAEuB,OAAA;4BAAA,EAAA,OAAA;4BAAM,IAAI,CAAC,UAAU;yBAAA,CAAA;;wBAApC,YAAY,GAAG,GAAA,IAAA,EAAqB;wBAC1C,IAAI,CAAC,YAAY,EAAE;4BACjB,OAAA;gCAAA,EAAA,QAAA;6BAAA,CAAM;yBACP;wBACkB,OAAA;4BAAA,EAAA,OAAA;gCAAM,uOAAiC,EACxD,YAAY,EACZ,IAAI,CAAC,KAAK,EACV,SAAA,IAAI;gCAAI,OAAA,iLAAI,CAAC,kBAAkB,CAAC,qBAAqB,CAAC,IAAI,CAA0B;4BAA5E,CAA4E,EACpF,IAAI,EACJ,SAAA,YAAY;gCAAI,OAAA,YAAY,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,EAAE;oCAAE,gBAAgB,EAAE,IAAI;gCAAA,CAAE,CAAC;4BAA9D,CAA8D,CAC/E;yBAAA,CAAA;;wBANK,UAAU,GAAG,GAAA,IAAA,EAMlB;wBAED,OAAA;4BAAA,EAAA,QAAA;gCAAO,mNAAwB,EAAC,YAAY,EAAE,UAAU,CAAC;yBAAA,CAAA;;;;KAC1D;IAED,gCAAA,SAAA,CAAA,mBAAmB,GAAnB;QACE,OAAO,IAAI,oPAAiD,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,CAAA;IAChF,CAAC;IAED,gCAAA,SAAA,CAAA,gBAAgB,GAAhB;QACE,OAAO,IAAI,8OAA8C,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,CAAA;IAC7E,CAAC;IACH,OAAA,+BAAC;AAAD,CAAC,AA5BD,CAEU,8BAA8B,GA0BvC"}},
    {"offset": {"line": 6401, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/globalApi/DetectFaceLandmarksTasks.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/globalApi/DetectFaceLandmarksTasks.ts"],"sourcesContent":["import * as tf from '@tensorflow/tfjs-core';\r\nimport { TNetInput } from 'tfjs-image-recognition-base';\r\n\r\nimport { FaceLandmarks68 } from '../classes/FaceLandmarks68';\r\nimport { extractFaces, extractFaceTensors } from '../dom';\r\nimport { FaceLandmark68Net } from '../faceLandmarkNet/FaceLandmark68Net';\r\nimport { FaceLandmark68TinyNet } from '../faceLandmarkNet/FaceLandmark68TinyNet';\r\nimport { WithFaceDetection } from '../factories/WithFaceDetection';\r\nimport { extendWithFaceLandmarks, WithFaceLandmarks } from '../factories/WithFaceLandmarks';\r\nimport { ComposableTask } from './ComposableTask';\r\nimport { ComputeAllFaceDescriptorsTask, ComputeSingleFaceDescriptorTask } from './ComputeFaceDescriptorsTasks';\r\nimport { nets } from './nets';\r\nimport {\r\n  PredictAllAgeAndGenderWithFaceAlignmentTask,\r\n  PredictSingleAgeAndGenderWithFaceAlignmentTask,\r\n} from './PredictAgeAndGenderTask';\r\nimport {\r\n  PredictAllFaceExpressionsWithFaceAlignmentTask,\r\n  PredictSingleFaceExpressionsWithFaceAlignmentTask,\r\n} from './PredictFaceExpressionsTask';\r\n\r\nexport class DetectFaceLandmarksTaskBase<TReturn, TParentReturn> extends ComposableTask<TReturn> {\r\n  constructor(\r\n    protected parentTask: ComposableTask<TParentReturn> | Promise<TParentReturn>,\r\n    protected input: TNetInput,\r\n    protected useTinyLandmarkNet: boolean\r\n  ) {\r\n    super()\r\n  }\r\n\r\n  protected get landmarkNet(): FaceLandmark68Net | FaceLandmark68TinyNet {\r\n    return this.useTinyLandmarkNet\r\n      ? nets.faceLandmark68TinyNet\r\n      : nets.faceLandmark68Net\r\n  }\r\n}\r\n\r\nexport class DetectAllFaceLandmarksTask<\r\n  TSource extends WithFaceDetection<{}>\r\n> extends DetectFaceLandmarksTaskBase<WithFaceLandmarks<TSource>[], TSource[]> {\r\n\r\n  public async run(): Promise<WithFaceLandmarks<TSource>[]> {\r\n\r\n    const parentResults = await this.parentTask\r\n    const detections = parentResults.map(res => res.detection)\r\n\r\n    const faces: Array<HTMLCanvasElement | tf.Tensor3D> = this.input instanceof tf.Tensor\r\n      ? await extractFaceTensors(this.input, detections)\r\n      : await extractFaces(this.input, detections)\r\n\r\n    const faceLandmarksByFace = await Promise.all(faces.map(\r\n      face => this.landmarkNet.detectLandmarks(face)\r\n    )) as FaceLandmarks68[]\r\n\r\n    faces.forEach(f => f instanceof tf.Tensor && f.dispose())\r\n\r\n    return parentResults.map((parentResult, i) =>\r\n      extendWithFaceLandmarks<TSource>(parentResult, faceLandmarksByFace[i])\r\n    )\r\n  }\r\n\r\n  withFaceExpressions() {\r\n    return new PredictAllFaceExpressionsWithFaceAlignmentTask(this, this.input)\r\n  }\r\n\r\n  withAgeAndGender() {\r\n    return new PredictAllAgeAndGenderWithFaceAlignmentTask(this, this.input)\r\n  }\r\n\r\n  withFaceDescriptors() {\r\n    return new ComputeAllFaceDescriptorsTask(this, this.input)\r\n  }\r\n}\r\n\r\nexport class DetectSingleFaceLandmarksTask<\r\n  TSource extends WithFaceDetection<{}>\r\n>  extends DetectFaceLandmarksTaskBase<WithFaceLandmarks<TSource> | undefined, TSource | undefined> {\r\n\r\n  public async run(): Promise<WithFaceLandmarks<TSource> | undefined> {\r\n\r\n    const parentResult = await this.parentTask\r\n    if (!parentResult) {\r\n      return\r\n    }\r\n\r\n    const { detection } = parentResult\r\n    const faces: Array<HTMLCanvasElement | tf.Tensor3D> = this.input instanceof tf.Tensor\r\n      ? await extractFaceTensors(this.input, [detection])\r\n      : await extractFaces(this.input, [detection])\r\n\r\n    const landmarks = await this.landmarkNet.detectLandmarks(faces[0]) as FaceLandmarks68\r\n\r\n    faces.forEach(f => f instanceof tf.Tensor && f.dispose())\r\n\r\n    return extendWithFaceLandmarks<TSource>(parentResult, landmarks)\r\n  }\r\n\r\n  withFaceExpressions() {\r\n    return new PredictSingleFaceExpressionsWithFaceAlignmentTask(this, this.input)\r\n  }\r\n\r\n  withAgeAndGender() {\r\n    return new PredictSingleAgeAndGenderWithFaceAlignmentTask(this, this.input)\r\n  }\r\n\r\n  withFaceDescriptor() {\r\n    return new ComputeSingleFaceDescriptorTask(this, this.input)\r\n  }\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6611, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/globalApi/DetectFacesTasks.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/globalApi/DetectFacesTasks.ts"],"sourcesContent":["import { TfjsImageRecognitionBase, TNetInput } from 'tfjs-image-recognition-base';\r\n\r\nimport { FaceDetection } from '../classes/FaceDetection';\r\nimport { extendWithFaceDetection, WithFaceDetection } from '../factories/WithFaceDetection';\r\nimport { MtcnnOptions } from '../mtcnn/MtcnnOptions';\r\nimport { SsdMobilenetv1Options } from '../ssdMobilenetv1/SsdMobilenetv1Options';\r\nimport { TinyFaceDetectorOptions } from '../tinyFaceDetector/TinyFaceDetectorOptions';\r\nimport { ComposableTask } from './ComposableTask';\r\nimport { DetectAllFaceLandmarksTask, DetectSingleFaceLandmarksTask } from './DetectFaceLandmarksTasks';\r\nimport { nets } from './nets';\r\nimport { PredictAllAgeAndGenderTask, PredictSingleAgeAndGenderTask } from './PredictAgeAndGenderTask';\r\nimport { PredictAllFaceExpressionsTask, PredictSingleFaceExpressionsTask } from './PredictFaceExpressionsTask';\r\nimport { FaceDetectionOptions } from './types';\r\n\r\nexport class DetectFacesTaskBase<TReturn> extends ComposableTask<TReturn> {\r\n  constructor(\r\n    protected input: TNetInput,\r\n    protected options: FaceDetectionOptions = new SsdMobilenetv1Options()\r\n  ) {\r\n    super()\r\n  }\r\n}\r\n\r\nexport class DetectAllFacesTask extends DetectFacesTaskBase<FaceDetection[]> {\r\n\r\n  public async run(): Promise<FaceDetection[]> {\r\n\r\n    const { input, options } = this\r\n\r\n    if (options instanceof MtcnnOptions) {\r\n      return (await nets.mtcnn.forward(input, options))\r\n        .map(result => result.detection)\r\n    }\r\n\r\n    const faceDetectionFunction = options instanceof TinyFaceDetectorOptions\r\n      ? (input: TNetInput) => nets.tinyFaceDetector.locateFaces(input, options)\r\n      : (\r\n        options instanceof SsdMobilenetv1Options\r\n          ? (input: TNetInput) => nets.ssdMobilenetv1.locateFaces(input, options)\r\n          : (\r\n            options instanceof TfjsImageRecognitionBase.TinyYolov2Options\r\n              ? (input: TNetInput) => nets.tinyYolov2.locateFaces(input, options)\r\n              : null\r\n          )\r\n      )\r\n\r\n    if (!faceDetectionFunction) {\r\n      throw new Error('detectFaces - expected options to be instance of TinyFaceDetectorOptions | SsdMobilenetv1Options | MtcnnOptions | TinyYolov2Options')\r\n    }\r\n\r\n    return faceDetectionFunction(input)\r\n  }\r\n\r\n  private runAndExtendWithFaceDetections(): Promise<WithFaceDetection<{}>[]> {\r\n    return new Promise<WithFaceDetection<{}>[]>(async res => {\r\n      const detections = await this.run()\r\n      return res(detections.map(detection => extendWithFaceDetection({}, detection)))\r\n    })\r\n  }\r\n\r\n  withFaceLandmarks(useTinyLandmarkNet: boolean = false) {\r\n    return new DetectAllFaceLandmarksTask(\r\n      this.runAndExtendWithFaceDetections(),\r\n      this.input,\r\n      useTinyLandmarkNet\r\n    )\r\n  }\r\n\r\n  withFaceExpressions() {\r\n    return new PredictAllFaceExpressionsTask (\r\n      this.runAndExtendWithFaceDetections(),\r\n      this.input\r\n    )\r\n  }\r\n\r\n  withAgeAndGender() {\r\n    return new PredictAllAgeAndGenderTask(\r\n      this.runAndExtendWithFaceDetections(),\r\n      this.input\r\n    )\r\n  }\r\n}\r\n\r\nexport class DetectSingleFaceTask extends DetectFacesTaskBase<FaceDetection | undefined> {\r\n\r\n  public async run(): Promise<FaceDetection | undefined> {\r\n    const faceDetections = await new DetectAllFacesTask(this.input, this.options);\r\n    let faceDetectionWithHighestScore = faceDetections[0];\r\n    faceDetections.forEach(faceDetection => {\r\n      if (faceDetection.score > faceDetectionWithHighestScore.score) {\r\n        faceDetectionWithHighestScore = faceDetection;\r\n      }\r\n    });\r\n    return faceDetectionWithHighestScore;\r\n  }\r\n\r\n  private runAndExtendWithFaceDetection(): Promise<WithFaceDetection<{}>> {\r\n    return new Promise<WithFaceDetection<{}>>(async res => {\r\n      const detection = await this.run()\r\n      return res(detection ? extendWithFaceDetection<{}>({}, detection) : undefined)\r\n    })\r\n  }\r\n\r\n  withFaceLandmarks(useTinyLandmarkNet: boolean = false) {\r\n    return new DetectSingleFaceLandmarksTask(\r\n      this.runAndExtendWithFaceDetection(),\r\n      this.input,\r\n      useTinyLandmarkNet\r\n    )\r\n  }\r\n\r\n  withFaceExpressions() {\r\n    return new PredictSingleFaceExpressionsTask(\r\n      this.runAndExtendWithFaceDetection(),\r\n      this.input\r\n    )\r\n  }\r\n\r\n  withAgeAndGender() {\r\n    return new PredictSingleAgeAndGenderTask(\r\n      this.runAndExtendWithFaceDetection(),\r\n      this.input\r\n    )\r\n  }\r\n}"],"names":[],"mappings":";;;;;;;;;;AAAA,OAAO,EAAE,wBAAwB,EAAa,MAAM,6BAA6B,CAAC;AAGlF,OAAO,EAAE,uBAAuB,EAAqB,MAAM,gCAAgC,CAAC;AAC5F,OAAO,EAAE,YAAY,EAAE,MAAM,uBAAuB,CAAC;AACrD,OAAO,EAAE,qBAAqB,EAAE,MAAM,yCAAyC,CAAC;AAChF,OAAO,EAAE,uBAAuB,EAAE,MAAM,6CAA6C,CAAC;AACtF,OAAO,EAAE,cAAc,EAAE,MAAM,kBAAkB,CAAC;AAClD,OAAO,EAAE,0BAA0B,EAAE,6BAA6B,EAAE,MAAM,4BAA4B,CAAC;AACvG,OAAO,EAAE,IAAI,EAAE,MAAM,QAAQ,CAAC;AAC9B,OAAO,EAAE,0BAA0B,EAAE,6BAA6B,EAAE,MAAM,2BAA2B,CAAC;AACtG,OAAO,EAAE,6BAA6B,EAAE,gCAAgC,EAAE,MAAM,8BAA8B,CAAC;;;;;;;;;;;;AAG/G,IAAA,sBAAA,SAAA,MAAA;IAAkD,0LAAA,CAAA,qBAAA,QAAuB;IACvE,SAAA,oBACY,KAAgB,EAChB,OAA2D;QAA3D,IAAA,YAAA,KAAA,GAAA;YAAA,UAAA,IAAoC,wNAAqB,EAAE;QAAA;QAFvE,IAAA,QAIE,OAAA,IAAA,CAAA,IAAA,CAAO,IAAA,IAAA,CACR;QAJW,MAAA,KAAK,GAAL,KAAK,CAAW;QAChB,MAAA,OAAO,GAAP,OAAO,CAAoD;;IAGvE,CAAC;IACH,OAAA,mBAAC;AAAD,CAAC,AAPD,CAAkD,qMAAc,GAO/D;;AAED,IAAA,qBAAA,SAAA,MAAA;IAAwC,0LAAA,CAAA,oBAAA,QAAoC;IAA5E,SAAA;;IA0DA,CAAC;IAxDc,mBAAA,SAAA,CAAA,GAAG,GAAhB;;;;;;wBAEQ,KAAqB,IAAI,EAAvB,KAAK,GAAA,GAAA,KAAA,EAAE,OAAO,GAAA,GAAA,OAAA,CAAS;6BAE3B,CAAA,OAAO,YAAY,6LAAY,CAAA,EAA/B,OAAA;4BAAA,EAAA,OAAA;4BAAA;yBAAA,CAA+B;wBACzB,OAAA;4BAAA,EAAA,OAAA;4BAAM,iLAAI,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,EAAE,OAAO,CAAC;yBAAA,CAAA;;wBAAhD,OAAA;4BAAA,EAAA,QAAA,IAAO;4BAAC,GAAA,IAAA,EAAwC,CAAC,AAC9C,GAAG,CAAC,SAAA,MAAM;gCAAI,OAAA,MAAM,CAAC,SAAS;4BAAhB,CAAgB,CAAC;yBAAA,CAAA;;wBAG9B,qBAAqB,GAAG,OAAO,YAAY,8NAAuB,GACpE,SAAC,KAAgB;4BAAK,OAAA,iLAAI,CAAC,gBAAgB,CAAC,WAAW,CAAC,KAAK,EAAE,OAAO,CAAC;wBAAjD,CAAiD,GAEvE,OAAO,YAAY,wNAAqB,GACpC,SAAC,KAAgB;4BAAK,OAAA,iLAAI,CAAC,cAAc,CAAC,WAAW,CAAC,KAAK,EAAE,OAAO,CAAC;wBAA/C,CAA+C,GAErE,OAAO,YAAY,mRAAwB,CAAC,iBAAiB,GACzD,SAAC,KAAgB;4BAAK,OAAA,iLAAI,CAAC,UAAU,CAAC,WAAW,CAAC,KAAK,EAAE,OAAO,CAAC;wBAA3C,CAA2C,GACjE,IAAI,CACT,CACJ,CAAA;wBAEH,IAAI,CAAC,qBAAqB,EAAE;4BAC1B,MAAM,IAAI,KAAK,CAAC,qIAAqI,CAAC,CAAA;yBACvJ;wBAED,OAAA;4BAAA,EAAA,QAAA;4BAAO,qBAAqB,CAAC,KAAK,CAAC;yBAAA,CAAA;;;;KACpC;IAEO,mBAAA,SAAA,CAAA,8BAA8B,GAAtC;QAAA,IAAA,QAAA,IAAA,CAKC;QAJC,OAAO,IAAI,OAAO,CAA0B,SAAM,GAAG;YAAA,OAAA,0LAAA,CAAA,OAAA,KAAA,GAAA,KAAA,GAAA;;;;;4BAChC,OAAA;gCAAA,EAAA,OAAA;gCAAM,IAAI,CAAC,GAAG,EAAE;6BAAA,CAAA;;4BAA7B,UAAU,GAAG,GAAA,IAAA,EAAgB;4BACnC,OAAA;gCAAA,EAAA,QAAA;gCAAO,GAAG,CAAC,UAAU,CAAC,GAAG,CAAC,SAAA,SAAS;oCAAI,WAAA,iNAAuB,EAAC,CAAA,CAAE,EAAE,SAAS,CAAC;gCAAtC,CAAsC,CAAC,CAAC;6BAAA,CAAA;;;;SAChF,CAAC,CAAA;IACJ,CAAC;IAED,mBAAA,SAAA,CAAA,iBAAiB,GAAjB,SAAkB,kBAAmC;QAAnC,IAAA,uBAAA,KAAA,GAAA;YAAA,qBAAA,KAAmC;QAAA;QACnD,OAAO,IAAI,2NAA0B,CACnC,IAAI,CAAC,8BAA8B,EAAE,EACrC,IAAI,CAAC,KAAK,EACV,kBAAkB,CACnB,CAAA;IACH,CAAC;IAED,mBAAA,SAAA,CAAA,mBAAmB,GAAnB;QACE,OAAO,IAAI,gOAA6B,CACtC,IAAI,CAAC,8BAA8B,EAAE,EACrC,IAAI,CAAC,KAAK,CACX,CAAA;IACH,CAAC;IAED,mBAAA,SAAA,CAAA,gBAAgB,GAAhB;QACE,OAAO,IAAI,0NAA0B,CACnC,IAAI,CAAC,8BAA8B,EAAE,EACrC,IAAI,CAAC,KAAK,CACX,CAAA;IACH,CAAC;IACH,OAAA,kBAAC;AAAD,CAAC,AA1DD,CAAwC,mBAAmB,GA0D1D;;AAED,IAAA,uBAAA,SAAA,MAAA;IAA0C,0LAAA,CAAA,sBAAA,QAA8C;IAAxF,SAAA;;IAyCA,CAAC;IAvCc,qBAAA,SAAA,CAAA,GAAG,GAAhB;;;;;;wBACyB,OAAA;4BAAA,EAAA,OAAA;4BAAM,IAAI,kBAAkB,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC;yBAAA,CAAA;;wBAAvE,cAAc,GAAG,GAAA,IAAA,EAAsD;wBACzE,6BAA6B,GAAG,cAAc,CAAC,CAAC,CAAC,CAAC;wBACtD,cAAc,CAAC,OAAO,CAAC,SAAA,aAAa;4BAClC,IAAI,aAAa,CAAC,KAAK,GAAG,6BAA6B,CAAC,KAAK,EAAE;gCAC7D,6BAA6B,GAAG,aAAa,CAAC;6BAC/C;wBACH,CAAC,CAAC,CAAC;wBACH,OAAA;4BAAA,EAAA,QAAA;4BAAO,6BAA6B;yBAAA,CAAC;;;;KACtC;IAEO,qBAAA,SAAA,CAAA,6BAA6B,GAArC;QAAA,IAAA,QAAA,IAAA,CAKC;QAJC,OAAO,IAAI,OAAO,CAAwB,SAAM,GAAG;YAAA,OAAA,0LAAA,CAAA,OAAA,KAAA,GAAA,KAAA,GAAA;;;;;4BAC/B,OAAA;gCAAA,EAAA,OAAA;gCAAM,IAAI,CAAC,GAAG,EAAE;6BAAA,CAAA;;4BAA5B,SAAS,GAAG,GAAA,IAAA,EAAgB;4BAClC,OAAA;gCAAA,EAAA,QAAA;gCAAO,GAAG,CAAC,SAAS,CAAC,CAAC,KAAC,iNAAuB,EAAK,CAAA,CAAE,EAAE,SAAS,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;6BAAA,CAAA;;;;SAC/E,CAAC,CAAA;IACJ,CAAC;IAED,qBAAA,SAAA,CAAA,iBAAiB,GAAjB,SAAkB,kBAAmC;QAAnC,IAAA,uBAAA,KAAA,GAAA;YAAA,qBAAA,KAAmC;QAAA;QACnD,OAAO,IAAI,8NAA6B,CACtC,IAAI,CAAC,6BAA6B,EAAE,EACpC,IAAI,CAAC,KAAK,EACV,kBAAkB,CACnB,CAAA;IACH,CAAC;IAED,qBAAA,SAAA,CAAA,mBAAmB,GAAnB;QACE,OAAO,IAAI,mOAAgC,CACzC,IAAI,CAAC,6BAA6B,EAAE,EACpC,IAAI,CAAC,KAAK,CACX,CAAA;IACH,CAAC;IAED,qBAAA,SAAA,CAAA,gBAAgB,GAAhB;QACE,OAAO,IAAI,6NAA6B,CACtC,IAAI,CAAC,6BAA6B,EAAE,EACpC,IAAI,CAAC,KAAK,CACX,CAAA;IACH,CAAC;IACH,OAAA,oBAAC;AAAD,CAAC,AAzCD,CAA0C,mBAAmB,GAyC5D"}},
    {"offset": {"line": 6816, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/globalApi/detectFaces.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/globalApi/detectFaces.ts"],"sourcesContent":["import { TNetInput } from 'tfjs-image-recognition-base';\r\n\r\nimport { SsdMobilenetv1Options } from '../ssdMobilenetv1/SsdMobilenetv1Options';\r\nimport { DetectAllFacesTask, DetectSingleFaceTask } from './DetectFacesTasks';\r\nimport { FaceDetectionOptions } from './types';\r\n\r\nexport function detectSingleFace(\r\n  input: TNetInput,\r\n  options: FaceDetectionOptions = new SsdMobilenetv1Options()\r\n): DetectSingleFaceTask {\r\n  return new DetectSingleFaceTask(input, options)\r\n}\r\n\r\nexport function detectAllFaces(\r\n  input: TNetInput,\r\n  options: FaceDetectionOptions = new SsdMobilenetv1Options()\r\n): DetectAllFacesTask {\r\n  return new DetectAllFacesTask(input, options)\r\n}"],"names":[],"mappings":";;;;;;AAEA,OAAO,EAAE,qBAAqB,EAAE,MAAM,yCAAyC,CAAC;AAChF,OAAO,EAAE,kBAAkB,EAAE,oBAAoB,EAAE,MAAM,oBAAoB,CAAC;;;AAGxE,SAAU,gBAAgB,CAC9B,KAAgB,EAChB,OAA2D;IAA3D,IAAA,YAAA,KAAA,GAAA;QAAA,UAAA,IAAoC,wNAAqB,EAAE;IAAA;IAE3D,OAAO,IAAI,6MAAoB,CAAC,KAAK,EAAE,OAAO,CAAC,CAAA;AACjD,CAAC;AAEK,SAAU,cAAc,CAC5B,KAAgB,EAChB,OAA2D;IAA3D,IAAA,YAAA,KAAA,GAAA;QAAA,UAAA,IAAoC,wNAAqB,EAAE;IAAA;IAE3D,OAAO,IAAI,2MAAkB,CAAC,KAAK,EAAE,OAAO,CAAC,CAAA;AAC/C,CAAC"}},
    {"offset": {"line": 6842, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/globalApi/allFaces.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/globalApi/allFaces.ts"],"sourcesContent":["import { TfjsImageRecognitionBase, TNetInput } from 'tfjs-image-recognition-base';\r\n\r\nimport { WithFaceDescriptor, WithFaceDetection, WithFaceLandmarks } from '../factories';\r\nimport { IMtcnnOptions, MtcnnOptions } from '../mtcnn/MtcnnOptions';\r\nimport { SsdMobilenetv1Options } from '../ssdMobilenetv1';\r\nimport { detectAllFaces } from './detectFaces';\r\n\r\n// export allFaces API for backward compatibility\r\n\r\nexport async function allFacesSsdMobilenetv1(\r\n  input: TNetInput,\r\n  minConfidence?: number\r\n): Promise<WithFaceDescriptor<WithFaceLandmarks<WithFaceDetection<{}>>>[]> {\r\n  return await detectAllFaces(input, new SsdMobilenetv1Options(minConfidence ? { minConfidence } : {}))\r\n    .withFaceLandmarks()\r\n    .withFaceDescriptors()\r\n}\r\n\r\nexport async function allFacesTinyYolov2(\r\n  input: TNetInput,\r\n  forwardParams: TfjsImageRecognitionBase.ITinyYolov2Options = {}\r\n): Promise<WithFaceDescriptor<WithFaceLandmarks<WithFaceDetection<{}>>>[]> {\r\n  return await detectAllFaces(input, new TfjsImageRecognitionBase.TinyYolov2Options(forwardParams))\r\n    .withFaceLandmarks()\r\n    .withFaceDescriptors()\r\n}\r\n\r\nexport async function allFacesMtcnn(\r\n  input: TNetInput,\r\n  forwardParams: IMtcnnOptions = {}\r\n): Promise<WithFaceDescriptor<WithFaceLandmarks<WithFaceDetection<{}>>>[]> {\r\n  return await detectAllFaces(input, new MtcnnOptions(forwardParams))\r\n    .withFaceLandmarks()\r\n    .withFaceDescriptors()\r\n}\r\n\r\nexport const allFaces = allFacesSsdMobilenetv1\r\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA,OAAO,EAAE,wBAAwB,EAAa,MAAM,6BAA6B,CAAC;AAGlF,OAAO,EAAiB,YAAY,EAAE,MAAM,uBAAuB,CAAC;;AACpE,OAAO,EAAE,qBAAqB,EAAE,MAAM,mBAAmB,CAAC;AAC1D,OAAO,EAAE,cAAc,EAAE,MAAM,eAAe,CAAC;;;;;;AAIzC,SAAgB,sBAAsB,CAC1C,KAAgB,EAChB,aAAsB;;;;;oBAEf,OAAA;wBAAA,EAAA,OAAA;4BAAM,kMAAc,EAAC,KAAK,EAAE,IAAI,wNAAqB,CAAC,aAAa,CAAC,CAAC,CAAC;4BAAE,aAAa,EAAA,aAAA;wBAAA,CAAE,CAAC,CAAC,CAAC,CAAA,CAAE,CAAC,CAAC,CAClG,iBAAiB,EAAE,CACnB,mBAAmB,EAAE;qBAAA,CAAA;;oBAFxB,OAAA;wBAAA,EAAA,QAAA;wBAAO,GAAA,IAAA,EAEiB;qBAAA,CAAA;;;;CACzB;AAEK,SAAgB,kBAAkB,CACtC,KAAgB,EAChB,aAA+D;IAA/D,IAAA,kBAAA,KAAA,GAAA;QAAA,gBAAA,CAAA,CAA+D;IAAA;;;;;oBAExD,OAAA;wBAAA,EAAA,OAAA;4BAAM,kMAAc,EAAC,KAAK,EAAE,IAAI,mRAAwB,CAAC,iBAAiB,CAAC,aAAa,CAAC,CAAC,CAC9F,iBAAiB,EAAE,CACnB,mBAAmB,EAAE;qBAAA,CAAA;;oBAFxB,OAAA;wBAAA,EAAA,QAAA;wBAAO,GAAA,IAAA,EAEiB;qBAAA,CAAA;;;;CACzB;AAEK,SAAgB,aAAa,CACjC,KAAgB,EAChB,aAAiC;IAAjC,IAAA,kBAAA,KAAA,GAAA;QAAA,gBAAA,CAAA,CAAiC;IAAA;;;;;oBAE1B,OAAA;wBAAA,EAAA,OAAA;4BAAM,kMAAc,EAAC,KAAK,EAAE,IAAI,6LAAY,CAAC,aAAa,CAAC,CAAC,CAChE,iBAAiB,EAAE,CACnB,mBAAmB,EAAE;qBAAA,CAAA;;oBAFxB,OAAA;wBAAA,EAAA,QAAA;wBAAO,GAAA,IAAA,EAEiB;qBAAA,CAAA;;;;CACzB;AAEM,IAAM,QAAQ,GAAG,sBAAsB,CAAA"}},
    {"offset": {"line": 6931, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/euclideanDistance.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/euclideanDistance.ts"],"sourcesContent":["export function euclideanDistance(arr1: number[] | Float32Array, arr2: number[] | Float32Array) {\r\n  if (arr1.length !== arr2.length)\r\n    throw new Error('euclideanDistance: arr1.length !== arr2.length')\r\n\r\n  const desc1 = Array.from(arr1)\r\n  const desc2 = Array.from(arr2)\r\n\r\n  return Math.sqrt(\r\n    desc1\r\n      .map((val, i) => val - desc2[i])\r\n      .reduce((res, diff) => res + Math.pow(diff, 2), 0)\r\n  )\r\n}"],"names":[],"mappings":";;;;AAAM,SAAU,iBAAiB,CAAC,IAA6B,EAAE,IAA6B;IAC5F,IAAI,IAAI,CAAC,MAAM,KAAK,IAAI,CAAC,MAAM,EAC7B,MAAM,IAAI,KAAK,CAAC,gDAAgD,CAAC,CAAA;IAEnE,IAAM,KAAK,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;IAC9B,IAAM,KAAK,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;IAE9B,OAAO,IAAI,CAAC,IAAI,CACd,KAAK,CACF,GAAG,CAAC,SAAC,GAAG,EAAE,CAAC;QAAK,OAAA,GAAG,GAAG,KAAK,CAAC,CAAC,CAAC;IAAd,CAAc,CAAC,CAC/B,MAAM,CAAC,SAAC,GAAG,EAAE,IAAI;QAAK,OAAA,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC,CAAC;IAAvB,CAAuB,EAAE,CAAC,CAAC,CACrD,CAAA;AACH,CAAC"}},
    {"offset": {"line": 6949, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/globalApi/FaceMatcher.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/globalApi/FaceMatcher.ts"],"sourcesContent":["import { FaceMatch } from '../classes/FaceMatch';\r\nimport { LabeledFaceDescriptors } from '../classes/LabeledFaceDescriptors';\r\nimport { euclideanDistance } from '../euclideanDistance';\r\nimport { WithFaceDescriptor } from '../factories';\r\n\r\nexport class FaceMatcher {\r\n\r\n  private _labeledDescriptors: LabeledFaceDescriptors[]\r\n  private _distanceThreshold: number\r\n\r\n  constructor(\r\n    inputs: LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array | Array<LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array>,\r\n    distanceThreshold: number = 0.6\r\n  ) {\r\n\r\n    this._distanceThreshold = distanceThreshold\r\n\r\n    const inputArray = Array.isArray(inputs) ? inputs : [inputs]\r\n\r\n    if (!inputArray.length) {\r\n      throw new Error(`FaceRecognizer.constructor - expected atleast one input`)\r\n    }\r\n\r\n    let count = 1\r\n    const createUniqueLabel = () => `person ${count++}`\r\n\r\n    this._labeledDescriptors = inputArray.map((desc) => {\r\n      if (desc instanceof LabeledFaceDescriptors) {\r\n        return desc\r\n      }\r\n\r\n      if (desc instanceof Float32Array) {\r\n        return new LabeledFaceDescriptors(createUniqueLabel(), [desc])\r\n      }\r\n\r\n      if (desc.descriptor && desc.descriptor instanceof Float32Array) {\r\n        return new LabeledFaceDescriptors(createUniqueLabel(), [desc.descriptor])\r\n      }\r\n\r\n      throw new Error(`FaceRecognizer.constructor - expected inputs to be of type LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array | Array<LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array>`)\r\n    })\r\n  }\r\n\r\n  public get labeledDescriptors(): LabeledFaceDescriptors[] { return this._labeledDescriptors }\r\n  public get distanceThreshold(): number { return this._distanceThreshold }\r\n\r\n  public computeMeanDistance(queryDescriptor: Float32Array, descriptors: Float32Array[]): number {\r\n    return descriptors\r\n      .map(d => euclideanDistance(d, queryDescriptor))\r\n      .reduce((d1, d2) => d1 + d2, 0)\r\n        / (descriptors.length || 1)\r\n  }\r\n\r\n  public matchDescriptor(queryDescriptor: Float32Array): FaceMatch {\r\n    return this.labeledDescriptors\r\n      .map(({ descriptors, label }) => new FaceMatch(\r\n          label,\r\n          this.computeMeanDistance(queryDescriptor, descriptors)\r\n      ))\r\n      .reduce((best, curr) => best.distance < curr.distance ? best : curr)\r\n  }\r\n\r\n  public findBestMatch(queryDescriptor: Float32Array): FaceMatch {\r\n    const bestMatch = this.matchDescriptor(queryDescriptor)\r\n    return bestMatch.distance < this.distanceThreshold\r\n      ? bestMatch\r\n      : new FaceMatch('unknown', bestMatch.distance)\r\n  }\r\n\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 7034, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/globalApi/index.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/globalApi/index.ts"],"sourcesContent":["export * from './allFaces'\r\nexport * from './ComposableTask'\r\nexport * from './ComputeFaceDescriptorsTasks'\r\nexport * from './detectFaces'\r\nexport * from './DetectFacesTasks'\r\nexport * from './DetectFaceLandmarksTasks'\r\nexport * from './FaceMatcher'\r\nexport * from './nets'\r\nexport * from './types'\r\n\r\n"],"names":[],"mappings":";AAAA,cAAc,YAAY,CAAA;AAC1B,cAAc,kBAAkB,CAAA;AAChC,cAAc,+BAA+B,CAAA;AAC7C,cAAc,eAAe,CAAA;AAC7B,cAAc,oBAAoB,CAAA;AAClC,cAAc,4BAA4B,CAAA;AAC1C,cAAc,eAAe,CAAA;AAC7B,cAAc,QAAQ,CAAA"}},
    {"offset": {"line": 7055, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/mtcnn/index.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/mtcnn/index.ts"],"sourcesContent":["import { Mtcnn } from './Mtcnn';\r\n\r\nexport * from './Mtcnn';\r\nexport * from './MtcnnOptions';\r\n\r\nexport function createMtcnn(weights: Float32Array) {\r\n  const net = new Mtcnn()\r\n  net.extractWeights(weights)\r\n  return net\r\n}"],"names":[],"mappings":";;;;AAAA,OAAO,EAAE,KAAK,EAAE,MAAM,SAAS,CAAC;AAGhC,cAAc,gBAAgB,CAAC;;;;AAEzB,SAAU,WAAW,CAAC,OAAqB;IAC/C,IAAM,GAAG,GAAG,IAAI,+KAAK,EAAE,CAAA;IACvB,GAAG,CAAC,cAAc,CAAC,OAAO,CAAC,CAAA;IAC3B,OAAO,GAAG,CAAA;AACZ,CAAC"}},
    {"offset": {"line": 7073, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/tinyFaceDetector/index.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/tinyFaceDetector/index.ts"],"sourcesContent":["import { TinyFaceDetector } from './TinyFaceDetector';\r\n\r\nexport * from './TinyFaceDetector';\r\nexport * from './TinyFaceDetectorOptions';\r\n\r\nexport function createTinyFaceDetector(weights: Float32Array) {\r\n  const net = new TinyFaceDetector()\r\n  net.extractWeights(weights)\r\n  return net\r\n}"],"names":[],"mappings":";;;;AAAA,OAAO,EAAE,gBAAgB,EAAE,MAAM,oBAAoB,CAAC;AAGtD,cAAc,2BAA2B,CAAC;;;;AAEpC,SAAU,sBAAsB,CAAC,OAAqB;IAC1D,IAAM,GAAG,GAAG,IAAI,gNAAgB,EAAE,CAAA;IAClC,GAAG,CAAC,cAAc,CAAC,OAAO,CAAC,CAAA;IAC3B,OAAO,GAAG,CAAA;AACZ,CAAC"}},
    {"offset": {"line": 7091, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/resizeResults.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/resizeResults.ts"],"sourcesContent":["import { Dimensions, IDimensions } from 'tfjs-image-recognition-base';\r\n\r\nimport { FaceDetection } from './classes/FaceDetection';\r\nimport { FaceLandmarks } from './classes/FaceLandmarks';\r\nimport { extendWithFaceDetection, isWithFaceDetection } from './factories/WithFaceDetection';\r\nimport { extendWithFaceLandmarks, isWithFaceLandmarks } from './factories/WithFaceLandmarks';\r\n\r\nexport function resizeResults<T>(results: T, dimensions: IDimensions): T {\r\n\r\n  const { width, height } = new Dimensions(dimensions.width, dimensions.height)\r\n\r\n  if (width <= 0 || height <= 0) {\r\n    throw new Error(`resizeResults - invalid dimensions: ${JSON.stringify({ width, height })}`)\r\n  }\r\n\r\n  if (Array.isArray(results)) {\r\n    return results.map(obj => resizeResults(obj, { width, height })) as any as T\r\n  }\r\n\r\n  if (isWithFaceLandmarks(results)) {\r\n    const resizedDetection = results.detection.forSize(width, height)\r\n    const resizedLandmarks = results.unshiftedLandmarks.forSize(resizedDetection.box.width, resizedDetection.box.height)\r\n\r\n    return extendWithFaceLandmarks(extendWithFaceDetection(results, resizedDetection), resizedLandmarks)\r\n  }\r\n\r\n  if (isWithFaceDetection(results)) {\r\n    return extendWithFaceDetection(results, results.detection.forSize(width, height))\r\n  }\r\n\r\n  if (results instanceof FaceLandmarks || results instanceof FaceDetection) {\r\n    return (results as any).forSize(width, height)\r\n  }\r\n\r\n  return results\r\n}"],"names":[],"mappings":";;;;;AAAA,OAAO,EAAE,UAAU,EAAe,MAAM,6BAA6B,CAAC;AAEtE,OAAO,EAAE,aAAa,EAAE,MAAM,yBAAyB,CAAC;AACxD,OAAO,EAAE,aAAa,EAAE,MAAM,yBAAyB,CAAC;AACxD,OAAO,EAAE,uBAAuB,EAAE,mBAAmB,EAAE,MAAM,+BAA+B,CAAC;AAC7F,OAAO,EAAE,uBAAuB,EAAE,mBAAmB,EAAE,MAAM,+BAA+B,CAAC;;;;;;AAEvF,SAAU,aAAa,CAAI,OAAU,EAAE,UAAuB;IAE5D,IAAA,KAAA,IAAA,8MAAA,CAAA,WAAA,KAAA,EAAA,WAAA,MAAA,CAAuE,EAArE,QAAA,GAAA,KAAK,EAAE,SAAA,GAAA,MAA8D,CAAA;IAE7E,IAAI,KAAK,IAAI,CAAC,IAAI,MAAM,IAAI,CAAC,EAAE;QAC7B,MAAM,IAAI,KAAK,CAAC,yCAAuC,IAAI,CAAC,SAAS,CAAC;YAAE,KAAK,EAAA,KAAA;YAAE,MAAM,EAAA,MAAA;QAAA,CAAE,CAAG,CAAC,CAAA;KAC5F;IAED,IAAI,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE;QAC1B,OAAO,OAAO,CAAC,GAAG,CAAC,SAAA,GAAG;YAAI,OAAA,aAAa,CAAC,GAAG,EAAE;gBAAE,KAAK,EAAA,KAAA;gBAAE,MAAM,EAAA,MAAA;YAAA,CAAE,CAAC;QAArC,CAAqC,CAAa,CAAA;KAC7E;IAED,QAAI,6MAAmB,EAAC,OAAO,CAAC,EAAE;QAChC,IAAM,gBAAgB,GAAG,OAAO,CAAC,SAAS,CAAC,OAAO,CAAC,KAAK,EAAE,MAAM,CAAC,CAAA;QACjE,IAAM,gBAAgB,GAAG,OAAO,CAAC,kBAAkB,CAAC,OAAO,CAAC,gBAAgB,CAAC,GAAG,CAAC,KAAK,EAAE,gBAAgB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAA;QAEpH,WAAO,iNAAuB,MAAC,iNAAuB,EAAC,OAAO,EAAE,gBAAgB,CAAC,EAAE,gBAAgB,CAAC,CAAA;KACrG;IAED,QAAI,6MAAmB,EAAC,OAAO,CAAC,EAAE;QAChC,WAAO,iNAAuB,EAAC,OAAO,EAAE,OAAO,CAAC,SAAS,CAAC,OAAO,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC,CAAA;KAClF;IAED,IAAI,OAAO,YAAY,iMAAa,IAAI,OAAO,YAAY,iMAAa,EAAE;QACxE,OAAQ,OAAe,CAAC,OAAO,CAAC,KAAK,EAAE,MAAM,CAAC,CAAA;KAC/C;IAED,OAAO,OAAO,CAAA;AAChB,CAAC"}},
    {"offset": {"line": 7139, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/face-api.js/build/es6/index.js","sources":["file:///C:/Users/Asus/OneDrive/Desktop/viajando-con-ia-web/node_modules/face-api.js/src/index.ts"],"sourcesContent":["import * as tf from '@tensorflow/tfjs-core';\r\nimport { draw as drawBase } from 'tfjs-image-recognition-base';\r\n\r\nimport * as drawExtended from './draw';\r\n\r\nexport {\r\n  tf\r\n}\r\n\r\nexport * from 'tfjs-image-recognition-base';\r\n\r\nexport * from './ageGenderNet/index';\r\nconst draw = {...drawBase, ...drawExtended }\r\nexport { draw }\r\n\r\nexport * from './classes/index';\r\nexport * from './dom/index'\r\nexport * from './faceExpressionNet/index';\r\nexport * from './faceLandmarkNet/index';\r\nexport * from './faceRecognitionNet/index';\r\nexport * from './factories/index';\r\nexport * from './globalApi/index';\r\nexport * from './mtcnn/index';\r\nexport * from './ssdMobilenetv1/index';\r\nexport * from './tinyFaceDetector/index';\r\nexport * from './tinyYolov2/index';\r\n\r\nexport * from './euclideanDistance';\r\nexport * from './resizeResults';"],"names":[],"mappings":";;;;;AAAA,OAAO,KAAK,EAAE,MAAM,uBAAuB,CAAC;;AAC5C,OAAO,EAAE,IAAI,IAAI,QAAQ,EAAE,MAAM,6BAA6B,CAAC;;AAE/D,OAAO,KAAK,YAAY,MAAM,QAAQ,CAAC;AAQvC,cAAc,sBAAsB,CAAC;AAIrC,cAAc,iBAAiB,CAAC;AAChC,cAAc,aAAa,CAAA;AAC3B,cAAc,2BAA2B,CAAC;AAC1C,cAAc,yBAAyB,CAAC;AACxC,cAAc,4BAA4B,CAAC;AAC3C,cAAc,mBAAmB,CAAC;AAClC,cAAc,mBAAmB,CAAC;AAClC,cAAc,eAAe,CAAC;AAC9B,cAAc,wBAAwB,CAAC;AACvC,cAAc,0BAA0B,CAAC;AACzC,cAAc,oBAAoB,CAAC;AAEnC,cAAc,qBAAqB,CAAC;AACpC,cAAc,iBAAiB,CAAC;;;;;;;;AAhBhC,IAAM,IAAI,GAAA,yLAAA,CAAA,CAAA,GAAO,gOAAQ,EAAK,YAAY,CAAE,CAAA"}}]
}